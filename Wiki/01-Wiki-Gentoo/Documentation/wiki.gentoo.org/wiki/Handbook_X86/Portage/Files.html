<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:X86/Portage/Files by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Handbook:X86/Portage/Files - Gentoo Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"Handbook","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":560,"wgPageName":"Handbook:X86/Portage/Files","wgTitle":"X86/Portage/Files","wgCurRevisionId":182108,"wgRevisionId":182108,"wgArticleId":67546,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Handbook:X86/Portage/Files","wgRelevantArticleId":67546,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],"sfgAutocompleteOnAllChars":!1,
"sfgFieldProperties":[],"sfgCargoFields":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/extensions/SemanticForms","edgValues":null,"sfgEDSettings":null,"wgWikiEditorEnabledModules":{"toolbar":!0,"dialogs":!0,"preview":!0,"publish":!1},"wgULSAcceptLanguageList":["en-us","en"],"wgULSCurrentAutonym":"English","wgTranslatePageTranslation":"source"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["ext.smw.style","ext.translate","mediawiki.page.startup","mediawiki.legacy.wikibits","ext.uls.init"]);
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cext.uls.nojs%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.tyrian.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.smw.style%7Cext.smw.tooltip.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.css" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/tyrian.min.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=tyrian" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=tyrian"></script>
<meta name="generator" content="MediaWiki 1.26.2-gentoo" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<link rel="ExportRDF" type="application/rdf+xml" title="Handbook:X86/Portage/Files" href="https://wiki.gentoo.org/index.php?title=Special:ExportRDF/Handbook:X86/Portage/Files&amp;xmlmime=rdf" />
<link rel="shortcut icon" href="https://wiki.gentoo.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.gentoo.org/opensearch_desc.php" title="Gentoo Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.gentoo.org/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Gentoo Wiki Atom feed" href="https://wiki.gentoo.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-560 ns-subject page-Handbook_X86_Portage_Files skin-tyrian action-view">
	<div class="mw-jump sr-only">
		Jump to:		<a href="#top">content</a>
	</div>
	<header>
		<div class="site-title">
			<div class="container">
				<div class="row">
					<div class="site-title-buttons">
						<div class="btn-group btn-group-sm">
							<a href="https://get.gentoo.org/" role="button" class="btn get-gentoo"><span class="fa fa-fw fa-download"></span> <strong>Get Gentoo!</strong></a>
							<div class="btn-group btn-group-sm">
								<a class="btn gentoo-org-sites dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">
									<span class="fa fa-fw fa-map-o"></span> <span class="hidden-xs">gentoo.org sites</span> <span class="caret"></span>
								</a>
								<ul class="dropdown-menu dropdown-menu-right">
									<li><a href="https://www.gentoo.org/" title="Main Gentoo website"><span class="fa fa-home fa-fw"></span> gentoo.org</a></li>
									<li><a href="https://wiki.gentoo.org/" title="Find and contribute documentation"><span class="fa fa-file-text-o fa-fw"></span> Wiki</a></li>
									<li><a href="https://bugs.gentoo.org/" title="Report issues and find common issues"><span class="fa fa-bug fa-fw"></span> Bugs</a></li>
									<li><a href="https://forums.gentoo.org/" title="Discuss with the community"><span class="fa fa-comments-o fa-fw"></span> Forums</a></li>
									<li><a href="https://packages.gentoo.org/" title="Find software for your Gentoo"><span class="fa fa-hdd-o fa-fw"></span> Packages</a></li>
									<li class="divider"></li>
									<li><a href="https://planet.gentoo.org/" title="Find out what's going on in the developer community"><span class="fa fa-rss fa-fw"></span> Planet</a></li>
									<li><a href="https://archives.gentoo.org/" title="Read up on past discussions"><span class="fa fa-archive fa-fw"></span> Archives</a></li>
									<li><a href="https://sources.gentoo.org/" title="Browse our source code"><span class="fa fa-code fa-fw"></span> Sources</a></li>
									<li class="divider"></li>
									<li><a href="https://infra-status.gentoo.org/" title="Get updates on the services provided by Gentoo"><span class="fa fa-server fa-fw"></span> Infra Status</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="logo">
						<a href="https://wiki.gentoo.org/" title="Back to the homepage" class="site-logo"><object data="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.svg" type="image/svg+xml">
							<img src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.png" alt="Gentoo Linux Logo">
						</object></a>
						<span class="site-label">Wiki</span>
					</div>
				</div>
			</div>
		</div>
		<nav class="tyrian-navbar" role="navigation">
			<div class="container">
				<div class="row">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse navbar-main-collapse">
						<ul class="nav navbar-nav">
							<li id="n-mainpage-description"><a href="../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-help"><a href="../../Special_MyLanguage/Help_Contents.html" title="The place to find out">Help</a></li>			<li class="dropdown">
				<a href="../../Gentoo_Wiki_Menu-Gentoo.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Gentoo <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Projects"><a href="../../Project_Gentoo.html">Gentoo Projects</a></li>				</ul>
			</li>
					<li class="dropdown">
				<a href="../../Gentoo_Wiki_Menu-Documentation.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Handbook"><a href="../../Handbook_Main_Page.html">Gentoo Handbook</a></li><li id="n-Gentoo-FAQ"><a href="../../FAQ.html">Gentoo FAQ</a></li><li id="n-Featured-Documents"><a href="../../Project_Documentation/Overview.html">Featured Documents</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Topics</li><li id="n-Core-system"><a href="../../Category_Core_system.html">Core system</a></li><li id="n-Hardware"><a href="../../Category_Hardware.html">Hardware</a></li><li id="n-Software"><a href="../../Category_Software.html">Software</a></li><li id="n-Desktop"><a href="../../Category_Desktop.html">Desktop</a></li><li id="n-Server-.26-Security"><a href="../../Category_Server_and_Security.html">Server &amp; Security</a></li><li id="n-Project-.26-Community"><a href="../../Category_Project_and_Community.html">Project &amp; Community</a></li>				</ul>
			</li>
								</ul>
						<ul class="nav navbar-nav navbar-right hidden-xs">
									<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cog"></i> Tools <span class="caret"></span></a>
			<ul class="dropdown-menu" role="menu">
				<li id="t-whatlinkshere"><a href="../../Special_WhatLinksHere/Handbook_X86/Portage/Files.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../../Special_RecentChangesLinked/Handbook_X86/Portage/Files.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Portage/Files&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Portage/Files&amp;oldid=182108" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Portage/Files&amp;action=info" title="More information about this page">Page information</a></li><li id="t-smwbrowselink"><a href="../../Special_Browse/Handbook_X86-2FPortage-2FFiles.html" rel="smw-browse">Browse properties</a></li>			</ul>
		</li>
			<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
				<span class="glyphicon glyphicon-user" aria-label="Personal tools"></span>
				User				<span class="caret"></span>
			</a>
			<ul class="dropdown-menu" role="menu">
				<li id="pt-createaccount"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AX86%2FPortage%2FFiles&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AX86%2FPortage%2FFiles" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>			</ul>
		</li>
								</ul>
					</div>
				</div>
			</div>
		</nav>
		
		<nav class="navbar navbar-grey navbar-stick" id="wiki-actions" role="navigation">
			<div class="container"><div class="row">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#gw-toolbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<div class="collapse navbar-collapse" id="gw-toolbar">
					<ul class="nav navbar-nav">
					<li id="ca-nstab-handbook" class="selected active"><a href="Files.html">Handbook</a></li><li id="ca-talk" class="new"><a href="https://wiki.gentoo.org/index.php?title=Handbook_Talk:X86/Portage/Files&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>					</ul>
							<form action="https://wiki.gentoo.org/index.php" id="searchform" class="navbar-form navbar-right" role="search">
			<input type='hidden' name="title" value="Special:Search"/>

				<div class="input-group">
					<input type="search" name="search" placeholder="Search" title="Search Gentoo Wiki [f]" accesskey="f" id="searchInput" class="form-control" />					<div class="input-group-btn"><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton btn btn-default" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton btn btn-default" /></div>
				</div>
		</form>
						<ul class="nav navbar-nav navbar-right hidden-xs">
					<li id="ca-viewsource"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Portage/Files&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">more <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
					<li id="ca-history"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Portage/Files&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>							</ul>
						</li>
					</ul>
				</div>
			</div></div>
		</nav>
		</header>
	
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div id="content" class="mw-body" role="main">
						<a id="top"></a>
						
						<h1 id="firstHeading" class="first-header" lang="en">
							<span dir="auto">Handbook:X86/Portage/Files</span>
						</h1>

						<div id="bodyContent" class="mw-body-content">
							<div id="siteSub">From Gentoo Wiki</div>
							<div id="contentSub">
								<span class="subpages"><a href="../../Special_MyLanguage/Handbook_X86.html" title="Special:MyLanguage/Handbook:X86">Handbook:X86</a></span>							</div>
																					<div id="jump-to-nav" class="mw-jump">
								Jump to:								<a href="#column-one">navigation</a>, 								<a href="#searchInput">search</a>
							</div>

							<!-- start content -->
							<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="Files/de.html" title="Handbuch:X86/Portage/Dateien (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">English</span> • ‎<a href="Files/es.html" title="Manual de Gentoo: X86/Portage/Archivos (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="Files/ja.html" title="ハンドブック:X86/Portage/ファイル (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="Files/ko.html" title="Handbook:X86/Portage/Files/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="Files/ru.html" title="Handbook:X86/Portage/Files (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="Files/zh-cn.html" title="手册：X86/使用Portage/文件和目录 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <strong class="selflink">Files and directories</strong>
</td></tr>
<tr>
<td> <a href="Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Portage_files"><span class="tocnumber">1</span> <span class="toctext">Portage files</span></a>
<ul>
<li class="toclevel-2"><a href="#Configuration_directives"><span class="tocnumber">1.1</span> <span class="toctext">Configuration directives</span></a></li>
<li class="toclevel-2"><a href="#Profile-specific_information"><span class="tocnumber">1.2</span> <span class="toctext">Profile-specific information</span></a></li>
<li class="toclevel-2"><a href="#User-specific_configuration"><span class="tocnumber">1.3</span> <span class="toctext">User-specific configuration</span></a></li>
<li class="toclevel-2"><a href="#Changing_Portage_file_and_directory_locations"><span class="tocnumber">1.4</span> <span class="toctext">Changing Portage file and directory locations</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Storing_files"><span class="tocnumber">2</span> <span class="toctext">Storing files</span></a>
<ul>
<li class="toclevel-2"><a href="#Portage_tree"><span class="tocnumber">2.1</span> <span class="toctext">Portage tree</span></a></li>
<li class="toclevel-2"><a href="#Prebuilt_binaries"><span class="tocnumber">2.2</span> <span class="toctext">Prebuilt binaries</span></a></li>
<li class="toclevel-2"><a href="#Source_code"><span class="tocnumber">2.3</span> <span class="toctext">Source code</span></a></li>
<li class="toclevel-2"><a href="#Portage_database"><span class="tocnumber">2.4</span> <span class="toctext">Portage database</span></a></li>
<li class="toclevel-2"><a href="#Portage_cache"><span class="tocnumber">2.5</span> <span class="toctext">Portage cache</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Building_software"><span class="tocnumber">3</span> <span class="toctext">Building software</span></a>
<ul>
<li class="toclevel-2"><a href="#Temporary_portage_files"><span class="tocnumber">3.1</span> <span class="toctext">Temporary portage files</span></a></li>
<li class="toclevel-2"><a href="#Building_directory"><span class="tocnumber">3.2</span> <span class="toctext">Building directory</span></a></li>
<li class="toclevel-2"><a href="#Live_filesystem_location"><span class="tocnumber">3.3</span> <span class="toctext">Live filesystem location</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Logging_features"><span class="tocnumber">4</span> <span class="toctext">Logging features</span></a>
<ul>
<li class="toclevel-2"><a href="#Ebuild_logging"><span class="tocnumber">4.1</span> <span class="toctext">Ebuild logging</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Portage_files">Portage files</span></h2>
<h3><span class="mw-headline" id="Configuration_directives">Configuration directives</span></h3>
<p>Portage comes with a default configuration stored in <span style="font-family: monospace; font-size: 95%">/usr/share/portage/config/make.globals</span>. All Portage configuration is handled through variables. What variables portage listens to and what they mean are described later.
</p><p>Since many configuration directives differ between architectures, Portage also has default configuration files which are part of the system profile. This profile is pointed to by the <span style="font-family: monospace; font-size: 95%">/etc/portage/make.profile</span> symlink; Portage' configurations are set in the <span style="font-family: monospace; font-size: 95%">make.defaults</span> files of the profile and all parent profiles. We'll explain more about profiles and the <span style="font-family: monospace; font-size: 95%">/etc/portage/make.profile</span> directory later on.
</p><p>When changing a configuration variable, do not alter <span style="font-family: monospace; font-size: 95%">/usr/share/portage/config/make.globals</span> or <span style="font-family: monospace; font-size: 95%">make.defaults</span>. Instead use <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> which has precedence over the previous files. For more information, read the <span style="font-family: monospace; font-size: 95%">/usr/share/portage/config/make.conf.example</span>. As the name implies, this is merely an example file - Portage does not read in this file.
</p><p>It is also possible to define a Portage configuration variable as an environment variable, but we don't recommend this.
</p>
<h3><span class="mw-headline" id="Profile-specific_information">Profile-specific information</span></h3>
<p>We've already encountered the <span style="font-family: monospace; font-size: 95%">/etc/portage/make.profile</span> directory. Well, this is not exactly a directory but a symbolic link to a profile, by default one inside <span style="font-family: monospace; font-size: 95%">/usr/portage/profiles/</span> although one can create their own profiles elsewhere and point to them. The profile this symlink points to is the profile to which the system adheres.
</p><p>A profile contains architecture-specific information for Portage, such as a list of packages that belong to the system corresponding with that profile, a list of packages that don't work (or are masked-out) for that profile, etc.
</p>
<h3><span class="mw-headline" id="User-specific_configuration">User-specific configuration</span></h3>
<p>When Portage's behavior needs to be changed regarding the installation of software, then the right set of files inside <span style="font-family: monospace; font-size: 95%">/etc/portage/</span> will need to be changed. It is highly recommended to use files within <span style="font-family: monospace; font-size: 95%">/etc/portage/</span> and highly discouraged to override the behavior through environment variables!
</p><p>Within <span style="font-family: monospace; font-size: 95%">/etc/portage/</span> users can create the following files:
</p>
<ul><li> <span style="font-family: monospace; font-size: 95%">package.mask</span> which lists the packages that Portage should never try to install</li>
<li> <span style="font-family: monospace; font-size: 95%">package.unmask</span> which lists the packages Portage should be able to install even though the Gentoo developers highly discourage users from emerging them</li>
<li> <span style="font-family: monospace; font-size: 95%">package.accept_keywords</span> which lists the packages Portage should be able to install even though the package hasn't been found suitable for the system or architecture (yet)</li>
<li> <span style="font-family: monospace; font-size: 95%">package.use</span> which lists the USE flags to use for certain packages without having the entire system use those USE flags</li></ul>
<p>These don't have to be files; they can also be directories that contain one file per package. More information about the <span style="font-family: monospace; font-size: 95%">/etc/portage/</span> directory and a full list of possible files that can be created can be found in the Portage man page:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>man portage</code></div></div>
<h3><span class="mw-headline" id="Changing_Portage_file_and_directory_locations">Changing Portage file and directory locations</span></h3>
<p>The previously mentioned configuration files cannot be stored elsewhere - Portage will always look for those configuration files at those exact locations. However, Portage uses many other locations for various purposes: build directory, source code storage, Portage tree location, ...
</p><p>All these purposes have well-known default locations but can be altered to personal taste through <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>. The rest of this chapter explains what special-purpose locations Portage uses and how to alter their placement on the filesystem.
</p><p>This document isn't meant to be used as a reference though. To get 100% coverage, please consult the Portage and make.conf man pages:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>man portage
</code></div><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>man make.conf</code></div></div>
<h2><span class="mw-headline" id="Storing_files">Storing files</span></h2>
<h3><span class="mw-headline" id="Portage_tree">Portage tree</span></h3>
<p>The Portage tree default location is <span style="font-family: monospace; font-size: 95%">/usr/portage</span>. This is defined by the <var>PORTDIR</var> variable. When storing the Portage tree elsewhere (by altering this variable), don't forget to change the <span style="font-family: monospace; font-size: 95%">/etc/portage/make.profile</span> symbolic link accordingly.
</p><p>After changing the  <var>PORTDIR</var> variable, it is recommended to alter the following variables as well since they will not notice the  <var>PORTDIR</var> change. This is due to how Portage handles variables:  <var>PKGDIR</var>,  <var>DISTDIR</var>,  <var>RPMDIR</var>.
</p>
<h3><span class="mw-headline" id="Prebuilt_binaries">Prebuilt binaries</span></h3>
<p>Even though Portage doesn't use prebuilt binaries by default, it has extensive support for them. When asking Portage to work with prebuilt packages, it will look for them in <span style="font-family: monospace; font-size: 95%">/usr/portage/packages</span>. This location is defined by the  <var>PKGDIR</var> variable.
</p>
<h3><span class="mw-headline" id="Source_code">Source code</span></h3>
<p>Application source code is stored in <span style="font-family: monospace; font-size: 95%">/usr/portage/distfiles</span> by default. This location is defined by the <var>DISTDIR</var> variable.
</p>
<h3><span class="mw-headline" id="Portage_database">Portage database</span></h3>
<p>Portage stores the state of the system (what packages are installed, what files belong to which package, ...) in <span style="font-family: monospace; font-size: 95%">/var/db/pkg</span>.
</p>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Warning</strong><br />Do not alter these files manually! It might break Portage's knowledge of the system.</div>
<h3><span class="mw-headline" id="Portage_cache">Portage cache</span></h3>
<p>The Portage cache (with modification times, virtuals, dependency tree information, ...) is stored in <span style="font-family: monospace; font-size: 95%">/var/cache/edb</span>. This location really is a cache: users can clean it if they are not running any Portage-related application at that moment.
</p>
<h2><span class="mw-headline" id="Building_software">Building software</span></h2>
<h3><span class="mw-headline" id="Temporary_portage_files">Temporary portage files</span></h3>
<p>Portage's temporary files are stored in <span style="font-family: monospace; font-size: 95%">/var/tmp/</span> by default. This is defined by the <var>PORTAGE_TMPDIR</var> variable.
</p><p>When altering the <var>PORTAGE_TMPDIR</var> variable, it is recommended to also change the following variables as well since they will not notice the <var>PORTAGE_TMPDIR</var> change. This is due to how Portage handles variables: <var>BUILD_PREFIX</var>.
</p>
<h3><span class="mw-headline" id="Building_directory">Building directory</span></h3>
<p>Portage creates specific build directories for each package it emerges inside <span style="font-family: monospace; font-size: 95%">/var/tmp/portage/</span>. This location is defined by the <var>BUILD_PREFIX</var> variable.
</p>
<h3><span class="mw-headline" id="Live_filesystem_location">Live filesystem location</span></h3>
<p>By default Portage installs all files on the current filesystem (<span style="font-family: monospace; font-size: 95%">/</span>), but this can be changed by setting the <var>ROOT</var> environment variable. This is useful when creating new build images.
</p>
<h2><span class="mw-headline" id="Logging_features">Logging features</span></h2>
<h3><span class="mw-headline" id="Ebuild_logging">Ebuild logging</span></h3>
<p>Portage can create per-ebuild log files, but only when the <var>PORT_LOGDIR</var> variable is set to a location that is writable by Portage (through the Portage user). By default this variable is unset. If <var>PORT_LOGDIR</var> is not set, then there will not be any build logs with the current logging system, though users may receive some logs from the new <span style="font-family: monospace; font-size: 95%; font-weight: bold;">elog</span> support.
</p><p>If <var>PORT_LOGDIR</var> is not defined and <span style="font-family: monospace; font-size: 95%; font-weight: bold;">elog</span> is used, then build logs and any other logs saved by elog will be made available, as explained below.
</p><p>Portage offers fine-grained control over logging through the use of elog:
</p>
<ul><li> <var>PORTAGE_ELOG_CLASSES</var>: This is where users can define what kinds of messages to be logged. This can be any space-separated combination of info, warn, error, log, and qa.
<ul><li> info: Logs "einfo" messages printed by an ebuild</li>
<li> warn: Logs "ewarn" messages printed by an ebuild</li>
<li> error: Logs "eerror" messages printed by an ebuild</li>
<li> log: Logs the "elog" messages found in some ebuilds</li>
<li> qa: Logs the "QA Notice" messages printed by an ebuild</li></ul></li></ul>
<ul><li> <var>PORTAGE_ELOG_SYSTEM</var>: This selects the module(s) to process the log messages. If left empty, logging is disabled. Any space-separated combination of save, custom, syslog, mail, save_summary, and mail_summary can be used. At least one module must be used in order to use elog.
<ul><li> save: This saves one log per package in <span style="font-family: monospace; font-size: 95%">$PORT_LOGDIR/elog</span>, or <span style="font-family: monospace; font-size: 95%">/var/log/portage/elog</span> if $PORT_LOGDIR is not defined.</li>
<li> custom: Passes all messages to a user-defined command in $PORTAGE_ELOG_COMMAND; this will be discussed later.</li>
<li> syslog: Sends all messages to the installed system logger.</li>
<li> mail: Passes all messages to a user-defined mailserver in $PORTAGE_ELOG_MAILURI; this will be discussed later. The mail features of elog require &gt;=portage-2.1.1.</li>
<li> save_summary: Similar to save, but it merges all messages in <span style="font-family: monospace; font-size: 95%">$PORT_LOGDIR/elog/summary.log</span>, or <span style="font-family: monospace; font-size: 95%">/var/log/portage/elog/summary.log</span> if $PORT_LOGDIR is not defined.</li>
<li> mail_summary: Similar to mail, but it sends all messages in a single mail when emerge exits.</li></ul></li></ul>
<ul><li> <var>PORTAGE_ELOG_COMMAND</var>: This is only used when the custom module is enabled. Users can specify a command to process log messages. Note that the command can make use of two variables: ${PACKAGE} is the package name and version, while ${LOGFILE} is the absolute path to the logfile. For instance:</li></ul>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Example PORTAGE_ELOG_COMMAND definition</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">PORTAGE_ELOG_COMMAND</span><span class="o">=</span><span class="s2">&quot;/path/to/logger -p &#39;\${PACKAGE}&#39; -f &#39;\${LOGFILE}&#39;&quot;</span>
</pre></div></pre></div>
<ul><li> <var>PORTAGE_ELOG_MAILURI</var>: This contains settings for the mail module such as address, user, password, mail server, and port number. The default setting is "root@localhost localhost". The following is an example for an SMTP server that requires username and password-based authentication on a particular port (the default is port 25):</li></ul>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Example PORTAGE_ELOG_MAILURI definition</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">PORTAGE_ELOG_MAILURI</span><span class="o">=</span><span class="s2">&quot;user@some.domain username:password@smtp.some.domain:995&quot;</span>
</pre></div></pre></div>
<ul><li> <var>PORTAGE_ELOG_MAILFROM</var>: Allows the user to set the "from" address of log mails; defaults to "Portage" if unset.</li></ul>
<ul><li> <var>PORTAGE_ELOG_MAILSUBJECT</var>: Allows the user to create a subject line for log mails. Note that it can make use of two variables: ${PACKAGE} will display the package name and version, while ${HOST} is the fully qualified domain name of the host Portage is running on. For instance:</li></ul>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Example PORTAGE_ELOG_MAILSUBJECT definition</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">PORTAGE_ELOG_MAILSUBJECT</span><span class="o">=</span><span class="s2">&quot;package \${PACKAGE} was merged on \${HOST} with some messages&quot;</span>
</pre></div></pre></div>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Important</strong><br />Users who used enotice with Portage-2.0.* must completely remove enotice, as it is incompatible with elog.</div>
<p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../Working/EnvVar.html" title="Previous part" class="btn btn-default">&#8592; </a> <a href="../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="Variables.html" title="Next part" class="btn btn-default"> &#8594;</a></div>
<p><br />
</p>
<!-- 
NewPP limit report
Cached time: 20160112092823
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.336 seconds
Real time usage: 0.379 seconds
Preprocessor visited node count: 692/1000000
Preprocessor generated node count: 2587/1000000
Post‐expand include size: 30199/2097152 bytes
Template argument size: 2279/2097152 bytes
Highest expansion depth: 11/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  292.223      1 - -total
100.00%  292.223      1 - Handbook:Parts/Portage/Files
 62.96%  183.979      1 - Handbook:Parts/TOC
  8.12%   23.738      2 - Template:Cmd
  7.57%   22.114      1 - Handbook:Parts/Navigator
  6.31%   18.434      2 - Template:GenericCmd
  5.26%   15.383      3 - Template:CodeBox
  3.87%   11.295      3 - Template:PreBox
  3.46%   10.111     32 - Template:Path
  2.31%    6.741      1 - Template:Warning
-->

<!-- Saved in parser cache with key gentoo-wiki:pcache:idhash:67546-0!*!0!!en!*!* and timestamp 20160112092823 and revision id 182108
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://wiki.gentoo.org/index.php?title=Handbook:X86/Portage/Files&amp;oldid=182108">http://wiki.gentoo.org/index.php?title=Handbook:X86/Portage/Files&amp;oldid=182108</a>"</div>
															<div id='catlinks' class='catlinks catlinks-allhidden'></div>														<!-- end content -->

													</div>
					</div>
				</div>
			</div>
		</div>

			<footer>
		<div class="container">
			<div class="row">
				<div class="col-xs-12 col-md-offset-2 col-md-7">
											<div class="spacer"></div>
						<ul id="f-list">
																							<li id="lastmod"> This page was last modified on 13 December 2014, at 19:42.</li>
																															<li id="privacy"><a href="../../Gentoo_Wiki_Privacy_policy.html" title="Gentoo Wiki:Privacy policy">Privacy policy</a></li>
																							<li id="about"><a href="../../Gentoo_Wiki_About.html" title="Gentoo Wiki:About">About Gentoo Wiki</a></li>
																							<li id="disclaimer"><a href="../../Gentoo_Wiki_General_disclaimer.html" title="Gentoo Wiki:General disclaimer">Disclaimers</a></li>
													</ul>
									</div>
				<div class="col-xs-12 col-md-3">
					<!-- No questions or comments, the Wiki has enough information on how to contact us. -->
				</div>
			</div>
			<div class="row">
				<div class="col-xs-3 col-md-2">
					<ul class="footerlinks three-icons">
						<li><a href="https://twitter.com/gentoo" title="@Gentoo on Twitter"><span class="fa fa-twitter fa-fw"></span></a></li>
						<li><a href="https://plus.google.com/+Gentoo" title="+Gentoo on Google+"><span class="fa fa-google-plus fa-fw"></span></a></li>
						<li><a href="https://www.facebook.com/gentoo.org" title="Gentoo on Facebook"><span class="fa fa-facebook fa-fw"></span></a></li>
					</ul>
				</div>
				<div class="col-xs-9 col-md-9">
					<strong>&copy; 2001&ndash;2016 Gentoo Foundation, Inc.</strong><br />
					<small>
						Gentoo is a trademark of the Gentoo Foundation, Inc.
						The contents of this document, unless otherwise expressly stated, are licensed under the
						<a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">CC-BY-SA-3.0</a> license.
						The <a href="https://www.gentoo.org/inside-gentoo/foundation/name-logo-guidelines.html">Gentoo Name and Logo Usage Guidelines</a> apply.
					</small>
				</div>
			</div>
		</div>
	</footer>
	
		<script>
			window.RLQ = window.RLQ || []; window.RLQ.push( function () {
				$.getScript("https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.js");
			} );
		</script>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.skinning.content.externallinks&amp;only=styles&amp;skin=tyrian" />
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.load(["ext.smw.tooltips","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.uls.pt"]);
} );</script><script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['setDocumentTitle', "Handbook:X86/Portage/Files"]);
  _paq.push(['setIgnoreClasses', 'image']);
  _paq.push(['trackPageView']);
  _paq.push(['disableCookies']);
  _paq.push(['enableLinkTracking']);
  
  (function() {
    var u="http://piwik.gentoo.org//";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="http://piwik.gentoo.org//piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":500});
} );</script></body>
<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:X86/Portage/Files by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:51 GMT -->
</html>