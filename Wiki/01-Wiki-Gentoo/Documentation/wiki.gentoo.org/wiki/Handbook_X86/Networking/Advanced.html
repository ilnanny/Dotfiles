<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:X86/Networking/Advanced by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Handbook:X86/Networking/Advanced - Gentoo Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"Handbook","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":560,"wgPageName":"Handbook:X86/Networking/Advanced","wgTitle":"X86/Networking/Advanced","wgCurRevisionId":182090,"wgRevisionId":182090,"wgArticleId":67560,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Handbook:X86/Networking/Advanced","wgRelevantArticleId":67560,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],"sfgAutocompleteOnAllChars":!1,
"sfgFieldProperties":[],"sfgCargoFields":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/extensions/SemanticForms","edgValues":null,"sfgEDSettings":null,"wgWikiEditorEnabledModules":{"toolbar":!0,"dialogs":!0,"preview":!0,"publish":!1},"wgULSAcceptLanguageList":["en"],"wgULSCurrentAutonym":"English","wgTranslatePageTranslation":"source"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["ext.smw.style","ext.translate","mediawiki.page.startup","mediawiki.legacy.wikibits","ext.uls.init"]);
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cext.uls.nojs%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.tyrian.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.smw.style%7Cext.smw.tooltip.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.css" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/tyrian.min.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=tyrian" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=tyrian"></script>
<meta name="generator" content="MediaWiki 1.26.2-gentoo" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<link rel="ExportRDF" type="application/rdf+xml" title="Handbook:X86/Networking/Advanced" href="https://wiki.gentoo.org/index.php?title=Special:ExportRDF/Handbook:X86/Networking/Advanced&amp;xmlmime=rdf" />
<link rel="shortcut icon" href="https://wiki.gentoo.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.gentoo.org/opensearch_desc.php" title="Gentoo Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.gentoo.org/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Gentoo Wiki Atom feed" href="https://wiki.gentoo.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-560 ns-subject page-Handbook_X86_Networking_Advanced skin-tyrian action-view">
	<div class="mw-jump sr-only">
		Jump to:		<a href="#top">content</a>
	</div>
	<header>
		<div class="site-title">
			<div class="container">
				<div class="row">
					<div class="site-title-buttons">
						<div class="btn-group btn-group-sm">
							<a href="https://get.gentoo.org/" role="button" class="btn get-gentoo"><span class="fa fa-fw fa-download"></span> <strong>Get Gentoo!</strong></a>
							<div class="btn-group btn-group-sm">
								<a class="btn gentoo-org-sites dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">
									<span class="fa fa-fw fa-map-o"></span> <span class="hidden-xs">gentoo.org sites</span> <span class="caret"></span>
								</a>
								<ul class="dropdown-menu dropdown-menu-right">
									<li><a href="https://www.gentoo.org/" title="Main Gentoo website"><span class="fa fa-home fa-fw"></span> gentoo.org</a></li>
									<li><a href="https://wiki.gentoo.org/" title="Find and contribute documentation"><span class="fa fa-file-text-o fa-fw"></span> Wiki</a></li>
									<li><a href="https://bugs.gentoo.org/" title="Report issues and find common issues"><span class="fa fa-bug fa-fw"></span> Bugs</a></li>
									<li><a href="https://forums.gentoo.org/" title="Discuss with the community"><span class="fa fa-comments-o fa-fw"></span> Forums</a></li>
									<li><a href="https://packages.gentoo.org/" title="Find software for your Gentoo"><span class="fa fa-hdd-o fa-fw"></span> Packages</a></li>
									<li class="divider"></li>
									<li><a href="https://planet.gentoo.org/" title="Find out what's going on in the developer community"><span class="fa fa-rss fa-fw"></span> Planet</a></li>
									<li><a href="https://archives.gentoo.org/" title="Read up on past discussions"><span class="fa fa-archive fa-fw"></span> Archives</a></li>
									<li><a href="https://sources.gentoo.org/" title="Browse our source code"><span class="fa fa-code fa-fw"></span> Sources</a></li>
									<li class="divider"></li>
									<li><a href="https://infra-status.gentoo.org/" title="Get updates on the services provided by Gentoo"><span class="fa fa-server fa-fw"></span> Infra Status</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="logo">
						<a href="https://wiki.gentoo.org/" title="Back to the homepage" class="site-logo"><object data="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.svg" type="image/svg+xml">
							<img src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.png" alt="Gentoo Linux Logo">
						</object></a>
						<span class="site-label">Wiki</span>
					</div>
				</div>
			</div>
		</div>
		<nav class="tyrian-navbar" role="navigation">
			<div class="container">
				<div class="row">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse navbar-main-collapse">
						<ul class="nav navbar-nav">
							<li id="n-mainpage-description"><a href="../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-help"><a href="../../Special_MyLanguage/Help_Contents.html" title="The place to find out">Help</a></li>			<li class="dropdown">
				<a href="../../Gentoo_Wiki_Menu-Gentoo.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Gentoo <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Projects"><a href="../../Project_Gentoo.html">Gentoo Projects</a></li>				</ul>
			</li>
					<li class="dropdown">
				<a href="../../Gentoo_Wiki_Menu-Documentation.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Handbook"><a href="../../Handbook_Main_Page.html">Gentoo Handbook</a></li><li id="n-Gentoo-FAQ"><a href="../../FAQ.html">Gentoo FAQ</a></li><li id="n-Featured-Documents"><a href="../../Project_Documentation/Overview.html">Featured Documents</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Topics</li><li id="n-Core-system"><a href="../../Category_Core_system.html">Core system</a></li><li id="n-Hardware"><a href="../../Category_Hardware.html">Hardware</a></li><li id="n-Software"><a href="../../Category_Software.html">Software</a></li><li id="n-Desktop"><a href="../../Category_Desktop.html">Desktop</a></li><li id="n-Server-.26-Security"><a href="../../Category_Server_and_Security.html">Server &amp; Security</a></li><li id="n-Project-.26-Community"><a href="../../Category_Project_and_Community.html">Project &amp; Community</a></li>				</ul>
			</li>
								</ul>
						<ul class="nav navbar-nav navbar-right hidden-xs">
									<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cog"></i> Tools <span class="caret"></span></a>
			<ul class="dropdown-menu" role="menu">
				<li id="t-whatlinkshere"><a href="../../Special_WhatLinksHere/Handbook_X86/Networking/Advanced.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../../Special_RecentChangesLinked/Handbook_X86/Networking/Advanced.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Networking/Advanced&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Networking/Advanced&amp;oldid=182090" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Networking/Advanced&amp;action=info" title="More information about this page">Page information</a></li><li id="t-smwbrowselink"><a href="../../Special_Browse/Handbook_X86-2FNetworking-2FAdvanced.html" rel="smw-browse">Browse properties</a></li>			</ul>
		</li>
			<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
				<span class="glyphicon glyphicon-user" aria-label="Personal tools"></span>
				User				<span class="caret"></span>
			</a>
			<ul class="dropdown-menu" role="menu">
				<li id="pt-createaccount"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AX86%2FNetworking%2FAdvanced&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AX86%2FNetworking%2FAdvanced" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>			</ul>
		</li>
								</ul>
					</div>
				</div>
			</div>
		</nav>
		
		<nav class="navbar navbar-grey navbar-stick" id="wiki-actions" role="navigation">
			<div class="container"><div class="row">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#gw-toolbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<div class="collapse navbar-collapse" id="gw-toolbar">
					<ul class="nav navbar-nav">
					<li id="ca-nstab-handbook" class="selected active"><a href="Advanced.html">Handbook</a></li><li id="ca-talk" class="new"><a href="https://wiki.gentoo.org/index.php?title=Handbook_Talk:X86/Networking/Advanced&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>					</ul>
							<form action="https://wiki.gentoo.org/index.php" id="searchform" class="navbar-form navbar-right" role="search">
			<input type='hidden' name="title" value="Special:Search"/>

				<div class="input-group">
					<input type="search" name="search" placeholder="Search" title="Search Gentoo Wiki [f]" accesskey="f" id="searchInput" class="form-control" />					<div class="input-group-btn"><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton btn btn-default" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton btn btn-default" /></div>
				</div>
		</form>
						<ul class="nav navbar-nav navbar-right hidden-xs">
					<li id="ca-viewsource"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Networking/Advanced&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">more <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
					<li id="ca-history"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Networking/Advanced&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>							</ul>
						</li>
					</ul>
				</div>
			</div></div>
		</nav>
		</header>
	
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div id="content" class="mw-body" role="main">
						<a id="top"></a>
						
						<h1 id="firstHeading" class="first-header" lang="en">
							<span dir="auto">Handbook:X86/Networking/Advanced</span>
						</h1>

						<div id="bodyContent" class="mw-body-content">
							<div id="siteSub">From Gentoo Wiki</div>
							<div id="contentSub">
								<span class="subpages"><a href="../../Special_MyLanguage/Handbook_X86.html" title="Special:MyLanguage/Handbook:X86">Handbook:X86</a></span>							</div>
																					<div id="jump-to-nav" class="mw-jump">
								Jump to:								<a href="#column-one">navigation</a>, 								<a href="#searchInput">search</a>
							</div>

							<!-- start content -->
							<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="Advanced/de.html" title="Handbuch:X86/Netzwerk/Fortgeschritten (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">English</span> • ‎<a href="Advanced/es.html" title="Manual de Gentoo: X86/Redes/Avanzado (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="Advanced/ja.html" title="ハンドブック:X86/ネットワーク/高度 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="Advanced/ko.html" title="Handbook:X86/Networking/Advanced/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="Advanced/ru.html" title="Handbook:X86/Networking/Advanced (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="Advanced/zh-cn.html" title="手册：X86/网络/高级配置 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <strong class="selflink">Advanced configuration</strong>
</td></tr>
<tr>
<td> <a href="Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Advanced_configuration"><span class="tocnumber">1</span> <span class="toctext">Advanced configuration</span></a></li>
<li class="toclevel-1"><a href="#Network_dependencies"><span class="tocnumber">2</span> <span class="toctext">Network dependencies</span></a></li>
<li class="toclevel-1"><a href="#Variable_names_and_values"><span class="tocnumber">3</span> <span class="toctext">Variable names and values</span></a></li>
<li class="toclevel-1"><a href="#Network_interface_naming"><span class="tocnumber">4</span> <span class="toctext">Network interface naming</span></a>
<ul>
<li class="toclevel-2"><a href="#How_it_works"><span class="tocnumber">4.1</span> <span class="toctext">How it works</span></a></li>
<li class="toclevel-2"><a href="#Using_the_old-style_kernel_naming"><span class="tocnumber">4.2</span> <span class="toctext">Using the old-style kernel naming</span></a></li>
<li class="toclevel-2"><a href="#Using_custom_names"><span class="tocnumber">4.3</span> <span class="toctext">Using custom names</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Advanced_configuration">Advanced configuration</span></h2>
<p>The <var>config_eth0</var> variable is the heart of an interface configuration. It is a high level instruction list for configuring the interface (eth0 in this case). Each command in the instruction list is performed sequentially. The interface is deemed OK if at least one command works.
</p><p>Here's a list of built-in instructions:
</p>
<table class="table table-condensed table-striped" style="text-align: left; width: auto;">

<tr>
<th scope="col" width="15%">  Value
</th>
<th> Description
</th></tr>
<tr>
<td> <code>null</code>
</td>
<td> Do nothing.
</td></tr>
<tr>
<td> <code>noop</code>
</td>
<td> If the interface is up and there is an address then abort configuration successfully.
</td></tr>
<tr>
<td> An IPv4 or IPv6 address
</td>
<td> Add the address to the interface.
</td></tr>
<tr>
<td> <code>dhcp</code>, <code>adsl</code>, or <code>apipa</code> (or a custom value from a 3rd party module)
</td>
<td> Run the module which provides the command. For example <code>dhcp</code> will run a module that provides DHCP which can be served by <span style="font-family: monospace; font-size: 95%; font-weight: bold;">dhcpcd</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">dhclient</span>, or <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pump</span>.
</td></tr></table>
<p>If a command fails, specify a fallback value. The fallback has to match the config structure exactly.
</p><p>It is possible to chain these values together. Here are some real world examples:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/net</code></strong><strong>Configuration examples</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c"># Adding three IPv4 addresses</span>
<span class="nv">config_eth0</span><span class="o">=</span><span class="s2">&quot;192.168.0.2/24</span>
<span class="s2">192.168.0.3/24</span>
<span class="s2">192.168.0.4/24&quot;</span>
  
<span class="c"># Adding an IPv4 address and two IPv6 addresses</span>
<span class="nv">config_eth0</span><span class="o">=</span><span class="s2">&quot;192.168.0.2/24</span>
<span class="s2">4321:0:1:2:3:4:567:89ab</span>
<span class="s2">4321:0:1:2:3:4:567:89ac&quot;</span>
  
<span class="c"># Keep our kernel assigned address, unless the interface goes</span>
<span class="c"># down so assign another via DHCP. If DHCP fails then add a</span>
<span class="c"># static address determined by APIPA</span>
<span class="nv">config_eth0</span><span class="o">=</span><span class="s2">&quot;noop</span>
<span class="s2">dhcp&quot;</span>
<span class="nv">fallback_eth0</span><span class="o">=</span><span class="s2">&quot;null</span>
<span class="s2">apipa&quot;</span>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Note</strong><br />When using the <code>ifconfig</code> module and adding more than one address, interface aliases are created for each extra address. So with the above two examples users will get interfaces eth0, eth0:1 and eth0:2. It is not possible to do anything special with these interfaces as the kernel and other programs will just treat eth0:1 and eth0:2 as eth0.</div>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Important</strong><br />The fallback order is important! If the null option was not specified then <code>apipa</code> would only be run if <code>noop</code> failed.</div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Note</strong><br />APIPA and DHCP are discussed later.</div>
<h2><span class="mw-headline" id="Network_dependencies">Network dependencies</span></h2>
<p>Init scripts in <span style="font-family: monospace; font-size: 95%">/etc/init.d/</span> can depend on a specific network interface or just "net". All network interfaces in Gentoo's init system provide what is called "net".
</p><p>If, in <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span>, the <var>rc_depend_strict</var> variable is set to <code>YES</code>, then all network interfaces that provide "net" <i>must</i> be active before a dependency on "net" is assumed to be met. In other words, if a system has a net.eth0 and net.eth1 and an init script depends on "net", then both must be enabled.
</p><p>On the other hand, if <code>rc_depend_strict="NO"</code> is set, then the "net" dependency is marked as resolved the moment at least one network interface is brought up.
</p><p>But what about net.br0 depending on net.eth0 and net.eth1? net.eth1 may be a wireless or PPP device that needs configuration before it can be added to the bridge. This cannot be done in <span style="font-family: monospace; font-size: 95%">/etc/init.d/net.br0</span> as that's a symbolic link to net.lo.
</p><p>The answer is to define a <var>rc_need_</var> setting in <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/net</code></strong><strong>Adding a net.br0 dependency</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">rc_need_br0</span><span class="o">=</span><span class="s2">&quot;net.eth0 net.eth1&quot;</span>
</pre></div></pre>
<p>That alone, however, is not sufficient. Gentoo's networking init scripts use a virtual dependency called "net" to inform the system when networking is available. Clearly, in the above case, networking should only be marked as available when net.br0 is up, not when the others are. So we need to tell that in <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span> as well:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/net</code></strong><strong>Updating virtual dependencies and provisions for networking</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">rc_net_lo_provide</span><span class="o">=</span><span class="s2">&quot;!net&quot;</span>
<span class="nv">rc_net_eth0_provide</span><span class="o">=</span><span class="s2">&quot;!net&quot;</span>
<span class="nv">rc_net_eth1_provide</span><span class="o">=</span><span class="s2">&quot;!net&quot;</span>
</pre></div></pre>
<p>For a more detailed discussion about dependency, consult the section on writing initscripts in the Gentoo Handbook. More information about <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span> is available as comments within that file.
</p>
<h2><span class="mw-headline" id="Variable_names_and_values">Variable names and values</span></h2>
<p>Variable names are dynamic. They normally follow the structure of <code>variable_${interface|mac|essid|apmac}</code>. For example, the variable <var>dhcpcd_eth0</var> holds the value for dhcpcd options for eth0 and <var>dhcpcd_essid</var> holds the value for dhcpcd options when any interface connects to the ESSID "essid".
</p><p>However, there is no hard and fast rule that states interface names must be ethx. In fact, many wireless interfaces have names like wlanx, rax as well as ethx. Also, some user defined interfaces such as bridges can be given any name. To make life more interesting, wireless Access Points can have names with non alpha-numeric characters in them - this is important because users can configure networking parameters per ESSID.
</p><p>The downside of all this is that Gentoo uses bash variables for networking - and bash cannot use anything outside of English alpha-numerics. To get around this limitation we change every character that is not an English alpha-numeric into an _ (underscore) character.
</p><p>Another downside of bash is the content of variables - some characters need to be escaped. This can be achieved by placing the \ (backslash) character in front of the character that needs to be escaped. The following list of characters needs to be escaped in this way: <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">"</kbd>, <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">'</kbd> and <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">\</kbd>.
</p><p>In this example we use wireless ESSID as they can contain the widest scope of characters. We shall use the ESSID <i>My "\ NET</i>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/net</code></strong><strong>Variable names</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c"># This does work, but the domain is invalid</span>
<span class="nv">dns_domain_My____NET</span><span class="o">=</span><span class="s2">&quot;My \&quot;\\ NET&quot;</span>
</pre></div></pre>
<p>The above sets the DNS domain to <i>My "\ NET</i> when a wireless card connects to an AP whose ESSID is <i>My "\ NET</i>.
</p>
<h2><span class="mw-headline" id="Network_interface_naming">Network interface naming</span></h2>
<h3><span class="mw-headline" id="How_it_works">How it works</span></h3>
<p>Network interface names are not chosen arbitrarily: the Linux kernel and the device manager (most systems have udev as their device manager although others are available as well) choose the interface name through a fixed set of rules.
</p><p>When an interface card is detected on a system, the Linux kernel gathers the necessary data about this card. This includes:
</p>
<ul><li> The onboard (on the interface itself) registered name of the network card, which is later seen through the <var>ID_NET_NAME_ONBOARD</var> value.</li>
<li> The slot in which the network card is plugged in, which is later seen through the <var>ID_NET_NAME_SLOT</var> value.</li>
<li> The path through which the network card device can be accessed, which is later seen through the <var>ID_NET_NAME_PATH</var> value.</li>
<li> The (vendor-provided) MAC address of the card, which is later seen through the <var>ID_NET_NAME_MAC</var> value.</li></ul>
<p>Based on this information, the device manager decides how to name the interface on the system. By default, it uses the first hit of the first three variables above (<var>ID_NET_NAME_ONBOARD</var>, <var>_SLOT</var> or <var>_PATH</var>). For instance, if <var>ID_NET_NAME_ONBOARD</var> is found and set to <code>eno1</code>, then the interface will be called eno1.
</p><p>Given an active interface name, the values of the provided variables can be shown using <span style="font-family: monospace; font-size: 95%; font-weight: bold;">udevadm</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>udevadm test-builtin net_id /sys/class/net/enp3s0 2&gt;/dev/null</code></div><pre>
ID_NET_NAME_MAC=enxc80aa9429d76
ID_OUI_FROM_DATABASE=Quanta Computer Inc.
ID_NET_NAME_PATH=enp3s0
</pre></div>
<p>As the first (and actually only) hit of the top three variables is <var>ID_NET_NAME_PATH</var>, its value is used as the interface name. If none of the variables contain values, then the system reverts back to the kernel-provided naming (eth0, eth1, etc.)
</p>
<h3><span class="mw-headline" id="Using_the_old-style_kernel_naming">Using the old-style kernel naming</span></h3>
<p>Before this change, network interface cards were named by the Linux kernel itself, depending on the order that drivers are loaded (amongst other, possibly more obscure reasons). This behavior can still be enabled by setting the <code>net.ifnames=0</code> boot parameter in the boot loader.
</p>
<h3><span class="mw-headline" id="Using_custom_names">Using custom names</span></h3>
<p>The entire idea behind the change in naming is not to confuse people, but to make changing the names easier. Suppose a system has two interfaces that are otherwise called eth0 and eth1. One is meant to access the network through a wire, the other one is for wireless access. With the support for interface naming, users can have these called lan0 (wired) and wifi0 (wireless - it is best to avoid using the previously well-known names like eth* and wlan* as those can still collide with the suggested names).
</p><p>Find out what the parameters are for the cards and then use this information to set up a custom own naming rule:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>udevadm test-builtin net_id /sys/class/net/eth0 2&gt;/dev/null</code></div><pre>
ID_NET_NAME_MAC=enxc80aa9429d76
ID_OUI_FROM_DATABASE=Quanta Computer Inc.
</pre></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>vim /etc/udev/rules.d/70-net-name-use-custom.rules</code></div><pre>
# First one uses MAC information, and 70- number to be before other net rules
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, ATTR{address}==&quot;c8:0a:a9:42:9d:76&quot;, NAME=&quot;lan0&quot;
</pre></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>vim /etc/udev/rules.d/76-net-name-use-custom.rules</code></div><pre>
# Second one uses ID_NET_NAME_PATH information, and 76- number to be between
# 75-net-*.rules and 80-net-*.rules
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, ENV{ID_NET_NAME_PATH}==&quot;enp3s0&quot;, NAME=&quot;wifi0&quot;
</pre></div>
<p>Because the rules are triggered before the default one (rules are triggered in alphanumerical order, so 70 comes before 80) the names provided in the rule file will be used instead of the default ones. The number granted to the file should be between 76 and 79 (the environment variables are defined by a rule start starts with 75 and the fallback naming is done in a rule numbered 80).
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="Introduction.html" title="Previous part" class="btn btn-default">&#8592; </a> <a href="../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="Modular.html" title="Next part" class="btn btn-default"> &#8594;</a></div>
<p><br />
</p>
<!-- 
NewPP limit report
Cached time: 20160112045306
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.348 seconds
Real time usage: 0.401 seconds
Preprocessor visited node count: 845/1000000
Preprocessor generated node count: 2518/1000000
Post‐expand include size: 33153/2097152 bytes
Template argument size: 5034/2097152 bytes
Highest expansion depth: 11/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  318.597      1 - -total
100.00%  318.597      1 - Handbook:Parts/Networking/Advanced
 59.27%  188.830      1 - Handbook:Parts/TOC
 11.52%   36.699      4 - Template:RootCmd
  9.16%   29.177      4 - Template:GenericCmd
  7.63%   24.318      1 - Handbook:Parts/Navigator
  6.24%   19.869      4 - Template:FileBox
  4.68%   14.917      4 - Template:PreBox
  2.76%    8.778      2 - Template:Note
  2.29%    7.292      4 - Template:GenericCmd/Line
-->

<!-- Saved in parser cache with key gentoo-wiki:pcache:idhash:67560-0!*!0!!en!*!* and timestamp 20160112045306 and revision id 182090
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://wiki.gentoo.org/index.php?title=Handbook:X86/Networking/Advanced&amp;oldid=182090">http://wiki.gentoo.org/index.php?title=Handbook:X86/Networking/Advanced&amp;oldid=182090</a>"</div>
															<div id='catlinks' class='catlinks catlinks-allhidden'></div>														<!-- end content -->

													</div>
					</div>
				</div>
			</div>
		</div>

			<footer>
		<div class="container">
			<div class="row">
				<div class="col-xs-12 col-md-offset-2 col-md-7">
											<div class="spacer"></div>
						<ul id="f-list">
																							<li id="lastmod"> This page was last modified on 13 December 2014, at 19:41.</li>
																															<li id="privacy"><a href="../../Gentoo_Wiki_Privacy_policy.html" title="Gentoo Wiki:Privacy policy">Privacy policy</a></li>
																							<li id="about"><a href="../../Gentoo_Wiki_About.html" title="Gentoo Wiki:About">About Gentoo Wiki</a></li>
																							<li id="disclaimer"><a href="../../Gentoo_Wiki_General_disclaimer.html" title="Gentoo Wiki:General disclaimer">Disclaimers</a></li>
													</ul>
									</div>
				<div class="col-xs-12 col-md-3">
					<!-- No questions or comments, the Wiki has enough information on how to contact us. -->
				</div>
			</div>
			<div class="row">
				<div class="col-xs-3 col-md-2">
					<ul class="footerlinks three-icons">
						<li><a href="https://twitter.com/gentoo" title="@Gentoo on Twitter"><span class="fa fa-twitter fa-fw"></span></a></li>
						<li><a href="https://plus.google.com/+Gentoo" title="+Gentoo on Google+"><span class="fa fa-google-plus fa-fw"></span></a></li>
						<li><a href="https://www.facebook.com/gentoo.org" title="Gentoo on Facebook"><span class="fa fa-facebook fa-fw"></span></a></li>
					</ul>
				</div>
				<div class="col-xs-9 col-md-9">
					<strong>&copy; 2001&ndash;2016 Gentoo Foundation, Inc.</strong><br />
					<small>
						Gentoo is a trademark of the Gentoo Foundation, Inc.
						The contents of this document, unless otherwise expressly stated, are licensed under the
						<a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">CC-BY-SA-3.0</a> license.
						The <a href="https://www.gentoo.org/inside-gentoo/foundation/name-logo-guidelines.html">Gentoo Name and Logo Usage Guidelines</a> apply.
					</small>
				</div>
			</div>
		</div>
	</footer>
	
		<script>
			window.RLQ = window.RLQ || []; window.RLQ.push( function () {
				$.getScript("https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.js");
			} );
		</script>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.skinning.content.externallinks&amp;only=styles&amp;skin=tyrian" />
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.load(["ext.smw.tooltips","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.uls.pt"]);
} );</script><script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['setDocumentTitle', "Handbook:X86/Networking/Advanced"]);
  _paq.push(['setIgnoreClasses', 'image']);
  _paq.push(['trackPageView']);
  _paq.push(['disableCookies']);
  _paq.push(['enableLinkTracking']);
  
  (function() {
    var u="http://piwik.gentoo.org//";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="http://piwik.gentoo.org//piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":518});
} );</script></body>
<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:X86/Networking/Advanced by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:51 GMT -->
</html>