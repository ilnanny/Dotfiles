<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:X86/Full/Installation/pt-br by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Gentoo Linux x86 Handbook: Installing Gentoo - Gentoo Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"Handbook","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":560,"wgPageName":"Handbook:X86/Full/Installation/pt-br","wgTitle":"X86/Full/Installation/pt-br","wgCurRevisionId":283398,"wgRevisionId":283398,"wgArticleId":111918,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"pt-br","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"wgMonthNamesShort":["","jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"wgRelevantPageName":"Handbook:X86/Full/Installation/pt-br","wgRelevantArticleId":111918,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],
"sfgAutocompleteOnAllChars":!1,"sfgFieldProperties":[],"sfgCargoFields":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/extensions/SemanticForms","edgValues":null,"sfgEDSettings":null,"wgWikiEditorEnabledModules":{"toolbar":!0,"dialogs":!0,"preview":!0,"publish":!1},"wgULSAcceptLanguageList":["en","*"],"wgULSCurrentAutonym":"English","wgTranslatePageTranslation":"translation"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["ext.translate","ext.smw.style","mediawiki.page.startup","mediawiki.legacy.wikibits","ext.uls.init"]);
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cext.uls.nojs%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.tyrian.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.smw.style%7Cext.smw.tooltip.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.css" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/tyrian.min.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=tyrian" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=tyrian"></script>
<meta name="generator" content="MediaWiki 1.26.2-gentoo" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<link rel="ExportRDF" type="application/rdf+xml" title="Handbook:X86/Full/Installation/pt-br" href="https://wiki.gentoo.org/index.php?title=Special:ExportRDF/Handbook:X86/Full/Installation/pt-br&amp;xmlmime=rdf" />
<link rel="shortcut icon" href="https://wiki.gentoo.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.gentoo.org/opensearch_desc.php" title="Gentoo Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.gentoo.org/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Gentoo Wiki Atom feed" href="https://wiki.gentoo.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-560 ns-subject page-Handbook_X86_Full_Installation_pt-br skin-tyrian action-view">
	<div class="mw-jump sr-only">
		Jump to:		<a href="#top">content</a>
	</div>
	<header>
		<div class="site-title">
			<div class="container">
				<div class="row">
					<div class="site-title-buttons">
						<div class="btn-group btn-group-sm">
							<a href="https://get.gentoo.org/" role="button" class="btn get-gentoo"><span class="fa fa-fw fa-download"></span> <strong>Get Gentoo!</strong></a>
							<div class="btn-group btn-group-sm">
								<a class="btn gentoo-org-sites dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">
									<span class="fa fa-fw fa-map-o"></span> <span class="hidden-xs">gentoo.org sites</span> <span class="caret"></span>
								</a>
								<ul class="dropdown-menu dropdown-menu-right">
									<li><a href="https://www.gentoo.org/" title="Main Gentoo website"><span class="fa fa-home fa-fw"></span> gentoo.org</a></li>
									<li><a href="https://wiki.gentoo.org/" title="Find and contribute documentation"><span class="fa fa-file-text-o fa-fw"></span> Wiki</a></li>
									<li><a href="https://bugs.gentoo.org/" title="Report issues and find common issues"><span class="fa fa-bug fa-fw"></span> Bugs</a></li>
									<li><a href="https://forums.gentoo.org/" title="Discuss with the community"><span class="fa fa-comments-o fa-fw"></span> Forums</a></li>
									<li><a href="https://packages.gentoo.org/" title="Find software for your Gentoo"><span class="fa fa-hdd-o fa-fw"></span> Packages</a></li>
									<li class="divider"></li>
									<li><a href="https://planet.gentoo.org/" title="Find out what's going on in the developer community"><span class="fa fa-rss fa-fw"></span> Planet</a></li>
									<li><a href="https://archives.gentoo.org/" title="Read up on past discussions"><span class="fa fa-archive fa-fw"></span> Archives</a></li>
									<li><a href="https://sources.gentoo.org/" title="Browse our source code"><span class="fa fa-code fa-fw"></span> Sources</a></li>
									<li class="divider"></li>
									<li><a href="https://infra-status.gentoo.org/" title="Get updates on the services provided by Gentoo"><span class="fa fa-server fa-fw"></span> Infra Status</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="logo">
						<a href="https://wiki.gentoo.org/" title="Back to the homepage" class="site-logo"><object data="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.svg" type="image/svg+xml">
							<img src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.png" alt="Gentoo Linux Logo">
						</object></a>
						<span class="site-label">Wiki</span>
					</div>
				</div>
			</div>
		</div>
		<nav class="tyrian-navbar" role="navigation">
			<div class="container">
				<div class="row">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse navbar-main-collapse">
						<ul class="nav navbar-nav">
							<li id="n-mainpage-description"><a href="../../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../../../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-help"><a href="../../../Special_MyLanguage/Help_Contents.html" title="The place to find out">Help</a></li>			<li class="dropdown">
				<a href="../../../Gentoo_Wiki_Menu-Gentoo.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Gentoo <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Projects"><a href="../../../Project_Gentoo.html">Gentoo Projects</a></li>				</ul>
			</li>
					<li class="dropdown">
				<a href="../../../Gentoo_Wiki_Menu-Documentation.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Handbook"><a href="../../../Handbook_Main_Page.html">Gentoo Handbook</a></li><li id="n-Gentoo-FAQ"><a href="../../../FAQ.html">Gentoo FAQ</a></li><li id="n-Featured-Documents"><a href="../../../Project_Documentation/Overview.html">Featured Documents</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Topics</li><li id="n-Core-system"><a href="../../../Category_Core_system.html">Core system</a></li><li id="n-Hardware"><a href="../../../Category_Hardware.html">Hardware</a></li><li id="n-Software"><a href="../../../Category_Software.html">Software</a></li><li id="n-Desktop"><a href="../../../Category_Desktop.html">Desktop</a></li><li id="n-Server-.26-Security"><a href="../../../Category_Server_and_Security.html">Server &amp; Security</a></li><li id="n-Project-.26-Community"><a href="../../../Category_Project_and_Community.html">Project &amp; Community</a></li>				</ul>
			</li>
								</ul>
						<ul class="nav navbar-nav navbar-right hidden-xs">
									<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cog"></i> Tools <span class="caret"></span></a>
			<ul class="dropdown-menu" role="menu">
				<li id="t-whatlinkshere"><a href="../../../Special_WhatLinksHere/Handbook_X86/Full/Installation/pt-br.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../../../Special_RecentChangesLinked/Handbook_X86/Full/Installation/pt-br.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../../../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Full/Installation/pt-br&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Full/Installation/pt-br&amp;oldid=283398" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Full/Installation/pt-br&amp;action=info" title="More information about this page">Page information</a></li><li id="t-smwbrowselink"><a href="../../../Special_Browse/Handbook_X86-2FFull-2FInstallation-2Fpt-2Dbr.html" rel="smw-browse">Browse properties</a></li>			</ul>
		</li>
			<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
				<span class="glyphicon glyphicon-user" aria-label="Personal tools"></span>
				User				<span class="caret"></span>
			</a>
			<ul class="dropdown-menu" role="menu">
				<li id="pt-createaccount"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AX86%2FFull%2FInstallation%2Fpt-br&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AX86%2FFull%2FInstallation%2Fpt-br" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>			</ul>
		</li>
								</ul>
					</div>
				</div>
			</div>
		</nav>
		
		<nav class="navbar navbar-grey navbar-stick" id="wiki-actions" role="navigation">
			<div class="container"><div class="row">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#gw-toolbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<div class="collapse navbar-collapse" id="gw-toolbar">
					<ul class="nav navbar-nav">
					<li id="ca-nstab-handbook" class="selected active"><a href="pt-br.html">Handbook</a></li><li id="ca-talk" class="new"><a href="https://wiki.gentoo.org/index.php?title=Handbook_Talk:X86/Full/Installation/pt-br&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>					</ul>
							<form action="https://wiki.gentoo.org/index.php" id="searchform" class="navbar-form navbar-right" role="search">
			<input type='hidden' name="title" value="Special:Search"/>

				<div class="input-group">
					<input type="search" name="search" placeholder="Search" title="Search Gentoo Wiki [f]" accesskey="f" id="searchInput" class="form-control" />					<div class="input-group-btn"><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton btn btn-default" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton btn btn-default" /></div>
				</div>
		</form>
						<ul class="nav navbar-nav navbar-right hidden-xs">
					<li id="ca-viewsource"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Full/Installation/pt-br&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">more <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
					<li id="ca-history"><a href="https://wiki.gentoo.org/index.php?title=Handbook:X86/Full/Installation/pt-br&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>							</ul>
						</li>
					</ul>
				</div>
			</div></div>
		</nav>
		</header>
	
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div id="content" class="mw-body" role="main">
						<a id="top"></a>
						
						<h1 id="firstHeading" class="first-header" lang="pt-BR">
							<span dir="auto">Gentoo Linux x86 Handbook: Installing Gentoo</span>
						</h1>

						<div id="bodyContent" class="mw-body-content">
							<div id="siteSub">From Gentoo Wiki</div>
							<div id="contentSub">
								<span class="subpages"><a href="../../../Special_MyLanguage/Handbook_X86.html" title="Special:MyLanguage/Handbook:X86">Handbook:X86</a> | <a href="../../../Special_MyLanguage/Handbook_X86/Full.html" title="Special:MyLanguage/Handbook:X86/Full">Full</a></span>							</div>
																					<div id="jump-to-nav" class="mw-jump">
								Jump to:								<a href="#column-one">navigation</a>, 								<a href="#searchInput">search</a>
							</div>

							<!-- start content -->
							<div id="mw-content-text" lang="pt-BR" dir="ltr" class="mw-content-ltr"><div class="mw-translate-page-info" lang="en" dir="ltr">This page is a <span class="plainlinks"><a rel="nofollow" class="external text" href="http://wiki.gentoo.org/index.php?title=Special:Translate&amp;group=page-Handbook%3AX86%2FFull%2FInstallation&amp;action=page&amp;filter=&amp;language=pt-br">translated version</a></span> of the page <a href="../Installation.html" title="Handbook:X86/Full/Installation">Handbook:X86/Full/Installation</a> and the translation is 100% complete.</div>
<hr /><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Introdu.C3.A7.C3.A3o"><span class="tocnumber">1</span> <span class="toctext">Introdução</span></a>
<ul>
<li class="toclevel-2"><a href="#Benvindo"><span class="tocnumber">1.1</span> <span class="toctext">Benvindo</span></a></li>
<li class="toclevel-2"><a href="#Como_a_instala.C3.A7.C3.A3o_est.C3.A1_estruturada"><span class="tocnumber">1.2</span> <span class="toctext">Como a instalação está estruturada</span></a></li>
<li class="toclevel-2"><a href="#Quais_s.C3.A3o_as_op.C3.A7.C3.B5es"><span class="tocnumber">1.3</span> <span class="toctext">Quais são as opções</span></a></li>
<li class="toclevel-2"><a href="#Problemas"><span class="tocnumber">1.4</span> <span class="toctext">Problemas</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Requisitos_de_Hardware"><span class="tocnumber">2</span> <span class="toctext">Requisitos de Hardware</span></a></li>
<li class="toclevel-1"><a href="#CD_de_instala.C3.A7.C3.A3o_do_Gentoo_Linux"><span class="tocnumber">3</span> <span class="toctext">CD de instalação do Gentoo Linux</span></a>
<ul>
<li class="toclevel-2"><a href="#CD_de_instala.C3.A7.C3.A3o_m.C3.ADnima"><span class="tocnumber">3.1</span> <span class="toctext">CD de instalação mínima</span></a></li>
<li class="toclevel-2"><a href="#O_LiveDVD_ocasional_do_Gentoo"><span class="tocnumber">3.2</span> <span class="toctext">O LiveDVD ocasional do Gentoo</span></a></li>
<li class="toclevel-2"><a href="#O_que_s.C3.A3o_os_stages_ent.C3.A3o.3F"><span class="tocnumber">3.3</span> <span class="toctext">O que são os stages então?</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Baixando_e_gravando_o_CD"><span class="tocnumber">4</span> <span class="toctext">Baixando e gravando o CD</span></a>
<ul>
<li class="toclevel-2"><a href="#Baixando_a_m.C3.ADdia"><span class="tocnumber">4.1</span> <span class="toctext">Baixando a mídia</span></a></li>
<li class="toclevel-2"><a href="#Verificando_os_arquivos_baixados"><span class="tocnumber">4.2</span> <span class="toctext">Verificando os arquivos baixados</span></a>
<ul>
<li class="toclevel-3"><a href="#Verificando_no_Microsoft_Windows"><span class="tocnumber">4.2.1</span> <span class="toctext">Verificando no Microsoft Windows</span></a></li>
<li class="toclevel-3"><a href="#Verificando_no_Linux"><span class="tocnumber">4.2.2</span> <span class="toctext">Verificando no Linux</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Gravando"><span class="tocnumber">4.3</span> <span class="toctext">Gravando</span></a>
<ul>
<li class="toclevel-3"><a href="#Gravando_com_o_Microsoft_Windows"><span class="tocnumber">4.3.1</span> <span class="toctext">Gravando com o Microsoft Windows</span></a></li>
<li class="toclevel-3"><a href="#Gravando_com_o_Linux"><span class="tocnumber">4.3.2</span> <span class="toctext">Gravando com o Linux</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a href="#Inicializando_pelo_CD"><span class="tocnumber">5</span> <span class="toctext">Inicializando pelo CD</span></a>
<ul>
<li class="toclevel-2"><a href="#Inicializando_pelo_CD_de_instala.C3.A7.C3.A3o"><span class="tocnumber">5.1</span> <span class="toctext">Inicializando pelo CD de instalação</span></a></li>
<li class="toclevel-2"><a href="#Configura.C3.A7.C3.A3o_extra_de_hardware"><span class="tocnumber">5.2</span> <span class="toctext">Configuração extra de hardware</span></a></li>
<li class="toclevel-2"><a href="#Opcional:_Contas_de_usu.C3.A1rios"><span class="tocnumber">5.3</span> <span class="toctext">Opcional: Contas de usuários</span></a></li>
<li class="toclevel-2"><a href="#Opcional:_Vendo_a_documenta.C3.A7.C3.A3o_enquanto_instala"><span class="tocnumber">5.4</span> <span class="toctext">Opcional: Vendo a documentação enquanto instala</span></a></li>
<li class="toclevel-2"><a href="#Opcional:_Iniciar_o_processo_SSH"><span class="tocnumber">5.5</span> <span class="toctext">Opcional: Iniciar o processo SSH</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Detec.C3.A7.C3.A3o_autom.C3.A1tica_de_rede"><span class="tocnumber">6</span> <span class="toctext">Detecção automática de rede</span></a>
<ul>
<li class="toclevel-2"><a href="#Opcional:_Configura.C3.A7.C3.A3o_de_proxy"><span class="tocnumber">6.1</span> <span class="toctext">Opcional: Configuração de proxy</span></a></li>
<li class="toclevel-2"><a href="#Testando_a_rede"><span class="tocnumber">6.2</span> <span class="toctext">Testando a rede</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Configura.C3.A7.C3.A3o_autom.C3.A1tica_de_rede"><span class="tocnumber">7</span> <span class="toctext">Configuração automática de rede</span></a>
<ul>
<li class="toclevel-2"><a href="#Default:_Usando_o_net-setup"><span class="tocnumber">7.1</span> <span class="toctext">Default: Usando o net-setup</span></a></li>
<li class="toclevel-2"><a href="#Alternativa:_Usando_PPP"><span class="tocnumber">7.2</span> <span class="toctext">Alternativa: Usando PPP</span></a></li>
<li class="toclevel-2"><a href="#Alternativa:_Usando_PPTP"><span class="tocnumber">7.3</span> <span class="toctext">Alternativa: Usando PPTP</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Configura.C3.A7.C3.A3o_manual_de_rede"><span class="tocnumber">8</span> <span class="toctext">Configuração manual de rede</span></a>
<ul>
<li class="toclevel-2"><a href="#Carregando_os_m.C3.B3dulos_de_rede_apropriados"><span class="tocnumber">8.1</span> <span class="toctext">Carregando os módulos de rede apropriados</span></a></li>
<li class="toclevel-2"><a href="#Usando_DHCP"><span class="tocnumber">8.2</span> <span class="toctext">Usando DHCP</span></a></li>
<li class="toclevel-2"><a href="#Preparando_para_acesso_sem_fio"><span class="tocnumber">8.3</span> <span class="toctext">Preparando para acesso sem fio</span></a></li>
<li class="toclevel-2"><a href="#Entendendo_a_terminologia_de_rede"><span class="tocnumber">8.4</span> <span class="toctext">Entendendo a terminologia de rede</span></a></li>
<li class="toclevel-2"><a href="#Usando_o_ifconfig_e_route"><span class="tocnumber">8.5</span> <span class="toctext">Usando o ifconfig e route</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Introdu.C3.A7.C3.A3o_aos_dispositivos_de_blocos"><span class="tocnumber">9</span> <span class="toctext">Introdução aos dispositivos de blocos</span></a>
<ul>
<li class="toclevel-2"><a href="#Dispositivos_de_blocos"><span class="tocnumber">9.1</span> <span class="toctext">Dispositivos de blocos</span></a></li>
<li class="toclevel-2"><a href="#Parti.C3.A7.C3.B5es"><span class="tocnumber">9.2</span> <span class="toctext">Partições</span></a>
<ul>
<li class="toclevel-3"><a href="#MBR"><span class="tocnumber">9.2.1</span> <span class="toctext">MBR</span></a></li>
<li class="toclevel-3"><a href="#GPT"><span class="tocnumber">9.2.2</span> <span class="toctext">GPT</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#GPT_ou_MBR"><span class="tocnumber">9.3</span> <span class="toctext">GPT ou MBR</span></a></li>
<li class="toclevel-2"><a href="#Usando_UEFI"><span class="tocnumber">9.4</span> <span class="toctext">Usando UEFI</span></a></li>
<li class="toclevel-2"><a href="#Armazenamento_avan.C3.A7ado"><span class="tocnumber">9.5</span> <span class="toctext">Armazenamento avançado</span></a></li>
<li class="toclevel-2"><a href="#Esquema_de_particionamento_default"><span class="tocnumber">9.6</span> <span class="toctext">Esquema de particionamento default</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Criando_um_esquema_de_particionamento"><span class="tocnumber">10</span> <span class="toctext">Criando um esquema de particionamento</span></a>
<ul>
<li class="toclevel-2"><a href="#Quantas_e_de_que_tamanho.3F"><span class="tocnumber">10.1</span> <span class="toctext">Quantas e de que tamanho?</span></a></li>
<li class="toclevel-2"><a href="#E_o_espa.C3.A7o_de_swap.3F"><span class="tocnumber">10.2</span> <span class="toctext">E o espaço de swap?</span></a></li>
<li class="toclevel-2"><a href="#O_que_.C3.A9_a_parti.C3.A7.C3.A3o_de_boot_da_BIOS.3F"><span class="tocnumber">10.3</span> <span class="toctext">O que é a partição de boot da BIOS?</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Default:_Usando_parted_para_particionar_o_disco"><span class="tocnumber">11</span> <span class="toctext">Default: Usando parted para particionar o disco</span></a>
<ul>
<li class="toclevel-2"><a href="#Visualizando_o_layout_de_particionamento_atual_com_o_parted"><span class="tocnumber">11.1</span> <span class="toctext">Visualizando o layout de particionamento atual com o parted</span></a></li>
<li class="toclevel-2"><a href="#Configurando_a_etiqueta_GPT"><span class="tocnumber">11.2</span> <span class="toctext">Configurando a etiqueta GPT</span></a></li>
<li class="toclevel-2"><a href="#Removendo_todas_as_parti.C3.A7.C3.B5es_usando_parted"><span class="tocnumber">11.3</span> <span class="toctext">Removendo todas as partições usando parted</span></a></li>
<li class="toclevel-2"><a href="#Criando_as_parti.C3.A7.C3.B5es"><span class="tocnumber">11.4</span> <span class="toctext">Criando as partições</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Alternativa:_Usando_o_fdisk_para_particionar_o_disco"><span class="tocnumber">12</span> <span class="toctext">Alternativa: Usando o fdisk para particionar o disco</span></a>
<ul>
<li class="toclevel-2"><a href="#Visualizando_o_layout_de_parti.C3.A7.C3.B5es_atual"><span class="tocnumber">12.1</span> <span class="toctext">Visualizando o layout de partições atual</span></a></li>
<li class="toclevel-2"><a href="#Removendo_todas_as_parti.C3.A7.C3.B5es_com_o_fdisk"><span class="tocnumber">12.2</span> <span class="toctext">Removendo todas as partições com o fdisk</span></a></li>
<li class="toclevel-2"><a href="#Criando_a_parti.C3.A7.C3.A3o_de_boot_da_BIOS"><span class="tocnumber">12.3</span> <span class="toctext">Criando a partição de boot da BIOS</span></a></li>
<li class="toclevel-2"><a href="#Criando_a_parti.C3.A7.C3.A3o_de_boot"><span class="tocnumber">12.4</span> <span class="toctext">Criando a partição de boot</span></a></li>
<li class="toclevel-2"><a href="#Criando_a_parti.C3.A7.C3.A3o_de_swap"><span class="tocnumber">12.5</span> <span class="toctext">Criando a partição de swap</span></a></li>
<li class="toclevel-2"><a href="#Criando_a_parti.C3.A7.C3.A3o_de_root"><span class="tocnumber">12.6</span> <span class="toctext">Criando a partição de root</span></a></li>
<li class="toclevel-2"><a href="#Gravando_o_layout_de_parti.C3.A7.C3.B5es"><span class="tocnumber">12.7</span> <span class="toctext">Gravando o layout de partições</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Criando_sistemas_de_arquivos"><span class="tocnumber">13</span> <span class="toctext">Criando sistemas de arquivos</span></a>
<ul>
<li class="toclevel-2"><a href="#Introdu.C3.A7.C3.A3o_2"><span class="tocnumber">13.1</span> <span class="toctext">Introdução</span></a></li>
<li class="toclevel-2"><a href="#Sistemas_de_arquivos"><span class="tocnumber">13.2</span> <span class="toctext">Sistemas de arquivos</span></a></li>
<li class="toclevel-2"><a href="#Criando_um_sistema_de_arquivos_em_uma_parti.C3.A7.C3.A3o"><span class="tocnumber">13.3</span> <span class="toctext">Criando um sistema de arquivos em uma partição</span></a></li>
<li class="toclevel-2"><a href="#Ativando_a_parti.C3.A7.C3.A3o_de_swap"><span class="tocnumber">13.4</span> <span class="toctext">Ativando a partição de swap</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Montando"><span class="tocnumber">14</span> <span class="toctext">Montando</span></a></li>
<li class="toclevel-1"><a href="#Instalando_um_arquivo_tar_de_stage"><span class="tocnumber">15</span> <span class="toctext">Instalando um arquivo tar de stage</span></a>
<ul>
<li class="toclevel-2"><a href="#Ajustando_a_data_e_a_hora"><span class="tocnumber">15.1</span> <span class="toctext">Ajustando a data e a hora</span></a></li>
<li class="toclevel-2"><a href="#Baixando_o_arquivo_tar_do_stage"><span class="tocnumber">15.2</span> <span class="toctext">Baixando o arquivo tar do stage</span></a></li>
<li class="toclevel-2"><a href="#Desempacotando_o_arquivo_tar_de_stage"><span class="tocnumber">15.3</span> <span class="toctext">Desempacotando o arquivo tar de stage</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Configurando_as_op.C3.A7.C3.B5es_de_compila.C3.A7.C3.A3o"><span class="tocnumber">16</span> <span class="toctext">Configurando as opções de compilação</span></a>
<ul>
<li class="toclevel-2"><a href="#Introdu.C3.A7.C3.A3o_3"><span class="tocnumber">16.1</span> <span class="toctext">Introdução</span></a></li>
<li class="toclevel-2"><a href="#CFLAGS_e_CXXFLAGS"><span class="tocnumber">16.2</span> <span class="toctext">CFLAGS e CXXFLAGS</span></a></li>
<li class="toclevel-2"><a href="#MAKEOPTS"><span class="tocnumber">16.3</span> <span class="toctext">MAKEOPTS</span></a></li>
<li class="toclevel-2"><a href="#Preparar.2C_acionar.2C_vai.21"><span class="tocnumber">16.4</span> <span class="toctext">Preparar, acionar, vai!</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Fazendo_chroot"><span class="tocnumber">17</span> <span class="toctext">Fazendo chroot</span></a>
<ul>
<li class="toclevel-2"><a href="#Opcional:_Selecionando_espelhos"><span class="tocnumber">17.1</span> <span class="toctext">Opcional: Selecionando espelhos</span></a></li>
<li class="toclevel-2"><a href="#Copie_as_informa.C3.A7.C3.B5es_de_DNS"><span class="tocnumber">17.2</span> <span class="toctext">Copie as informações de DNS</span></a></li>
<li class="toclevel-2"><a href="#Montando_os_sistemas_de_arquivos_necess.C3.A1rios"><span class="tocnumber">17.3</span> <span class="toctext">Montando os sistemas de arquivos necessários</span></a></li>
<li class="toclevel-2"><a href="#Entrando_no_novo_ambiente"><span class="tocnumber">17.4</span> <span class="toctext">Entrando no novo ambiente</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Configurando_o_Portage"><span class="tocnumber">18</span> <span class="toctext">Configurando o Portage</span></a>
<ul>
<li class="toclevel-2"><a href="#Instalando_um_instant.C3.A2neo_do_Portage"><span class="tocnumber">18.1</span> <span class="toctext">Instalando um instantâneo do Portage</span></a></li>
<li class="toclevel-2"><a href="#Opcional:_Atualizando_a_.C3.A1rvore_do_Portage"><span class="tocnumber">18.2</span> <span class="toctext">Opcional: Atualizando a árvore do Portage</span></a></li>
<li class="toclevel-2"><a href="#Lendo_itens_de_not.C3.ADcias"><span class="tocnumber">18.3</span> <span class="toctext">Lendo itens de notícias</span></a></li>
<li class="toclevel-2"><a href="#Escolhendo_o_perfil_correto"><span class="tocnumber">18.4</span> <span class="toctext">Escolhendo o perfil correto</span></a></li>
<li class="toclevel-2"><a href="#Configurando_as_vari.C3.A1veis_USE"><span class="tocnumber">18.5</span> <span class="toctext">Configurando as variáveis USE</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Opcional:_Usando_systemd"><span class="tocnumber">19</span> <span class="toctext">Opcional: Usando systemd</span></a></li>
<li class="toclevel-1"><a href="#Zona_hor.C3.A1ria"><span class="tocnumber">20</span> <span class="toctext">Zona horária</span></a></li>
<li class="toclevel-1"><a href="#Configurando_locais"><span class="tocnumber">21</span> <span class="toctext">Configurando locais</span></a></li>
<li class="toclevel-1"><a href="#Instalando_os_fontes"><span class="tocnumber">22</span> <span class="toctext">Instalando os fontes</span></a></li>
<li class="toclevel-1"><a href="#Padr.C3.A3o:_Configura.C3.A7.C3.A3o_manual"><span class="tocnumber">23</span> <span class="toctext">Padrão: Configuração manual</span></a>
<ul>
<li class="toclevel-2"><a href="#Introdu.C3.A7.C3.A3o_4"><span class="tocnumber">23.1</span> <span class="toctext">Introdução</span></a></li>
<li class="toclevel-2"><a href="#Ativando_as_op.C3.A7.C3.B5es_necess.C3.A1rias"><span class="tocnumber">23.2</span> <span class="toctext">Ativando as opções necessárias</span></a></li>
<li class="toclevel-2"><a href="#Configura.C3.A7.C3.A3o_do_kernel_espec.C3.ADfica_da_arquitetura"><span class="tocnumber">23.3</span> <span class="toctext">Configuração do kernel específica da arquitetura</span></a></li>
<li class="toclevel-2"><a href="#Compilando_e_instalando"><span class="tocnumber">23.4</span> <span class="toctext">Compilando e instalando</span></a></li>
<li class="toclevel-2"><a href="#Opcional:_Criando_um_initramfs"><span class="tocnumber">23.5</span> <span class="toctext">Opcional: Criando um initramfs</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Alternativa:_Usando_o_genkernel"><span class="tocnumber">24</span> <span class="toctext">Alternativa: Usando o genkernel</span></a></li>
<li class="toclevel-1"><a href="#M.C3.B3dulos_do_kernel"><span class="tocnumber">25</span> <span class="toctext">Módulos do kernel</span></a>
<ul>
<li class="toclevel-2"><a href="#Configurando_os_m.C3.B3dulos"><span class="tocnumber">25.1</span> <span class="toctext">Configurando os módulos</span></a></li>
<li class="toclevel-2"><a href="#Opcional:_Instalando_firmware"><span class="tocnumber">25.2</span> <span class="toctext">Opcional: Instalando firmware</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Informa.C3.A7.C3.A3o_do_sistema_de_arquivos"><span class="tocnumber">26</span> <span class="toctext">Informação do sistema de arquivos</span></a>
<ul>
<li class="toclevel-2"><a href="#Sobre_o_fstab"><span class="tocnumber">26.1</span> <span class="toctext">Sobre o fstab</span></a></li>
<li class="toclevel-2"><a href="#Criando_o_arquivo_fstab"><span class="tocnumber">26.2</span> <span class="toctext">Criando o arquivo fstab</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Informa.C3.A7.C3.A3o_de_rede"><span class="tocnumber">27</span> <span class="toctext">Informação de rede</span></a>
<ul>
<li class="toclevel-2"><a href="#Informa.C3.A7.C3.A3o_de_host_e_dom.C3.ADnio"><span class="tocnumber">27.1</span> <span class="toctext">Informação de host e domínio</span></a></li>
<li class="toclevel-2"><a href="#Configurando_a_rede"><span class="tocnumber">27.2</span> <span class="toctext">Configurando a rede</span></a></li>
<li class="toclevel-2"><a href="#Iniciando_automaticamente_a_rede_durante_o_boot"><span class="tocnumber">27.3</span> <span class="toctext">Iniciando automaticamente a rede durante o boot</span></a></li>
<li class="toclevel-2"><a href="#O_arquivo_hosts"><span class="tocnumber">27.4</span> <span class="toctext">O arquivo hosts</span></a></li>
<li class="toclevel-2"><a href="#Opcional:_Fazendo_o_PCMCIA_funcionar"><span class="tocnumber">27.5</span> <span class="toctext">Opcional: Fazendo o PCMCIA funcionar</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Informa.C3.A7.C3.B5es_do_sistema"><span class="tocnumber">28</span> <span class="toctext">Informações do sistema</span></a>
<ul>
<li class="toclevel-2"><a href="#Senha_do_root"><span class="tocnumber">28.1</span> <span class="toctext">Senha do root</span></a></li>
<li class="toclevel-2"><a href="#Configura.C3.A7.C3.A3o_de_in.C3.ADcio_e_boot"><span class="tocnumber">28.2</span> <span class="toctext">Configuração de início e boot</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Sistema_de_log"><span class="tocnumber">29</span> <span class="toctext">Sistema de log</span></a></li>
<li class="toclevel-1"><a href="#Opcional:_Cron_daemon"><span class="tocnumber">30</span> <span class="toctext">Opcional: Cron daemon</span></a></li>
<li class="toclevel-1"><a href="#Opcional:_Indexa.C3.A7.C3.A3o_de_arquivos"><span class="tocnumber">31</span> <span class="toctext">Opcional: Indexação de arquivos</span></a></li>
<li class="toclevel-1"><a href="#Opcional:_Acesso_remoto"><span class="tocnumber">32</span> <span class="toctext">Opcional: Acesso remoto</span></a></li>
<li class="toclevel-1"><a href="#Ferramentas_de_sistemas_de_arquivos"><span class="tocnumber">33</span> <span class="toctext">Ferramentas de sistemas de arquivos</span></a></li>
<li class="toclevel-1"><a href="#Utilit.C3.A1rios_de_rede"><span class="tocnumber">34</span> <span class="toctext">Utilitários de rede</span></a>
<ul>
<li class="toclevel-2"><a href="#Instalando_um_cliente_DHCP"><span class="tocnumber">34.1</span> <span class="toctext">Instalando um cliente DHCP</span></a></li>
<li class="toclevel-2"><a href="#Opcional:_Instalando_um_cliente_PPPoE"><span class="tocnumber">34.2</span> <span class="toctext">Opcional: Instalando um cliente PPPoE</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Selecionando_um_gerenciador_de_boot"><span class="tocnumber">35</span> <span class="toctext">Selecionando um gerenciador de boot</span></a></li>
<li class="toclevel-1"><a href="#Default:_Usando_GRUB2"><span class="tocnumber">36</span> <span class="toctext">Default: Usando GRUB2</span></a>
<ul>
<li class="toclevel-2"><a href="#Instalando_o_GRUB2"><span class="tocnumber">36.1</span> <span class="toctext">Instalando o GRUB2</span></a></li>
<li class="toclevel-2"><a href="#Configurando_o_GRUB2"><span class="tocnumber">36.2</span> <span class="toctext">Configurando o GRUB2</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Alternativa:_Usando_LILO"><span class="tocnumber">37</span> <span class="toctext">Alternativa: Usando LILO</span></a>
<ul>
<li class="toclevel-2"><a href="#Instalando_o_LILO"><span class="tocnumber">37.1</span> <span class="toctext">Instalando o LILO</span></a></li>
<li class="toclevel-2"><a href="#Configurando_o_LILO"><span class="tocnumber">37.2</span> <span class="toctext">Configurando o LILO</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Alternativa:_Usando_o_efibootmgr"><span class="tocnumber">38</span> <span class="toctext">Alternativa: Usando o efibootmgr</span></a></li>
<li class="toclevel-1"><a href="#Reiniciando_o_sistema"><span class="tocnumber">39</span> <span class="toctext">Reiniciando o sistema</span></a></li>
<li class="toclevel-1"><a href="#Administra.C3.A7.C3.A3o_de_usu.C3.A1rios"><span class="tocnumber">40</span> <span class="toctext">Administração de usuários</span></a>
<ul>
<li class="toclevel-2"><a href="#Adicionando_um_usu.C3.A1rio_para_uso_do_dia-a-dia"><span class="tocnumber">40.1</span> <span class="toctext">Adicionando um usuário para uso do dia-a-dia</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Limpeza_do_disco"><span class="tocnumber">41</span> <span class="toctext">Limpeza do disco</span></a>
<ul>
<li class="toclevel-2"><a href="#Removendo_os_arquivos_tar"><span class="tocnumber">41.1</span> <span class="toctext">Removendo os arquivos tar</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Aonde_ir_a_partir_daqui"><span class="tocnumber">42</span> <span class="toctext">Aonde ir a partir daqui</span></a>
<ul>
<li class="toclevel-2"><a href="#Documenta.C3.A7.C3.A3o"><span class="tocnumber">42.1</span> <span class="toctext">Documentação</span></a></li>
<li class="toclevel-2"><a href="#Gentoo_online"><span class="tocnumber">42.2</span> <span class="toctext">Gentoo online</span></a></li>
</ul>
</li>
</ul>
</div>

<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Introdu.C3.A7.C3.A3o">Introdução</span></h2>
<h3><span class="mw-headline" id="Benvindo">Benvindo</span></h3>
<p>Em primeiro lugar, benvindo ao Gentoo. Você está prestes a entrar em um mundo de opções e performance. O Gentoo é todo opções. Quando você estiver instalando o Gentoo, isso é deixado claro muitas vezes -- os usuários podem escolher quanto do sistema querem compilar eles mesmos, como instalar o Gentoo, qual sistema de log usar, etc.
</p><p>O Gentoo é uma distribuição veloz e moderna com um projeto limpo e flexível. O Gentoo é construído em torno de software livre e não esconde de seus usuários o que está "sob o capô do motor". O Portage, o sistema de gerenciamento de pacotes utilizado pelo Gentoo, é escrito em Python, o que significa que o usuário pode facilmente ver e modificar o código fonte. O sistema de pacotes do Gentoo usa código fonte (mas o suporte para pacotes pré-compilados é incluido também) e a configuração do Gentoo é feita através de arquivos texto comuns. Em outras palavras, tudo acontece de forma muito clara e aberta.
</p><p>É muito importante que todos entendam que são as escolhas que movem o Gentoo. Nós tentamos não forçar os usuários naquilo que eles não gostam. Se alguém pensa ao contrário, por favor, <a rel="nofollow" class="external text" href="https://bugs.gentoo.org/">reporte</a>.
</p>
<h3><span class="mw-headline" id="Como_a_instala.C3.A7.C3.A3o_est.C3.A1_estruturada">Como a instalação está estruturada</span></h3>
<p>A instalação do Gentoo pode ser vista como um procedimento de 10 passos, correspondentes ao conjunto seguinte de capítulos. Cada passo resulta em um dado estado:
</p>
<table class="table-condensed table-striped">

<tr>
<th scope="col" width="15%"> Passo </th>
<th> Resultado
</th></tr>
<tr>
<td> 1 </td>
<td> O usuário está em um ambiente pronto para instalar o Gentoo
</td></tr>
<tr>
<td> 2 </td>
<td> A conexão com a Internet está pronta para instalar o Gentoo
</td></tr>
<tr>
<td> 3 </td>
<td> Os discos rígidos estão inicializados para receber a instalação do Gentoo
</td></tr>
<tr>
<td> 4 </td>
<td> O ambiente de instalação está preparado e o usuário pronto para fazer chroot no novo ambiente
</td></tr>
<tr>
<td> 5 </td>
<td> Os pacotes básicos, que são os mesmos em qualquer instalação do Gentoo, estão instalados
</td></tr>
<tr>
<td> 6 </td>
<td> O kernel Linux está instalado
</td></tr>
<tr>
<td> 7 </td>
<td> O usuário tem configurado a maior parte dos arquivos de configuração do sistema Gentoo
</td></tr>
<tr>
<td> 8 </td>
<td> As ferramentas necessárias do sistema estão instaladas
</td></tr>
<tr>
<td> 9 </td>
<td> O gerenciador de boot adequado foi instalado e configurado
</td></tr>
<tr>
<td> 10 </td>
<td> O recém instalado ambiente do Gentoo Linux está pronto para ser explorado.
</td></tr></table>
<p>Sempre que é apresentada uma escolha a ser feita, o manual tentará explicar quais são os prós e contras de cada escolha, Apesar do texto continuar a partir de uma escolha default (identificada com "Default: " no título), as outras possibilidades serão também documentadas (marcadas como "Alternativa: " no título). Não pense que a escolha default é a recomendada pelo Gentoo. É apenas o que o Gentoo acredita que a maioria dos usuários irá usar.
</p><p>Às vezes um passo opcional pode ser seguido. Tais passos são marcados com "Opcional: " e são, dessa forma, não necessários para instalar o Gentoo. Entretanto, alguns passos opcionais são dependentes de alguma escolha previamente feita. As instruções informarão ao leitor quando isso acontecer, tanto quando a decisão for feita e logo antes do passo opcional ser descrito.
</p>
<h3><span class="mw-headline" id="Quais_s.C3.A3o_as_op.C3.A7.C3.B5es">Quais são as opções</span></h3>
<p>O Gentoo pode ser instalado de muitas maneiras. Ele pode ser baixado e instalado a partir  de um dos CDs de instalação, de uma distribuição previamente instalada, de um CD bootável não-Gentoo (tal como o Knoppix), de um ambiente carregado pela rede (netboot), de um disquete de recuperação, etc.
</p><p>Este documento cobre a instalação usando o CD de instalação do Gentoo ou, em certos casos, netboot.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Para ajuda com outras abordagens de instalação, incluindo o uso de CDs não-Gentoo, por favor leia o <a href="../../../Installation_alternatives.html" title="Installation alternatives">Guia de instação alternativa</a>.</div>
<p>Também provemos o documento <a href="../../../Gentoo_installation_tips_and_tricks.html" title="Gentoo installation tips and tricks">Dicas &amp; truques de instalação do Gentoo</a> que pode ser de utilidade ler também.
</p>
<h3><span class="mw-headline" id="Problemas">Problemas</span></h3>
<p>Se for encontrado um problema na instalação (ou na documentação de instalação), por favor visite nosso <a rel="nofollow" class="external text" href="https://bugs.gentoo.org/">sistema de rastreamento de bugs</a> e verifique se é um problema já conhecido. Se não for, por favor, crie um relatório do bug para o problema de modo que possamos resolvê-lo. Não tenha medo dos desenvolvedores para os quais os bugs são designados -- eles (geralmente) não comem pessoas.
</p><p>Note que, apesar deste documento ser específico para uma arquitetura, ele pode conter referências para outras arquiteturas também. Isso é devido ao fato de que grande parte do Manual do Gentoo usa código fonte comum para todas as arquiteturas (a fim de evitar duplicação de esforços e escassez de recursos de desenvolvedores). Tentaremos manter isso ao mínimo para evitar confusão.
</p><p>Se houver alguma incerteza sobre um problema ser ou não um problema do usuário (algum erro cometido apesar de ter lido a documentação cuidadosamente) ou um problema do software (algum problema causado por nós, apesar de termos testado a instalação/documentação cuidadosamente) todos são benvindos ao canal <span style="font-family: monospace; font-size: 95%;"><a rel="nofollow" class="external text" href="irc://irc.gentoo.org/gentoo">#gentoo</a></span> no irc.freenode.net. É claro que todos são benvindos de qualquer forma uma vez que o canal de bate-papo abrange todo espectro do Gentoo.
</p><p>Falando nisso, se houver qualquer questão adicional sobre o Gentoo, cheque a seção das <a href="../../../FAQ.html" title="FAQ">Perguntas Frequentemente Feitas (FAQs)</a>, disponível no <a href="../../../Main_Page.html" title="Main Page">Gentoo Wiki</a>. Também há <a rel="nofollow" class="external text" href="https://forums.gentoo.org/viewforum.php?f=40">FAQs</a> nos <a rel="nofollow" class="external text" href="https://forums.gentoo.org/">Fóruns do Gentoo</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../../Handbook_X86.html" title="Previous part" class="btn btn-default">&#8592; </a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Media/pt-br.html" title="Next part" class="btn btn-default">Escolhendo a midia &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Requisitos_de_Hardware">Requisitos de Hardware</span></h2>
<p>Antes de começar, listamos os requisitos de hardware necessário para instalar o Gentoo em uma máquina x86:
</p><p><br />
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<td>
</td>
<th> CD Mínimo
</th>
<th> LiveDVD
</th></tr>
<tr>
<th> CPU
</th>
<td> i486 ou mais recente
</td>
<td> <b>i686</b> ou mais recente
</td></tr>
<tr>
<th> Memória
</th>
<td> 256 MB
</td>
<td> 512 MB
</td></tr>
<tr>
<th> Espaço em disco
</th>
<td colspan="2">2.5 GB (excluindo área de swap)
</td></tr>
<tr>
<th> Área de swap
</th>
<td colspan="2">Pelo menos 256 MB
</td></tr></table>
<p>O <a rel="nofollow" class="external text" href="https://www.gentoo.org/proj/en/base/x86/">site do projeto Gentoo X86</a> é um bom lugar para maiores informações sobre o suporte do Gentoo ao x86.
</p><p><br />
</p>
<h2><span class="mw-headline" id="CD_de_instala.C3.A7.C3.A3o_do_Gentoo_Linux">CD de instalação do Gentoo Linux</span></h2>
<h3><span class="mw-headline" id="CD_de_instala.C3.A7.C3.A3o_m.C3.ADnima">CD de instalação mínima</span></h3>
<p>O CD de instalação mínima do Gentoo é um CD bootável que contém um ambiente auto-suficiente do Gentoo. Ele permite ao usuário dar boot no Linux a partir do CD. Durante o processo de boot o hardware é detectado e os drivers apropriados são carregados. O CD é mantido pelos desenvolvedores do Gentoo e permite a qualquer um instalar o Gentoo desde que uma conexão ativa com a Internet esteja disponível.
</p><p>O CD de instalação mínima é chamado <span style="font-family: monospace; font-size: 95%">install-x86:-minimal-&lt;release&gt;.iso</span>.
</p>
<h3><span class="mw-headline" id="O_LiveDVD_ocasional_do_Gentoo">O LiveDVD ocasional do Gentoo</span></h3>
<p>Ocasionalmente, um DVD especial é criado pelo projeto Gentoo Ten que pode ser utilizado para instalar o Gentoo. As instruções a seguir deste capítulo tem como alvo o CD de Instalação Mínima então elas podem ser um pouco diferentes. Entretanto, o LiveDVD (ou qualquer outro ambiente Linux bootável) suporta obter um prompt do root apenas executando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">sudo su -</span> ou <span style="font-family: monospace; font-size: 95%; font-weight: bold;">sudo -i</span> em um terminal.
</p>
<h3><span class="mw-headline" id="O_que_s.C3.A3o_os_stages_ent.C3.A3o.3F">O que são os stages então?</span></h3>
<p>Um arquivo tar stage3 é um arquivo contendo um ambiente mínimo do Gentoo, adequado para dar continuidade à instalação do Gentoo usando as instruções deste manual. Anteriormente, o Manual do Gentoo descrevia a instalação usando um dos três arquivos tar de stage. Apesar de o Gentoo ainda oferecer arquivos stage1 e stage2, o método de instalação oficial usa o arquivo tar stage3. Se você estiver interessado em fazer a instalação do Gentoo usando um arquivo tar do stage1 ou stage2, por favor consulte a FAQ do Gentoo <a href="../../../FAQ/pt-br.html#Como_Instalo_o_Gentoo_Usando_o_Arquivo_tar_do_Stage1_ou_Stage2" title="FAQ/pt-br">Como Instalo o Gentoo Usando o Arquivo tar do Stage1 ou Stage2</a>?
</p><p>Arquivos tar do stage3 podem ser baixados de <span style="font-family: monospace; font-size: 95%">releases/x86/autobuilds/</span> em qualquer um dos <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/mirrors/">espelhos oficiais do Gentoo</a> e não são fornecidos pelo CD de instalação.
</p>
<h2><span class="mw-headline" id="Baixando_e_gravando_o_CD">Baixando e gravando o CD</span></h2>
<h3><span class="mw-headline" id="Baixando_a_m.C3.ADdia">Baixando a mídia</span></h3>
<p>A midia padrão de instalação que o Gentoo Linux usa são os "CDs mínimos de instalação", que contém um ambiente do Gentoo Linux bootável e bem pequeno com as ferramentas necessárias de onde instalar o Gentoo. As imagens de CD em si podem ser baixadas de um dos muitos <a rel="nofollow" class="external text" href="https://www.gentoo.org/download/mirrors/">espelhos</a> disponíveis.
</p><p>Nesses espelhos, os CDs mínimos de instalação podem ser encontrados da seguinte forma:
</p>
<ol><li> Vá para o diretório <span style="font-family: monospace; font-size: 95%">releases/</span></li>
<li> Selecione a arquitetura correta, tal como <span style="font-family: monospace; font-size: 95%">x86/</span></li>
<li> Selecione o diretório <span style="font-family: monospace; font-size: 95%">autobuilds/</span></li>
<li> Selecione o diretório <span style="font-family: monospace; font-size: 95%">current-iso/</span></li></ol>
<p>Dentro desse local, o arquivo do CD de instalação é o arquivo com o sufixo <span style="font-family: monospace; font-size: 95%">.iso</span>. Por exemplo, observe a listagem abaixo:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Lista com exemplo de arquivos que podem ser baixados em releases/x86/autobuilds/current-iso/</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>[DIR] hardened/                                          05-Dec-2014 01:42    -   
[   ] install-x86-minimal-20141204.iso                 04-Dec-2014 21:04  208M  
[   ] install-x86-minimal-20141204.iso.CONTENTS        04-Dec-2014 21:04  3.0K  
[   ] install-x86-minimal-20141204.iso.DIGESTS         04-Dec-2014 21:04  740   
[TXT] install-x86-minimal-20141204.iso.DIGESTS.asc     05-Dec-2014 01:42  1.6K  
[   ] stage3-x86-20141204.tar.bz2                      04-Dec-2014 21:04  198M  
[   ] stage3-x86-20141204.tar.bz2.CONTENTS             04-Dec-2014 21:04  4.6M  
[   ] stage3-x86-20141204.tar.bz2.DIGESTS              04-Dec-2014 21:04  720   
[TXT] stage3-x86-20141204.tar.bz2.DIGESTS.asc          05-Dec-2014 01:42  1.5K
</pre></div></pre></div>
<p>No exemplo acima, o arquivo <span style="font-family: monospace; font-size: 95%">install-x86-minimal-20141204.iso</span> é o CD de instalação mínima. Mas, como podemos ver, existem outros arquivos relacionados:
</p>
<ul><li> Um arquivo <span style="font-family: monospace; font-size: 95%">.CONTENTS</span> que é um arquivo texto com a lista de todos os arquivos contidos no CD de instalação. Esse arquivo pode ser útil para verificar se um firmware ou driver em particular está disponível no CD de instalação antes de baixá-lo.</li>
<li> Um arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> que contém o hash do arquivo ISO em si, em vários formatos de hash/algorítmos. Esse arquivo pode ser usado para verificar se o ISO baixado foi corrompido ou não.</li>
<li> Um arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> que contém não apenas contém o hash do arquivo ISO (como o arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS</span>), mas também uma assinatura criptográfica desse arquivo. Isso pode ser usado para tanto verificar se o arquivo baixado foi corrompido ou não, como também verificar se o ISO baixado é realmente fornecido pela equipe de Engenharia de Lançamentos do Gentoo e que não foi adulterado.</li></ul>
<p>Ignore os outros arquivos disponíveis por enquanto - eles serão vistos quando a instalação avançar. Baixe o arquivo <span style="font-family: monospace; font-size: 95%">.ISO</span> e, se quiser verificar o download, baixe o arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> do ISO também. O arquivo <span style="font-family: monospace; font-size: 95%">.CONTENTS</span> não precisa ser baixado uma vez que as instruções de instalação não farão mais referência a esse arquivo, e o arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> deve conter as mesmas informações que o arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>, exceto que esse último também contém uma assinatura no seu início.
</p>
<h3><span class="mw-headline" id="Verificando_os_arquivos_baixados">Verificando os arquivos baixados</span></h3>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Este é um passo adicional e não é necessárioa para a instalação do Gentoo Linux. Entretanto, ele é recomendado uma vez que assegura que o arquivo baixado não foi corrompido e que realmente foi provido pela equipe de Infraestrutura do Gentoo.</div>
<p>Através dos arquivos <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> e <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>, a validade do arquivo ISO pode ser confirmada usando o conjunto certo de ferramentas. A verificação é normalmente feita em duas etapas:
</p>
<ol><li> Primeiro a assinatura criptográfica é validade para se ter certeza que o arquivo de instalação é fornecido pela equipe de Engenharia de Lançamentos do Gentoo</li>
<li> Se a assinatura criptográfica é válida, então o checksum é verificado para se comprovar que o arquivo baixado não foi corrompido</li></ol>
<h4><span class="mw-headline" id="Verificando_no_Microsoft_Windows">Verificando no Microsoft Windows</span></h4>
<p>Em um sistema Windows as ferramentas adequadas para a verificação de checksums e assinaturas criptográficas provavalmente não estarão instaladas.
</p><p>Para primeiro verificar a assinatura criptográfica, ferramentas tais como o <a rel="nofollow" class="external text" href="http://www.gpg4win.org/">GPG4Win</a> podem ser usadas. Após a instalação, as chaves públicas da equipe de Engenharia de Lançamento do Gentoo precisam ser importadas. A lista das chaves está disponível na <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/signatures/">página de assinaturas</a>. Uma vez importadas, o usuário pode então verificar a assinatura do arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.
</p>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />Isso não verifica se o arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> está correto, apenas se o arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> está. Isso também implica que o checksum deve ser verificado contra os valores no arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>, razão pela qual as instruções acima apenas fazem referência em baixar o arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.</div>
<p>O checksum pode ser verificado usando o <a rel="nofollow" class="external text" href="http://www.sinf.gr/en/hashcalc.html">aplicativo Hashcalc</a>,
embora muitos outros existam. Na maior parte do tempo essas ferramentas mostrarão ao usuário o checksum calculado e ao usuário é solicitado que verifique esse checksum com o valor que está dento do arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.
</p>
<h4><span class="mw-headline" id="Verificando_no_Linux">Verificando no Linux</span></h4>
<p>Em um sistema Linux, o método mais comum de verificar uma assinatura criptográfica é usando o software <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-crypt/gnupg">app-crypt/gnupg</a>. Com esse pacote instalado, o seguinte comando pode ser usado para verificar a assinatura criptográfica do arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.
</p><p>Primeiro, baixe o conjunto correto de chaves disponibilizadas na <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/signatures/">página de assinaturas</a>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>gpg --recv-keys 0xBB572E0E2D182910</code></div><pre>
gpg: requesting key 0xBB572E0E2D182910 from hkp server pool.sks-keyservers.net
gpg: key 0xBB572E0E2D182910: &quot;Gentoo Linux Release Engineering (Automated Weekly Release Key) &lt;releng@gentoo.org&gt;&quot; 1 new signature
gpg: 3 marginal(s) needed, 1 complete(s) needed, classic trust model
gpg: depth: 0  valid:   3  signed:  20  trust: 0-, 0q, 0n, 0m, 0f, 3u
gpg: depth: 1  valid:  20  signed:  12  trust: 9-, 0q, 0n, 9m, 2f, 0u
gpg: next trustdb check due at 2018-09-15
gpg: Total number processed: 1
gpg:         new signatures: 1
</pre></div>
<p>A seguir verifique a assinatura criptográfica do arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>gpg --verify install-x86-minimal-20141204.iso.DIGESTS.asc</code></div><pre>
gpg: Signature made Fri 05 Dec 2014 02:42:44 AM CET
gpg:                using RSA key 0xBB572E0E2D182910
gpg: Good signature from &quot;Gentoo Linux Release Engineering (Automated Weekly Release Key) &lt;releng@gentoo.org&gt;&quot; [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 13EB BDBE DE7A 1277 5DFD  B1BA BB57 2E0E 2D18 2910
</pre></div>
<p>Para estar absolutamente certo de que tudo é validado, verifique a impressão digital (<i>fingerprint</i>) mostrada com a impressão digital da <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/signatures/">página de assinaturas do Gentoo</a>.
</p><p>Com a assinatura criptográfica validada, em seguida verifique a soma de verificação (checksum) para se certificar que o ISO baixado não foi corrompido. O arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> contém vários algorítmos de hash, então um dos métodos para se saber qual o correto para se usar é olhar na soma de verificação registrada no arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>. Por exemplo, para se obter a soma de verificação SHA512:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>grep -A 1 -i sha512 install-x86-minimal-20141204.iso.DIGESTS.asc</code></div><pre>
# SHA512 HASH
364d32c4f8420605f8a9fa3a0fc55864d5b0d1af11aa62b7a4d4699a427e5144b2d918225dfb7c5dec8d3f0fe2cddb7cc306da6f0cef4f01abec33eec74f3024  install-x86-minimal-20141204.iso
--
# SHA512 HASH
0719a8954dc7432750de2e3076c8b843a2c79f5e60defe43fcca8c32ab26681dfb9898b102e211174a895ff4c8c41ddd9e9a00ad6434d36c68d74bd02f19b57f  install-x86-minimal-20141204.iso.CONTENTS
</pre></div>
<p>Na saída acima, duas somas de verificação (checksums) são mostradas - uma para o arquivo  <span style="font-family: monospace; font-size: 95%">install-x86-minimal-20141204.iso</span> e uma para o arquivo <span style="font-family: monospace; font-size: 95%">.CONTENTS</span> correspondente. Apenas a primeira soma de verificação interessa, pois essa que deve ser comparada com a soma SHA512 que pode ser gerada como a seguir:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>sha512sum install-x86-minimal-20141204.iso</code></div><pre>
364d32c4f8420605f8a9fa3a0fc55864d5b0d1af11aa62b7a4d4699a427e5144b2d918225dfb7c5dec8d3f0fe2cddb7cc306da6f0cef4f01abec33eec74f3024  install-x86-minimal-20141204.iso
</pre></div>
<p>Como os checksums conferem, o arquivo não está corrompido e a instalação pode continuar.
</p>
<h3><span class="mw-headline" id="Gravando">Gravando</span></h3>
<p>Claro, apenas com o arquivo ISO baixado, a instalação do Gentoo Linux não pode ser iniciada. O arquivo ISO precisa ser gravado em um CD de forma que seu "conteúdo" é gravado no CD, não o arquivo em si. Abaixo são descritos alguns métodos mais comuns - um conjunto mais elaborado de instruções pode ser encontrado em <a href="../../../FAQ/pt-br.html#Como_gravo_um_arquivo_ISO.3F" title="FAQ/pt-br">nossa FAQ em como gravar um arquivo ISO</a>.
</p>
<h4><span class="mw-headline" id="Gravando_com_o_Microsoft_Windows">Gravando com o Microsoft Windows</span></h4>
<p>No Microsoft Windows existem algumas ferramentas que suportam a gravação de ISOs em CDs.
</p>
<ul><li> Com o EasyCD Creator, selecione <span style="font-family: monospace; font-size: 95%">File</span>, <span style="font-family: monospace; font-size: 95%">Record CD from CD image</span>. Então troque <span style="font-family: monospace; font-size: 95%">Files of type</span> para <i>ISO image file</i>. Então selecione o arquivo ISO e clique em <span style="font-family: monospace; font-size: 95%">Open</span>. Depois de clicar em <span style="font-family: monospace; font-size: 95%">Start recording</span>, a imagem ISO será gravada corretamente no CD-R.</li>
<li> Com o Nero Burning ROM, cancele o assistente que aparece automaticamente e selecione <span style="font-family: monospace; font-size: 95%">Burn Image</span> do menu <span style="font-family: monospace; font-size: 95%">File</span>. Selecione a imagem para gravar e clique em <span style="font-family: monospace; font-size: 95%">Open</span>. Então clique no botão <span style="font-family: monospace; font-size: 95%">Burn</span> e assista ao novo CD sendo gravado.</li></ul>
<h4><span class="mw-headline" id="Gravando_com_o_Linux">Gravando com o Linux</span></h4>
<p>No Linux, o arquivo ISO pode ser gravado em um CD usando o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">cdrecord</span>, que é parte do pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-cdr/cdrtools">app-cdr/cdrtools</a>.
</p><p>Por exemplo, para gravar o arquivo ISO no CD no dispositivo <span style="font-family: monospace; font-size: 95%">/dev/sr0</span> (esse é o primeiro dispositivo de CD do sistema - substitua pelo dispositivo correto se necessário):
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>cdrecord dev=/dev/sr0 install--minimal-20141204.iso</code></div></div>
<p>Usuários que preferem uma interface gráfica podem usar o K3B, parte do pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-cdr/k3b">app-cdr/k3b</a>. No K3B, vá para <span style="font-family: monospace; font-size: 95%">Tools</span> e use <span style="font-family: monospace; font-size: 95%">Burn CD Image</span>. Então siga as instruções dadas pelo K3B.
</p>
<h2><span class="mw-headline" id="Inicializando_pelo_CD">Inicializando pelo CD</span></h2>
<h3><span class="mw-headline" id="Inicializando_pelo_CD_de_instala.C3.A7.C3.A3o">Inicializando pelo CD de instalação</span></h3>
<p>Uma vez que o CD de instalação está gravado, é hora de usá-lo. Remova todos os CDs dos drives de CD, reinicilize o sistema e entre na BIOS ou UEFI. Isso é normalmente feito teclando <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">DEL</kbd>, <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd> ou <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">ESC</kbd>, o que é altamente dependente do sistema e placa-mãe utilizada. Dentro do menu da BIOS ou UEFI, troque a ordem de boot de modo que o CD-ROM seja tentado antes do disco rígido. Sem essa mudança, o sistema irá apenas iniciar pelo disco rígido, ignorando o CD-ROM.
</p>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />Quando instalar o Gentoo com o propósito de usar a interface UEFI em vez da BIOS, é recomendado inicializar com o UEFI imediatamente. Se isso não for feito, então pode ser necessário criar um pendrive USB UEFI inicializável (ou outra mídia) uma vez antes de finalizar a instalação do Gentoo Linux.</div>
<p>Agora coloque o CD de instalação no drive de CD-ROM e reinicialize. Um sinal de pronto do boot deve aparecer. Nessa tela, o <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd> iniciará o processo de inicialização com as opções padrões de inicialização. Para inicializar o CD de instalação com opções de inicialização customizadas, especifique o kernel seguido pelas opções de inicialização e tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>.
</p><p>No sinal de pronto, os usuários tem a opção de visualizar os kernel disponíveis (<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd>) e opções de inicialização (<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F2</kbd>). Se nenhuma escolha for feita em 15 segundos (mostrar informações ou usar um kernel) então o CD de instalação continuará inicializando pelo disco rígido. Isso permite às instalações reinicializar e experimentar o ambiente instalado sem a necessidade de remover o CD da bandeja (o que é útil em instalações remotas).
</p><p>Mencionamos que é possível especificar um kernel. No CD de instalação, vários kernel estão disponíveis. O kernel padrão é chamado <i>gentoo</i>. Outros kernel são para necessidades especiais de hardware e as variantes <i>-nofb</i> desabilitam o suporte ao framebuffer.
</p><p>A tabela a seguir dá uma breve descrição dos kernels disponíveis.
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<th> Kernel
</th>
<th> Descrição
</th></tr>
<tr>
<td> gentoo
</td>
<td> Kernel padrão com suporte para CPUs K8 (incluindo suporte a NUMA) e CPUs EM64T
</td></tr>
<tr>
<td> gentoo-nofb
</td>
<td> Mesmo que <i>gentoo</i> mas sem suporte ao framebuffer
</td></tr>
<tr>
<td> memtest86
</td>
<td> Testa se há erros de RAM
</td></tr></table>
<p>Além do kernel, as opções de inicialização ajudam a afinar o processo de inicialização ainda mais. 
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<th colspan="2"> Opções de hardware
</th></tr>
<tr>
<td> acpi=on
</td>
<td> Carrega suporte a ACPI e também faz com que o serviço acpid seja iniciado pelo CD durante a inicialização. Isso é apenas necessário se o sistema precisar da ACPI para funcionar adequadamente. Essa opção não é necessária para suporte a Hyperthreading.
</td></tr>
<tr>
<td> acpi=off
</td>
<td> Desabilita completamente a ACPI. Isso é útil em sistemas mais antigos e também é necessário para usar APM. Isso irá desabilitar todo o suporte a Hyperthreading do processador.
</td></tr>
<tr>
<td> console=X
</td>
<td> Configura acesso a console serial para o CD. A primeira opção é o dispositivo, normalmente ttyS0 no x86, seguida pelas opções de conexão, separadas por vírgulas. As opções padrões são 9600,8,n,1.
</td></tr>
<tr>
<td> dmraid=X
</td>
<td> Permite passar opções ao device-mapper do subsistema RAID. As opções devem estar entre aspas..
</td></tr>
<tr>
<td> doapm
</td>
<td> Carrega o driver de suporte a APM. Isso requer a opção <code>acpi=off</code>.
</td></tr>
<tr>
<td> dopcmcia
</td>
<td> Carrega o suporte a hardware PCMCIA e Cardbus e também faz com que o cardmgr pcmcia seja iniciado pelo CD no boot. Esta opção é apenas necessária quando inicializar de dispositivos PCMCIA/Cardbus.
</td></tr>
<tr>
<td> doscsi
</td>
<td> Carrega suporte a maioria dos controladores SCSI. É também necessário para inicializar pela maioria dos dispositivos USB, uma vez que eles usam o subsistema SCSI do kernel.
</td></tr>
<tr>
<td> sda=stroke
</td>
<td> Permite ao usuário particionar o disco rígido inteiro mesmo que a BIOS seja incapaz de gerenciar discos grandes. Esta opção é usada apeas em máquinas com BIOS antigas. Troque sda pelo dispositivo que necessita da opção.
</td></tr>
<tr>
<td> ide=nodma
</td>
<td> Força a desabilitação do DMA no kernel e é necessária por alguns chipsets IDE e também por alguns drives de CDROM. Se o sistema apresentar problemas para ler o CDROM IDE, tente esta opção. Também desabilita a execução da configuração padrão do hdparm.
</td></tr>
<tr>
<td> noapic
</td>
<td> Desabilita o Controlador de Interrupções Programável Avançado (APIC) encontrado em placas-mãe mais novas. Sabe-se que pode causar alguns problemas em hardwares mais antigos.
</td></tr>
<tr>
<td> nodetect
</td>
<td> Desabilita toda a autodetecção feita pelo CD, incluindo autodetecção de dispositivos e configuração por DHCP. Isso é util para depuração de problemas de um CD ou driver.
</td></tr>
<tr>
<td> nodhcp
</td>
<td> Desabilita a configuração por DHCP nas interfaces de rede detectadas. Isso é útil em redes que usam apenas endereços estáticos.
</td></tr>
<tr>
<td> nodmraid
</td>
<td> Desabilita suporte ao device-mapper RAID, tais como as usadas por controladoras on-board RAID IDE/SATA.
</td></tr>
<tr>
<td> nofirewire
</td>
<td> Desabilita o carregamento dos módulos Firewire. Isso deve ser necessário apenas se seu hardware Firewire estiver causando problemas na inicialização pelo CD.
</td></tr>
<tr>
<td> nogpm
</td>
<td> Desabilita o suporte gpm ao mouse no console.
</td></tr>
<tr>
<td> nohotplug
</td>
<td> Desabilita a carga dos scripts de inicialização do hotplug e coldplug na inicialização. Isso é útil para fazer depuração de um CD ou driver problemático.
</td></tr>
<tr>
<td> nokeymap
</td>
<td> Desabilita a seleção de mapa de caracteres usada para selecionar layouts de teclados não-US.
</td></tr>
<tr>
<td> nolapic
</td>
<td> Desabilita o APIC local em kernels uniprocessados.
</td></tr>
<tr>
<td> nosata
</td>
<td> Desabilita o carregamento dos módulos Serial ATA. Isso é usando quando o sistema estiver tendo problemas com o subsistema SATA.
</td></tr>
<tr>
<td> nosmp
</td>
<td> Desabilita o SMP, ou Multiprocessamento Simétrico, em kernels com o SMP habilitado. Isso é útil para depurar problemas relacionados ao SMP em certos drivers e placas-mãe.
</td></tr>
<tr>
<td> nosound
</td>
<td> Desabilita o suporte a som e ajuste de volume. Isso é útil em sistemas onde o suporte a som estiver causando problemas.
</td></tr>
<tr>
<td> nousb
</td>
<td> Desabilita o carregamento de módulos USB. É útil para depurar problemas em USB.
</td></tr>
<tr>
<td> slowusb
</td>
<td> Isso adiciona pausa extra no processo de inicialização para CDROMs USB lentos, como no IBM BladeCenter
</td></tr>
<tr>
<th colspan="2"> Gerenciamento de volume/dispositivo lógico
</th></tr>
<tr>
<td> dolvm
</td>
<td> Habilita suporte ao gerenciamento de Volume Lógico do Linux.
</td></tr>
<tr>
<th colspan="2"> Outras opções
</th></tr>
<tr>
<td> debug
</td>
<td> Desabilita o código de depuração. Isso pode ficar confuso pois mostra uma grande quantidade de dados na tela.
</td></tr>
<tr>
<td> docache
</td>
<td> Faz cache de todo o conteúdo do CD na RAM, o que permite ao usuário desmontar o <span style="font-family: monospace; font-size: 95%">/mnt/cdrom</span> e montar outro CDROM. Esta opção requer que haja pelo menos o dobro de memória RAM disponível que o tamanho do CD.
</td></tr>
<tr>
<td> doload=X
</td>
<td> Isso faz com que o disco de RAM inicial carregue qualquer módulo listado, assim como as dependências. Substitua o X pelo nome do módulo. Múltiplos módulos podem ser especificados em uma lista de itens separados por vírgula.
</td></tr>
<tr>
<td> dosshd
</td>
<td> Inicia o sshd no boot, o que é útil em instalações remotas.
</td></tr>
<tr>
<td> passwd=foo
</td>
<td> Coloca qualquer coisa que siga como a senha do root, o que é necessário pelo <i>dosshd</i> uma vez que a senha do root por padrão é "embaralhada".
</td></tr>
<tr>
<td> noload=X
</td>
<td> Causa o disco de RAM inicial pular o carregamento de um módulo específico que esteja causando problemas. A sintaxe é a mesma do doload.
</td></tr>
<tr>
<td> nonfs
</td>
<td> Desabilita o disparo do portmap/nfsmount na inicialização.
</td></tr>
<tr>
<td> nox
</td>
<td> Isso faz com que um LiveCD com o X habilitado não inicie automaticamente o X mas, em vez disso, mostre a linha de comando.
</td></tr>
<tr>
<td> scandelay
</td>
<td> Faz o CD pausar por 10 segundos durante certas partes do processo de inicialização para permitir que dispositivos lentos inicializem e fiquem prontos para uso.
</td></tr>
<tr>
<td> scandelay=X
</td>
<td> Permite ao usuário especificar o atraso, em segundos, a ser adicionado a certas partes do processo de inicialização para permitir que dispositivos lentos inicializem e fiquem prontos para uso. Substitua o X pelo número de segundos para pausar.
</td></tr></table>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O CD verifica as opções <code>no*</code> antes das opções <code>do*</code>, então essas opções podem ser sobrepostas na exata ordem especificada.</div>
<p>Agora inicialize pelo CD, selecione um kernel (se o kernel padrão <code>gentoo</code> não for suficiente) e opções de inicialização. Como exemplo, inicializamos o kernel <code>gentoo</code>, com <code>dopcmcia</code> como parâmetro do kernel.
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">boot:</code><span class="tripleclick-separator"></span><code>gentoo dopcmcia</code></div></div>
<p>Em seguida o usuário é saudado com uma tela de inicialização e uma barra de progresso. Se a instalação é feita em um sistema com teclado não-EUA, pressione imediatamente <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd> + <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd> para trocar para o modo verboso e siga as mensagens. Se nenhuma seleção for feita em 10 segundos o padrão (teclado dos EUA) será carregado e o processo de instalação continuará. Uma vez que o processo de inicialização complete, o usuário é automaticamente logado no ambiente "vivo" do Gentoo Linux como usuário "root", o superusuário. Um sinal de pronto é mostrado no console atual, e o usuário pode trocar para outros consoles pressionando <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd> + <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F2</kbd>, <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd> + <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F3</kbd> and <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd> + <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F4</kbd>. Volte ao console inicial pressionando <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd> + <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd>.
</p><p><br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Configura.C3.A7.C3.A3o_extra_de_hardware">Configuração extra de hardware</span></h3>
<p>Quando o CD de instalação inicia o sistema, ele tenta detectar todos os dispositivos de hardware e carrega os módulos do kernel apropriados para suportar o hardware. Na grande maioria dos casos, ele faz um ótimo trabalho. Entretanto, em alguns casos ele pode não carregar automaticamente os módulos do kernel que o sistema precisa. Se a auto-detecção da PCI não encontrar algum hardware do sistema, os módulos apropriados do kernel precisam ser carregados manualmente.
</p><p>No exemplo a seguir o módulo 8139too (que dá suporte a certos tipos de interfaces de rede) é carregado:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>modprobe 8139too</code></div></div> 
<h3><span class="mw-headline" id="Opcional:_Contas_de_usu.C3.A1rios">Opcional: Contas de usuários</span></h3>
<p>Se outras pessoas precisarem de acesso ao ambiente de instalação, ou se houver necessidade de executar comandos como usuário não-root no CD de instalação (tal como conversar usando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">irssi</span> (cliente IRC) sem privilégios de root), então uma conta de usuário adicional precisa ser criada e a senha do root trocada para uma senha forte.
</p><p>Para trocar a senha do root, use o utilitário <span style="font-family: monospace; font-size: 95%; font-weight: bold;">passwd</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>passwd</code></div><pre>
New password: (Digite a nova senha)
Re-enter password: (Re-digite a nova senha)
</pre></div>
<p>Para criar uma conta, primeira entre com suas credenciais, seguida da senha da conta. Os comandos <span style="font-family: monospace; font-size: 95%; font-weight: bold;">useradd</span> e <span style="font-family: monospace; font-size: 95%; font-weight: bold;">passwd</span> são utilizados para essas tarefas.
</p><p>No exemplo a seguir, um usuário chamado <i>john</i> é criado:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>useradd -m -G users john
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>passwd john</code></div><pre>
New password: (Digite a senha de john)
Re-enter password: (Re-digite a senha de john)
</pre></div>
<p>Para trocar do usuário atual (root) para a conta recém-criada, use o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">su</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>su - john</code></div></div>
<h3><span class="mw-headline" id="Opcional:_Vendo_a_documenta.C3.A7.C3.A3o_enquanto_instala">Opcional: Vendo a documentação enquanto instala</span></h3>
<p>Para ver o manual do Gentoo durante a instalação, primeiro crie uma conta de usuário conforme descrito acima. Então tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd> + <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F2</kbd> para ir a outro terminal.
</p><p>Durante a instalação, o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span> pode ser usado para navegar pelo manual do Gentoo - logicamente apenas a partir do momento em que a conexão com a Internet estiver funcionando.
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>links <a rel="nofollow" class="external free" href="../../../Handbook_X86.html">https://wiki.gentoo.org/wiki/Handbook:X86</a></code></div></div>
<p>Para voltar ao terminal de origem, tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd> + <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd>.
</p>
<h3><span class="mw-headline" id="Opcional:_Iniciar_o_processo_SSH">Opcional: Iniciar o processo SSH</span></h3>
<p>Para permitir que outros usuários acessem o sistema durante a instalação (talvez para ajudar na instalação, ou mesmo instalar remotamente), uma conta de usuário precisa ser criada (como documentado anteriormente) e o processo ssh precisa ser iniciado.
</p><p>Para disparar o processo SSH, execute o seguinte comando:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/sshd start</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Se usuários se logarem ao sistema remotamente, eles receberão uma mensagem dizendo que a chave do hospedeiro (<i>host key</i>) precisa ser confirmada (através do que é chamada impressão digital (<i>fingerprint</i>)). Isso é esperado na primeira vez que alguém se logar no sistema. Entretanto, mais tarde, quando o sistema estiver instalado e alguém acessa remotamente o sistema recém-instalado, o cliente SSH vai avisar que a chave do hospedeiro foi modificada. Isso acontece porque agora o usuário loga - para o SSH - em um servidor diferente (a saber o sistema Gentoo recém-instalado em vez do ambiente de instalação sendo usado). Siga as instruções na tela para trocar a chave do hospedeiro n sistema cliente.</div>
<p>Para ser capaz de usar o sshd, a rede deve estar funcionando apropriadamente. Continue com a instalação em <a href="../../Installation/Networking/pt-br.html" title="Handbook:X86/Installation/Networking/pt-br">Configurando a rede</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/About/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Sobre a Instalação</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Networking/pt-br.html" title="Next part" class="btn btn-default">Configurando a rede &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Detec.C3.A7.C3.A3o_autom.C3.A1tica_de_rede">Detecção automática de rede</span></h2>
<p>Talvez já esteja funcionando?
</p><p>Se o sistema estiver conectado a uma rede Ethernet com um servidor DHCP, é muito provável que a configuração de rede já tenha sido feita automaticamente. Se for o caso, então os muitos comandos incluidos no CD de instalação que dependem da rede tais como <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ssh</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">scp</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ping</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">irssi</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">wget</span> e <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span>, entre outros, funcionarão imediatamente.
</p><p>Se a rede já foi configurada, o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span> deve listar alguma interface de rede além da <span style="font-family: monospace; font-size: 95%">lo</span>, tal como <span style="font-family: monospace; font-size: 95%">eth0</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ifconfig</code></div><pre>
(...)
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11 Base address:0xe800 
</pre></div>
<p>O nome da interface do sistema pode ser bem diferente de <span style="font-family: monospace; font-size: 95%">eth0</span>. Mídias recentes de instalação pode mostrar nomes de interface de rede como <span style="font-family: monospace; font-size: 95%">eno0</span>, <span style="font-family: monospace; font-size: 95%">ens1</span> ou <span style="font-family: monospace; font-size: 95%">enp5s0</span>. Procure o nome da interface na saída do comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span> que tem um endereço IP relacionado à rede local.
</p><p>No restante deste documento, assumiremos que a interface é chamada <span style="font-family: monospace; font-size: 95%">eth0</span>.
</p>
<h3><span class="mw-headline" id="Opcional:_Configura.C3.A7.C3.A3o_de_proxy">Opcional: Configuração de proxy</span></h3>
<p>Se a Internet é acessada através de um proxy, então é necessário entrar com as informações do proxy durante a instalação. É muito fácil definir um proxy: apenas defina uma variável que contém as informações do servidor proxy.
</p><p>Na maioria dos casos, é suficiente definir as variáveis usando o nome do servidor. Como exemplo, vamos assumir que o proxy é chamado proxy.gentoo.org e a porta é 8080.
</p><p>Para configurar um proxy HTTP (para tráfego HTTP e HTTPS):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export http_proxy="<a rel="nofollow" class="external free" href="http://proxy.gentoo.org:8080/">http://proxy.gentoo.org:8080</a>"</code></div></div>
<p>Para configurar um proxy FTP:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export ftp_proxy="<a rel="nofollow" class="external free" href="ftp://proxy.gentoo.org:8080/">ftp://proxy.gentoo.org:8080</a>"</code></div></div>
<p>Para configurar um proxy rsync:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export RSYNC_PROXY="proxy.gentoo.org:8080"</code></div></div>
<p>Se o proxy requer um nome de usuário e senha, use a seguinte sintaxe para a variável:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Adicionando usuário/senha à variável proxy</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>http://usuário:senha@proxy.gentoo.org:8080
</pre></div></pre></div>
<h3><span class="mw-headline" id="Testando_a_rede">Testando a rede</span></h3>
<p>Tente "pingar" o servidor DNS do seu provedor (encontrado em <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span>) e um site web de sua escolha. Isso certifica que a rede está funcionando adequadamente e que os pacotes de rede estão alcançando a rede, a resolução de nomes pelo DNS está funcionando corretamente etc.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ping -c 3 www.gentoo.org</code></div></div>
<p>Se tudo funcionar, então o restante deste capítulo pode ser pulado para o próximo passo das instruções de instalação (<a href="../../Installation/Disks/pt-br.html" title="Handbook:X86/Installation/Disks/pt-br">Preparando os discos</a>).
</p>
<h2><span class="mw-headline" id="Configura.C3.A7.C3.A3o_autom.C3.A1tica_de_rede">Configuração automática de rede</span></h2>
<p>Se a rede não funcionar imediatamente, algumas mídias de instalação permitem ao usuário usar o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> (para redes regulares ou sem fio), <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pppoe-setup</span> (para usuários de ADSL) ou <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pptp</span> (para usuários de PPTP).
</p><p>Se a mídia de instalação não incluir nenhuma dessas ferramentas, continue com a <a href="#Manual_network_configuration">Configuração manual de rede</a>.
</p>
<ul><li> Usuários de Ethernet regular devem continuar <a href="#Default:_Usando_o_net-setup">Default: Usando o net-setup</a></li>
<li> Usuários de ADSL devem continuar com <a href="#Alternativa:_Usando_PPP">Alternativa: Usando PPP</a></li>
<li> Usuários de PPTP devem continuar com <a href="#Alternativa:_Usando_PPTP">Alternativa: Usando PPTP</a></li></ul>
<h3><span class="mw-headline" id="Default:_Usando_o_net-setup">Default: Usando o net-setup</span></h3>
<p>O modo mais simples de configurar a rede se ela não foi configurada automaticamente é executar o script <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>net-setup eth0</code></div></div>
<p>O <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> irá fazer algumas perguntas sobre o ambiente de rede. Quando terminar, a conexão de rede deve funcionar. Teste a conexão de rede como descrito anteriormente. Se os testes derem certo, parabéns! Pule o resto desta seção e continue com <a href="../../Installation/Disks/pt-br.html" title="Handbook:X86/Installation/Disks/pt-br">Preparando os discos</a>.
</p><p>Se a rede ainda não funciona, continue com a <a href="#Manual_network_configuration.2Fpt-br">Configuração manual de rede</a>.
</p>
<h3><span class="mw-headline" id="Alternativa:_Usando_PPP">Alternativa: Usando PPP</span></h3>
<p>Assumindo que é necessário o uso do PPPoE para se conectar à Internet, o CD de instalação (qualquer versão) tornou as coisas mais fáceis incluindo o ppp. Use o script <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pppoe-setup</span> provido para configurar a conexão. Durante a configuração será perguntado o dispositivo que está conectado ao seu modem ADSL, o nome de usuário e senha, os IPs dos servidores DNS e se é necessário um firewall básico.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>pppoe-setup
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>pppoe-start</code></div></div>
<p>Se alguma coisa der errado, verifique se o usuário e senha estão corretos olhando em  <span style="font-family: monospace; font-size: 95%">etc/ppp/pap-secrets</span> ou <span style="font-family: monospace; font-size: 95%">/etc/ppp/chap-secrets</span> e certifique-se de estar usando o dispositivo Ethernet correto. Se o dispositivo Ethernet não existir, os módulos de rede apropriados precisam ser carregados. Nesse caso, continue em <a href="#Manual_network_configuration.2Fpt-br">Configuração manual de rede</a> pois lá é explicado como carregar os módulos de rede apropriados.
</p><p>Se tudo estiver funcionando, prossiga com <a href="../../Installation/Disks/pt-br.html" title="Handbook:X86/Installation/Disks/pt-br">Preparando os discos</a>.
</p>
<h3><span class="mw-headline" id="Alternativa:_Usando_PPTP">Alternativa: Usando PPTP</span></h3>
<p>Se for necessário suporte a PPTP, use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pptpclient</span>, que é provido pelos CDs de instalação. Mas primeiro certifique-se que a configuração está correta. Edite <span style="font-family: monospace; font-size: 95%">/etc/ppp/pap-secrets</span> ou <span style="font-family: monospace; font-size: 95%">/etc/ppp/chap-secrets</span> de modo que contenha a combinação correta de usuário e senha:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/ppp/chap-secrets</code></div></div>
<p>Depois ajuste o <span style="font-family: monospace; font-size: 95%">/etc/ppp/options.pptp</span> se necessário:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/ppp/options.pptp</code></div></div>
<p>Quando tudo pronto, execute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pptp</span> (juntamente com as opções que não puderam ser incluídas em <span style="font-family: monospace; font-size: 95%">options.pptp</span>) para conectar ao servidor:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>pptp &lt;ip do servidor&gt;</code></div></div>
<p>Agora continue com <a href="../../Installation/Disks/pt-br.html" title="Handbook:X86/Installation/Disks/pt-br">Preparando os discos</a>.
</p>
<h2><span class="mw-headline" id="Configura.C3.A7.C3.A3o_manual_de_rede">Configuração manual de rede</span></h2>
<h3><span class="mw-headline" id="Carregando_os_m.C3.B3dulos_de_rede_apropriados">Carregando os módulos de rede apropriados</span></h3>
<p>Quando o CD de instalação inicializa, ele tenta detectar todos os dispositivos de hardware e carrega os módulos (drivers) do kernel necessários para suportar o hardware. Na vasta maioria dos casos, ele faz um ótimo trabalho. Em alguns casos, entretanto, ele pode não carregar os módulos necessários.
</p><p>Se o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> ou o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pppoe-setup</span> falhou, então é possível que a placa de rede não foi encontrada imediatamente. Isso significa que o usuário pode precisar carregar os módulos do kernel manualmente.
</p><p>Para saber quais módulos do kernel são providos para rede, use o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ls</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /lib/modules/`uname -r`/kernel/drivers/net</code></div></div>
<p>Se encontrar um driver para o dispositivo de rede, use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">modprobe</span> para carregar o módulo do kernel. Por exemplo, para carregar o módulo <span style="font-family: monospace; font-size: 95%">pcnet32</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>modprobe pcnet32</code></div></div>
<p>Para checar se a placa de rede foi detectada, use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span>. Uma placa de rede quando detectada deve resultar em algo como (novamente, <span style="font-family: monospace; font-size: 95%">eth0</span> é apenas um exemplo):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ifconfig eth0</code></div><pre>
eth0      Link encap:Ethernet  HWaddr FE:FD:00:00:00:00  
          BROADCAST NOARP MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
</pre></div>
<p>Se, entretanto, o seguinte erro for mostrado, a placa de rede não foi detectada:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ifconfig eth0</code></div><pre>
eth0: error fetching interface information: Device not found
</pre></div>
<p>Os nomes das interfaces de rede disponíveis no sistema podem ser listados através do sistema de arquivos em <span style="font-family: monospace; font-size: 95%">/sys</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /sys/class/net</code></div><pre>
dummy0  eth0  lo  sit0  tap0  wlan0
</pre></div>
<p>No exemplo acima foram encontradas 6 interfaces. A <span style="font-family: monospace; font-size: 95%">eth0</span> é a mais provável de ser o adaptador Ethernet (com fio) enquanto o <span style="font-family: monospace; font-size: 95%">wlan0</span> é a sem fio.
</p><p>Assumindo que a placa de rede foi detectada, tente novamente o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> ou <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pppoe-setup</span> (que deve funcionar agora) mas, para o pessoal mais "hardcore", explicamos também como configurar a rede manualmente.
</p><p>Selecione uma das seguintes seções baseado em sua configuração de rede:
</p>
<ul><li> <a href="#Usando_DHCP">Usando DHCP</a> para obtenção automática de IP</li>
<li> <a href="#Preparando_para_acesso_sem_fio">Preparando para acesso sem fio</a> sem for usada uma rede sem fio</li>
<li> <a href="#Entendendo_a_terminologia_de_rede">Entendendo a terminologia de rede</a> explica o básico sobre uso de redes</li>
<li> <a href="#Usando_ifconfig_e_route">Usando ifconfig e route</a> explica como configurar a rede manualmente</li></ul>
<h3><span class="mw-headline" id="Usando_DHCP">Usando DHCP</span></h3>
<p>DHCP ("Dynamic Host Configuration Protocol" - Protocolo de Configuração Dinâmica de Host) torna possível obter informações de rede (endereço IP, máscara de rede, endereço de broadcast, servidores de nomes etc). Isso funciona apenas se houver um servidor DHCP na rede (ou se o provedor de Internet provê serviço DHCP). Para que uma interface de rede receba essa informação automaticamente, use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">dhcpcd</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>dhcpcd eth0</code></div></div>
<p>Alguns administradores de rede requerem que o nome de host e o nome de domínio providos pelo servidor DHCP sejam usados pelo sistema. Nesse caso, use:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>dhcpcd -HD eth0</code></div></div>
<p>Se isso funcionar (tente fazer ping para algum servidor de Internet, como o Google), então tudo está configurado e pronto para continuar. Pule o resto desta seção e continue em <a href="../../Installation/Disks/pt-br.html" title="Handbook:X86/Installation/Disks/pt-br">Preparando os discos</a>.
</p>
<h3><span class="mw-headline" id="Preparando_para_acesso_sem_fio">Preparando para acesso sem fio</span></h3>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O suporte ao comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span> pode ser específico da arquitetura. Se o comando não estiver disponível, verifique se o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-wireless/wireless-tools">net-wireless/wireless-tools</a> está disponível para essa arquitetura. O comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span> estará indisponível até que o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-wireless/wireless-tools">net-wireless/wireless-tools</a> esteja instalado.</div>
<p>Quando usar uma conexão sem fio (802.11), as configurações sem fio precisam ser feitas antes de qualquer coisa. Para ver as configurações atuais da placa usa-se o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span>. Executando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span> pode aparecer algo como:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>iwconfig eth0</code></div><pre>
eth0      IEEE 802.11-DS  ESSID:&quot;GentooNode&quot;                                   
          Mode:Managed  Frequency:2.442GHz  Access Point: 00:09:5B:11:CC:F2    
          Bit Rate:11Mb/s   Tx-Power=20 dBm   Sensitivity=0/65535               
          Retry limit:16   RTS thr:off   Fragment thr:off                       
          Power Management:off                                                  
          Link Quality:25/10  Signal level:-51 dBm  Noise level:-102 dBm        
          Rx invalid nwid:5901 Rx invalid crypt:0 Rx invalid frag:0 Tx          
          excessive retries:237 Invalid misc:350282 Missed beacon:84            
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Algumas interfaces sem fio podem ter o nome do dispositivo tais como <span style="font-family: monospace; font-size: 95%">wlan0</span> ou <span style="font-family: monospace; font-size: 95%">ra0</span> em vez de <span style="font-family: monospace; font-size: 95%">eth0</span>. Execute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span> sem nenhum parâmetro na linha de comando para determinar o nome correto do dispositivo.</div>
<p>Para a maioria dos usuários há apenas dois parâmetros que podem ser importantes trocar, o ESSID (o nome da rede sem fio) ou a chave WEP. Se o ESSID e o endereço do Ponto de Acesso listados já forem os do ponto de acesso do ambiente e o ambiente não usar WEP, então a configuração da rede sem fio já estará funcionando.
</p><p>Para trocar o ESSID ou adicionar uma chave WEP, siga os seguintes comandos:
</p>
<ul><li> Para configurar o nome da rede para <i>GentooNode</i>:</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>iwconfig eth0 essid GentooNode</code></div></div></dd></dl>
<ul><li> Para configurar a chave WEP em hexadecimal:</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>iwconfig eth0 key 1234123412341234abcd</code></div></div></dd></dl>
<ul><li> Para configurar uma chage WEP ASCII, prefixe a chave com <code>s</code>:</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>iwconfig eth0 key s:some-password</code></div></div></dd></dl>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Se a rede sem fio estiver configurada com WPA ou WPA2, então é necessário usar o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">wpa_supplicant</span>. Para mais informações sobre a configuração de rede sem fio no Gentoo Linux, por favor leia o <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">capítulo sobre rede sem fio</a> do Manual do Gentoo.</div>
<p>Verifique novamente a configuração da rede sem fio usando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span>. Uma vez que a rede sem fio estiver funcionando, prossiga com a configuração das opções de rede a nível de IP como descrita na próxima seção  (<a href="#Entendendo_a_terminologia_de_rede">Entendendo a terminologia de rede</a>) ou use o  comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> como descrito anteriormente.
</p>
<h3><span class="mw-headline" id="Entendendo_a_terminologia_de_rede">Entendendo a terminologia de rede</span></h3>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Se o endereço IP, endereço de broadcast, máscara de rede e servidores de nome forem conhecidos, pule esta subseção e prossiga com <a href="#Usando_o_ifconfig_e_route">Usando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span> e <span style="font-family: monospace; font-size: 95%; font-weight: bold;">route</span></a>.</div>
<p>Se tudo descrito acima falhar, a rede precisará ser configurada manualmente. Isso não é nada difícil. Entretanto, algum conhecimento de terminologia de redes e conceitos básicos podem ser necessários. Depois de ler esta seção, o usuário saberá o que é um gateway, para que serve a máscara de rede, como é formado um endereço de broadcast e porque os sistemas precisam de servidores de nomes.
</p><p>Em uma rede, hosts são identificados pelo seu endereço IP (endereço de Protocolo Internet). Tal endereço é visto como uma combinação de quatro números entre 0 e 255. Bem, pelo menos quando usado o IPv4 (IP versão 4). Na realidade, um endereço IPv4 consiste de 32 bits (uns e zeros). Vejamos um exemplo:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Examplo de um endereço IPv4</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>Endereço IP (números):   192.168.0.2
Endereço IP (bits):      11000000 10101000 00000000 00000010
                        -------- -------- -------- --------
                           192      168       0        2
</pre></div></pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O sucessor do IPv4, o IPv6, usa 128 bits (uns e zeros). Nesta seção, o foco será em endereços IPv4.</div>
<p>Um endereço IP é único a um host no que se refere a todas as redes por ele acessíveis (isto é, cada host que alguém quiser alcançar deve ter um endereço IP único). De modo a distinguir entre hosts dentro e fora de uma rede, o endereço IP é dividido em duas partes: a parte de rede e a parte de host.
</p><p>Essa separação é escrita usando a máscara de rede, uma sequência de uns seguida de uma sequência de zeros. A parte do endereço IP correspondente aos uns é a parte de rede, e a outra é a parte de host. Usualmente, a máscara de rede é escrita como um endereço IP.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Exemplo da separação de rede/host</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>Endereço IP:          192      168      0         2
                   11000000 10101000 00000000 00000010
Máscara de rede:   11111111 11111111 11111111 00000000
                      255      255     255        0
                   --------------------------+--------+
                              Rede               Host
</pre></div></pre></div>
<p>Ou seja, 192.168.0.14 é parte da mesma rede do exemplo, mas 192.168.1.2 não é.
</p><p>O endereço de broadcast (difusão) é um endereço IP com a mesma parte de rede, mas apenas uns na parte de host. Todos os hosts na rede escutam por esse endereço IP. Ele é verdadeiramente destinado a difusão de pacotes.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Endereço de broadcast</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>Endereço IP:   192      168      0         2
            11000000 10101000 00000000 00000010
Broadcast:  11000000 10101000 00000000 11111111
               192      168      0        255
           +--------------------------+--------+
                     Rede                Host
</pre></div></pre></div>
<p>Para ser capaz de navegar na Internet, cada computador na rede deve saber qual host compartilha a conexão com a Internet. Esse host é chamado gateway. Uma vez que ele é um host normal, ele tem um endereço IP normal (por exemplo, 192.168.0.1).
</p><p>Dissemos anteriormente que todos os hosts tem seu próprio endereço IP. Para ser capaz de alcançar esse host usando um nome (em vez de um endereço IP), precisamos de um serviço que traduza um nome (tal como dev.gentoo.org) para um endereço IP (tal como 64.5.62.82). Tal serviço é chamado de "serviço de nomes". Para usar esse serviço, é necessário que os servidores de nomes (nameservers) sejam definidos em <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span>.
</p><p>Em alguns casos, o gateway também serve como servidor de nomes. Senão, os servidores de nomes do provedor precisam ser inseridos nesse arquivo.
</p><p>Resumindo, as seguintes informações são necessárias antes de continuar:
</p>
<table class="table-condensed table-striped" style="text-align: left;">

<tr>
<th scope="col" width="15%"> Item da rede
</th>
<th> Exemplo
</th></tr>
<tr>
<td> O endereço IP do sistema
</td>
<td> 192.168.0.2
</td></tr>
<tr>
<td> Máscara de rede
</td>
<td> 255.255.255.0
</td></tr>
<tr>
<td> Broadcast
</td>
<td> 192.168.0.255
</td></tr>
<tr>
<td> Gateway
</td>
<td> 192.168.0.1
</td></tr>
<tr>
<td> Servidor(es) de nomes
</td>
<td> 195.130.130.5, 195.130.130.133
</td></tr></table>
<h3><span class="mw-headline" id="Usando_o_ifconfig_e_route">Usando o ifconfig e route</span></h3>
<p>Configurar a rede consiste de tres passos:
</p>
<ol><li> Atribua um endereço IP usando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span></li>
<li> Configure o roteamento e o gateway usando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">route</span></li>
<li> Termine inserindo os servidores de nome em <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span></li></ol>
<p>Para atribuir um endereço IP, são necessários o endereço IP, o endereço de broadcast e a máscara de rede. Depois execute o seguinte comando, substituindo <var>${IP_ADDR}</var> pelo endereço IP correto, <var>${BROADCAST}</var> com o endereço de broadcast correto e <var>${NETMASK}</var> com a máscara de rede correta.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ifconfig eth0 ${IP_ADDR} broadcast ${BROADCAST} netmask ${NETMASK} up</code></div></div>
<p>Configure o roteamento usando o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">route</span>. Substitua <var>${GATEWAY}</var> com o endereço IP correto do gateway:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>route add default gw ${GATEWAY}</code></div></div>
<p>Agora edite o <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/resolv.conf</code></div></div>
<p>Insira o(s) servidor(es) de nomes usando o padrão abaixo. Certifique-se de substituir <var>${NAMESERVER1}</var> e <var>${NAMESERVER2}</var> com os endereços apropriados dos servidores de nomes:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Padrão para uso do /etc/resolv.conf</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>nameserver ${NAMESERVER1}
nameserver ${NAMESERVER2}
</pre></div></pre></div>
<p>É isso. Agora teste a rede fazendo ping para algum servidor da Internet (como o Google). Se funcionar, parabéns. Continue com <a href="../../Installation/Disks/pt-br.html" title="Handbook:X86/Installation/Disks/pt-br">Preparando os discos</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Media/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Escolhendo a midia</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Disks/pt-br.html" title="Next part" class="btn btn-default">Preparando os discos &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Introdu.C3.A7.C3.A3o_aos_dispositivos_de_blocos">Introdução aos dispositivos de blocos</span></h2>
<h3><span class="mw-headline" id="Dispositivos_de_blocos">Dispositivos de blocos</span></h3>
<p>Vamos dar uma boa olhada nos aspectos relacionados a discos do Gentoo Linux e do Linux em geral, incluindo sistemas de arquivos Linux, partições e dispositivos de blocos. Uma vez que os detalhes de discos e partições estiverem compreendidos, configuraremos as partições e sistemas de arquivos para a instalação do Gentoo Linux.
</p><p>Para começar, vamos dar uma olhada nos dispositivos de blocos. O dispositivo de bloco mais famoso é provavelmente aquele que representa o primeiro drive em um sistema Linux, o <span style="font-family: monospace; font-size: 95%">/dev/sda</span>. Drives SCSI e Serial ATA são ambos chamados <span style="font-family: monospace; font-size: 95%">/dev/sd*</span>; mesmo drives IDE são chamados <span style="font-family: monospace; font-size: 95%">/dev/sd*</span> pelo novo sistema libata no kernel. Se for usado o sistema antigo de dispositivos, então o primeiro drive IDE é chamado <span style="font-family: monospace; font-size: 95%">/dev/hda</span>.
</p><p>Os dispositivos de blocos acima representam uma interface abstrata para o disco. Programas de usuários podem usar esses dispositivos de blocos para interagir com seu disco sem se preocuparem se são IDE, SCSI ou de outro tipo. O programa pode simplesmente endereçar o armazenamento do disco como um grupo de blocos de 512 bytes contínuos e acessíveis aleatoriamente.
</p><p><br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Parti.C3.A7.C3.B5es">Partições</span></h3>
<p>Embora seja possível, em teoria, usar o disco todo para abrigar um sistema Linux, isso, na prática, quase nunca é feito. Em vez disso, os dispositivos de blocos são divididos em dispositivos menores, mais gerenciáveis. Em sistemas x86, eles são chamados partições. Há atualmente dois padrões de tecnologias de particionamento em uso: MBR e GPT.
</p>
<h4><span class="mw-headline" id="MBR">MBR</span></h4>
<p>A configuração MBR ("Master Boot Record" - Registro Mestre de Iniciliazação) usa identificadores de 32 bits para o setor de início e o tamanho das partições e suporta três tipos de partições: primária, estendida e lógica. Partições primárias têm suas informações armazenadas no MBR em si - um local muito pequeno (normalmente 512 bytes) bem no começo do disco. Devido a esse espaço pequeno, apenas quatro partições primárias são suportadas (ou seja, de <span style="font-family: monospace; font-size: 95%">/dev/sda1</span> a <span style="font-family: monospace; font-size: 95%">/dev/sda4</span>).
</p><p>Para suportar mais partições, uma das partições primárias pode ser marcada como uma partição estendida. Essa partição pode então conter partições lógicas (com partições dentro de uma partição).
</p><p>Cada partição é limitada em tamanho a 2 TB (devido aos identificadores de 32 bits). Também, a configuração MBR não provê nenhuma cópia da MBR, assim, se uma aplicação ou usuário sobrescreve a MBR, toda as informações sobre as partições são perdidas.
</p>
<h4><span class="mw-headline" id="GPT">GPT</span></h4>
<p>A configuração GPT ("GUID Partition Table" - Tabela de Partição GUID) usa identificadores de 64 bits para as partições. O local onde é armazenada a informação sobre as partições é muito maior que os 512 bytes da MBR e não há limite no número de partições. Também o tamanho de uma partição tem um limite muito maior (quase 8 ZB - sim, zetabytes).
</p><p>Quando a interface do software de sistema entre o sistema operacional e o firmware é a UEFI (em vez da BIOS), o GPT é praticamente mandatório uma vez que surgirão problemas de compatibilidade com a MBR.
</p><p>A GPT também tem a vantagem de ter uma GPT backup no final do disco, que pode ser usada para recuperar a GPT primária do início. A GPT também inclui somas de checagem CRC32 para detectar erros no cabeçalho e tabelas de partição.
</p>
<h3><span class="mw-headline" id="GPT_ou_MBR">GPT ou MBR</span></h3>
<p>Pela descrição acima, alguém pode imaginar que usar GPT é sempre o caminho recomendado. Mas há alguns problemas com isso.
</p><p>Usar GPT em um computador baseado em BIOS funciona, mas com isso não é possível fazer dual boot com um sistema operacional Microsoft Windows. A razão é que o Microsoft Windows irá inicializar em modo EFI se ele detectar uma etiqueta de partição GPT.
</p><p>Algumas BIOS defeituosas ou EFIs configuradas para inicializar em modo BIOS/CSM/legado podem também ter problemas quando inicializar a partir de discos etiquetados como GPT. Nesse caso, pode ser possível contornar o problema adicionando o status "boot/active" à partição MBR, o que precisa ser feito através do <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span> com a opção <code>-t dos</code> para forçá-lo a ler a tabela de partição usando o formato MBR.
</p><p>Nesse caso, execute o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span> e mude a sinalização usando a tecla <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">a</kbd>. Pressione <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">1</kbd> para selecionar a primeira partição, então use a tecla <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">w</kbd> para gravar as alterações no disco e saia do <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>fdisk -t dos /dev/sda</code></div><pre>
Welcome to fdisk (util-linux 2.24.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.
  
Command (m for help): a
Partition number (1-4): 1
  
Command (m for help): w
</pre></div>
<h3><span class="mw-headline" id="Usando_UEFI">Usando UEFI</span></h3>
<p>Quando instalar o Gentoo em um sistema que usa UEFI para inicializar o sistema operacional (em vez da BIOS), é importante que uma partição de sistema EFI seja criada. As instruções para o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">parted</span> abaixo contém os passos necessários para isso.
</p><p>A partição de sistema EFI precisa também ser uma partição FAT32 (ou "vfat", como é como é mostrada em sistemas Linux). As instruções no final deste capítulo usa o ext2 como exemplo de sistema de arquivos para a partição <span style="font-family: monospace; font-size: 95%">/boot/</span>. Tenha certeza de usar "vfat", assim:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkfs.vfat /dev/sda2</code></div></div>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Aviso</strong><br />Se a partição de boot não usar o sistema de arquivos FAT32 (vfat), o firmware do sistema UEFI não será capaz de encontrar o kernel do Linux e inicializar o sistema!</div>
<h3><span class="mw-headline" id="Armazenamento_avan.C3.A7ado">Armazenamento avançado</span></h3>
<p>Os CDs de instalação para  x86 provêm suporte para o LVM2. O LVM2 aumenta a flexibilidade oferecida pela configuração de particionamento. Durante as instruções de instalação, focaremos em partições "normais", mas mesmo assim é bom saber que o LVM2 também é suportado.
</p>
<h3><span class="mw-headline" id="Esquema_de_particionamento_default">Esquema de particionamento default</span></h3>
<p>Até o final deste manual, o seguinte esquema de particionamento será usado. Se ele for suficiente, o leitor pode imediatamente pular para <a href="#Default:_Usando_parted_para_particionar_o_disco">Default: Usando parted para particionar o disco</a> ou <a href="https://wiki.gentoo.org/index.php?title=Alternativa:_Usando_fdisk_para_particionar_o_disco&amp;action=edit&amp;redlink=1" class="new" title="Alternativa: Usando fdisk para particionar o disco (page does not exist)">Alternativa: Usando fdisk para particionar o disco</a>. Ambos são ferramentas de particionamento, o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span> é bem conhecido e estável e é recomendado para o layout de partições MBR, enquanto o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">parted</span> é mais recente e recomendado para layouts GPT.
</p>
<table class="table table-condensed table-striped" style="text-align: left;">

<tr>
<th> Partição
</th>
<th> Sistema de arquivo
</th>
<th> Tamanho
</th>
<th> Descrição
</th></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda1</span>
</td>
<td> (bootloader)
</td>
<td> 2M
</td>
<td> Partição de boot BIOS
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda2</span>
</td>
<td> ext2 (ou vfat)
</td>
<td> 128M
</td>
<td> Partição boot
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda3</span>
</td>
<td> (swap)
</td>
<td> 512M ou maior
</td>
<td> Partição de swap
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda4</span>
</td>
<td> ext4
</td>
<td> Resto do disco
</td>
<td> Partição root
</td></tr></table>
<p>Antes das instruções para criação das partições, o primeiro conjunto de seções descreverá em mais detalhes como os esquemas de particionamento podem ser criados e quais são as dificuldades mais comuns.
</p>
<h2><span class="mw-headline" id="Criando_um_esquema_de_particionamento">Criando um esquema de particionamento</span></h2>
<h3><span class="mw-headline" id="Quantas_e_de_que_tamanho.3F">Quantas e de que tamanho?</span></h3>
<p>O número de partições é altamente dependente do ambiente. Por exemplo, se há muitos usuários, é aconselhável ter o <span style="font-family: monospace; font-size: 95%">/home/</span> separado pois isso aumenta a segurança e torna o backup mais fácil. Se o Gentoo estiver sendo instalado para ser um pequeno servidor de email, o <span style="font-family: monospace; font-size: 95%">/var/</span> deve ficar separado pois todos os emails armazenados ficam no <span style="font-family: monospace; font-size: 95%">/var/</span>. Uma boa escolha do tipo do sistema de arquivos irá maximizar o desempenho. Servidores de jogos deverão ter o <span style="font-family: monospace; font-size: 95%">/opt/</span> separado já que a maioria dos servidores de jogos são instalados lá. A razão é similar ao do <span style="font-family: monospace; font-size: 95%">/home/</span>: segurança e backups. Na maioria das situações, o <span style="font-family: monospace; font-size: 95%">/usr/</span> deve ser grande: não apenas ele irá conter a maioria das aplicações, bem como a árvore do Portage toma cerca de 500 MB além dos vários fontes que são armazenados nele.
</p><p>Como pode ver, depende muito do que o administrador pretende fazer. Partições ou volumes separados tem as seguintes vantagens:
</p>
<ul><li> Escolha o sistema de arquivos de maior desempenho para cada partição ou volume.</li>
<li> O sistema todo não ficará sem espaço se uma aplicação problemática encher todo o espaço de uma partição ou volume.</li>
<li> Se necessário, a checagem do sistema de arquivos fica com o tempo reduzido, pois várias checagens podem ser feitas em paralelo (embora essa vantagem é maior com múltiplos discos do que com múltiplas partições).</li>
<li> A segurança pode ser aumentada montando algumas partições ou volumes como somente leitura, <code>nosuid</code> (bits setuid são ignorados), <code>noexec</code> (bits de execução são ignorados) etc.</li></ul>
<p>Contudo, múltiplas partições tem desvantagens também. Se não configurado corretamente, o sistema pode ficar com muito espaço livre em uma partição e nenhum em outra. Outro percalço é que partições separadas - especialmente para pontos de montagem importantes como <span style="font-family: monospace; font-size: 95%">/usr/</span> ou <span style="font-family: monospace; font-size: 95%">/var/</span> - frequentemente requerem que o administrador inicialize o sistema com um initramfs para montar a partição antes que outros scripts de inicialização executem. Esse não é sempre o caso, então os resultados podem variar.
</p><p>Há também o limite de 15 partições para SCSI e SATA, a menos que sejam utilizadas etiquetas GPT.
</p>
<h3><span class="mw-headline" id="E_o_espa.C3.A7o_de_swap.3F">E o espaço de swap?</span></h3>
<p>Não existe um valor perfeito para a partição de swap. O propósito da partição de swap é prover armazenamento em disco ao kernel quando a memória interna (RAM) estiver acabando. Um espaço de swap permite ao kernel mover páginas de memória que provavelmente não serão necessárias tão logo para o disco (swap ou page-out), liberando memória. É claro que, se essa memória de repente for necessária, essas páginas precisam ser trazidas de volta para a memória (page-in) o que pode ser demorado (pois discos são muito lentos comparados com a memória interna).
</p><p>Se o sistema não for executar aplicações que necessitem de muita memória ou se o sistema tiver uma grande quantidade de memória disponível, então provavelmente ele não vai precisar de muito espaço de swap. Porém, o espaço de swap é também usado para armazenar a memória inteira no caso de hibernação. Se o sistema for precisar de hibernação, um espaço de swap maior é necessário, pelo menos do tamanho da memória instalada no sistema.
</p><p><br />
</p>
<h3><span class="mw-headline" id="O_que_.C3.A9_a_parti.C3.A7.C3.A3o_de_boot_da_BIOS.3F">O que é a partição de boot da BIOS?</span></h3>
<p>A partição de boot da BIOS é uma partição muito pequena (de 1 a 2 MB) na qual os gerenciadores de inicialização como o GRUB2 podem gravar dados adicionais que não couberem no espaço alocado (umas poucas centenas de bytes no caso da MBR) e que não puderem ser colocados em outro lugar.
</p><p>Tais partições nem sempre são necessárias mas, considerando o baixo consumo de espaço e a dificuldade que teríamos documentando a pletora de diferentes particionamentos caso não a criássemos, é recomendável criá-la de qualquer forma.
</p><p>Para ficar claro, a partição de inicialização da BIOS é necessária quando o layout de partições GPT é usado com o GRUB2, ou quando o layout de partições MBR é usado com o GRUB2 e a primeira partição inicia antes do primeiro 1MB do disco.
</p>
<h2><span class="mw-headline" id="Default:_Usando_parted_para_particionar_o_disco">Default: Usando parted para particionar o disco</span></h2>
<p>Neste capítulo, o exemplo de layout de partições mencionado anteriormente será usado:
</p>
<table class="table table-condensed table-striped" style="text-align: left;">

<tr>
<th> Partição
</th>
<th> Descrição
</th></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda1</span>
</td>
<td> Partição de boot da BIOS
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda2</span>
</td>
<td> Partição de boot
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda3</span>
</td>
<td> Partição de swap
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda4</span>
</td>
<td> Partição root
</td></tr></table>
<p>Altere o layout de particionamento de acordo com suas preferências pessoais. 
</p>
<h3><span class="mw-headline" id="Visualizando_o_layout_de_particionamento_atual_com_o_parted">Visualizando o layout de particionamento atual com o parted</span></h3>
<p>O programa <span style="font-family: monospace; font-size: 95%; font-weight: bold;">parted</span> oferece uma interface simples para o particionamento de discos e suporta partições bem grandes (mais de 2TB). Execute o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">parted</span> no disco (em nosso exemplo, usamos <span style="font-family: monospace; font-size: 95%">/dev/sda</span>). É recomendado solicitar ao <span style="font-family: monospace; font-size: 95%; font-weight: bold;">parted</span> para usar alinhamento de partições otimizado:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>parted -a optimal /dev/sda</code></div><pre>
GNU Parted 2.3
Using /dev/sda
Welcome to GNU Parted! Type 'help' to view a list of commands.
</pre></div>
<p>Alinhamento significa que as partições iniciam em limites bem estabelecidos do disco, assegurando que as operações no disco do nível do sistema operacional (recuperar páginas de disco) usam a menor quantidade de operações internas de disco. Partições desalinhadas podem exigir que o disco busque duas páginas em vez de uma mesmo que o sistema operacional tenha solicitado apenas uma.
</p><p>Para conhecer todas as opções suportadas pelo parted, digite <span style="font-family: monospace; font-size: 95%; font-weight: bold;">help</span> e tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Return</kbd>.
</p>
<h3><span class="mw-headline" id="Configurando_a_etiqueta_GPT">Configurando a etiqueta GPT</span></h3>
<p>A maioria dos discos das arquiteturas <b><span style="font-family: monospace; font-size: 95%; color: #54487a">x86</span></b> e <b><span style="font-family: monospace; font-size: 95%; color: #54487a">amd64</span></b> são preparados usando etiquetas <i>msdos</i>. Usando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">parted</span>, o comando para colocar uma etiqueta GPT no disco é <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mklabel gpt</span>:
</p>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Aviso</strong><br />Trocar o tipo de partição irá remover todas as partições do disco. Todos os dados do disco serão perdidos.</div>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mklabel gpt</code></div></div>
<p>Para que o disco use o layout MBR, use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mklabel msdos</span>.
</p>
<h3><span class="mw-headline" id="Removendo_todas_as_parti.C3.A7.C3.B5es_usando_parted">Removendo todas as partições usando parted</span></h3>
<p>Se isto ainda não foi feito (por exemplo, através da operação com o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mklabel</span> anteriormente, ou porque o disco foi recém formatado), primeiro remova todas as partições do disco. Tecle <span style="font-family: monospace; font-size: 95%; font-weight: bold;">print</span> para ver todas as partições existentes, e <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rm NÚMERO</span> onde NÚMERO é a partição a ser removida.
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>rm 2</code></div></div>
<p>Faça o mesmo para todas as partições que não forem necessárias. Entretanto, certifique-se de não cometer nenhum erro aqui - o parted executa as mudanças imediatamente (ao contrário do <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span> que as armazena, permitindo ao usuário "desfazer" suas mudanças antes de salvar ou saindo do fdisk).
</p>
<h3><span class="mw-headline" id="Criando_as_parti.C3.A7.C3.B5es">Criando as partições</span></h3>
<p>Agora crie as partições. Criar partições com o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">parted</span> não é tão difícil - tudo que precisamos fazer é informar ao parted as seguintes configurações:
</p>
<ul><li> O tipo da partição. Normalmente é primária ("primary"). Se a etiqueta de partição msdos for usada, tenha em mente que não podem ser criadas mais que 4 partições primárias. Se forem necessárias mais do que 4 partições, faça uma das 4 primeiras partições como estendida ("extended") e crie partições lógicas dentro dela.</li>
<li> A localização do início da partição (que pode ser expressa em MB, GB, ...)</li>
<li> A localização do fim da partição (que pode ser expressa em MB, GB, ...)</li></ul>
<p>Primeiro, diga ao parted que a unidade que iremos trabalhar é megabytes (na verdade, mebibytes, abreviado como MiB que é a notação "padrão", mas usaremos MB no texto que é muito mais comum):
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>unit mib</code></div></div>
<p>Agora crie uma partição de 2 MB que será usada pelo gerenciador de boot GRUB2 mais tarde. Use o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkpart</span> para isso e informe ao parted para iniciar em 1 MB e terminar em 3 MB (criando assim uma partição de 2 MB).
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mkpart primary 1 3
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>name 1 grub
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>set 1 bios_grub on
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>print</code></div><pre>
Model: Virtio Block Device (virtblk)
Disk /dev/sda: 20480MiB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
  
Number   Start      End      Size     File system  Name   Flags
 1       1.00MiB    3.00MiB  2.00MiB               grub   bios_grub
</pre></div>
<p>Faça o mesmo para a partição de boot (128 MB), partição de swap (512 MB, no exemplo) e partição root, que cobre o resto do disco (para a qual a localização do fim é marcada como -1, significando o fim do disco menos 1 MB, que é o mais distante que uma partição pode ir).
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mkpart primary 3 131
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>name 2 boot
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mkpart primary 131 643
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>name 3 swap
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mkpart primary 643 -1
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>name 4 rootfs</code></div></div>
<p>Se usar a interface UEFI para inicializar o sistema (em vez da BIOS), marque a partição de boot como Partição de Sistema UEFI (UEFI System Partition). O parted faz isso automaticamente quando a opção "boot" é configurada em uma partição:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>set 2 boot on</code></div></div>
<p>O resultado final se parecerá com:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>print</code></div><pre>
Model: Virtio Block Device (virtblk)
Disk /dev/sda: 20480MiB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
  
Number   Start      End      Size     File system  Name   Flags
 1       1.00MiB    3.00MiB  2.00MiB               grub   bios_grub
 2       3.00MiB    131MiB   128MiB                boot   boot
 3       131MiB     643MiB   512MiB                swap
 4       643MiB     20479MiB 19836MiB              rootfs
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Em uma instalação UEFI, a sinalização de boot irá apareceber na partição de boot.</div>
<p>Use o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">quit</span> para sair do parted.
</p>
<h2><span class="mw-headline" id="Alternativa:_Usando_o_fdisk_para_particionar_o_disco">Alternativa: Usando o fdisk para particionar o disco</span></h2>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Apesar das versões recentes do fdisk suportarem GPT, ele ainda mostrou ter alguns problemas com ela. As instruções dadas abaixo assumem que o layout de partições utilizado é o MBR.</div>
<p>As partes seguintes explicam como criar o layout de partições de exemplo usando o fdisk. O layout de partições de exemplo foi mostrada anteriormente:
</p>
<table class="table table-condensed table-striped" style="text-align: left;">

<tr>
<th> Partição
</th>
<th> Descrição
</th></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda1</span>
</td>
<td> Partição de boot da BIOS
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda2</span>
</td>
<td> Partição de boot
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda3</span>
</td>
<td> Partição de swap
</td></tr>
<tr>
<td> <span style="font-family: monospace; font-size: 95%">/dev/sda4</span>
</td>
<td> Partição de root
</td></tr></table>
<p>Altere o layout das partições de acordo com suas preferências pessoais. 
</p>
<h3><span class="mw-headline" id="Visualizando_o_layout_de_parti.C3.A7.C3.B5es_atual">Visualizando o layout de partições atual</span></h3>
<p>O <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span> é uma ferramenta popular e poderosa para dividir um disco em partições. Dispare o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span> no disco desejado (em nosso exemplo usamos o <span style="font-family: monospace; font-size: 95%">/dev/sda</span>):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>fdisk /dev/sda</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Para usar o suporte GPT, adicione <code>-t gpt</code>. Recomenda-se prestar muita atenção à saída do <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span> no caso de novas versões do <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span> alterarem seu comportamento padrão de usar por default o MBR. O restante destas instruções assume um layout MBR.</div>
<p>Use a tecla <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> para exibir a configuração atual das partições do disco:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>p</code></div><pre>
Disk /dev/sda: 240 heads, 63 sectors, 2184 cylinders
Units = cylinders of 15120 * 512 bytes
  
   Device Boot    Start       End    Blocks   Id  System
/dev/sda1   *         1        14    105808+  83  Linux
/dev/sda2            15        49    264600   82  Linux swap
/dev/sda3            50        70    158760   83  Linux
/dev/sda4            71      2184  15981840    5  Extended
/dev/sda5            71       209   1050808+  83  Linux
/dev/sda6           210       348   1050808+  83  Linux
/dev/sda7           349       626   2101648+  83  Linux
/dev/sda8           627       904   2101648+  83  Linux
/dev/sda9           905      2184   9676768+  83  Linux
</pre></div>
<p>Esse disco em particular está configurado para abrigar sete sistemas de arquivos Linux (cada uma com uma partição correspondente listada como "Linux) bem como uma partição de swap (listada como "Linux swap").
</p>
<h3><span class="mw-headline" id="Removendo_todas_as_parti.C3.A7.C3.B5es_com_o_fdisk">Removendo todas as partições com o fdisk</span></h3>
<p>Primeiro remova todas as partições existentes do disco. Tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">d</kbd> para apagar uma partição. Por exemplo, para apagar a partição <span style="font-family: monospace; font-size: 95%">/dev/sda1</span>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>d</code></div><pre>
Partition number (1-4): 1
</pre></div>
<p>A partição foi marcada para ser removida. Ela não vai aparecer na lista de partições (usando a tecla <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd>), mas ela não será removida até que as mudanças sejam gravadas. Isso permite que o usuário aborte a operação no caso de algum erro - nesse caso, digite <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">q</kbd> imediatamente e tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Return</kbd> e a partição não será apagada.
</p><p>Tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> repetidamente para ver a lista das partições e <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">d</kbd> e o número da partição para apagá-la. No final, a tabela de partições estará vazia:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>p</code></div><pre>
Disk /dev/sda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes
  
Device Boot    Start       End    Blocks   Id  System
</pre></div>
<p>Agora que a tabela de partições na memória está vazia, estamos prontos para criar as partições.
</p>
<h3><span class="mw-headline" id="Criando_a_parti.C3.A7.C3.A3o_de_boot_da_BIOS">Criando a partição de boot da BIOS</span></h3>
<p>Primeiro crie uma partição de boot da BIOS bem pequena. Tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">n</kbd> para criar uma nova partição, e <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> para selecionar partição primária, seguida da tecla <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">1</kbd> para selecionar a primeira partição primária. Quando perguntado pelo primeiro setor, certifique-se que comece em 2048 (o que é necessário para o gerenciador de boot) e tecle Enter. Quando perguntado pelo último setor, digite +2M para criar uma partição de 2 Mbytes de tamanho:
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O início do setor em 2048 é uma segurança no caso do gerenciador de boot não detectar esta partição para seu uso.</div>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>n</code></div><pre>
Command action
  e   extended
  p   primary partition (1-4)
p
Partition number (1-4): 1
First sector (64-10486533532, default 64): 2048
Last sector, +sectors +size{M,K,G} (4096-10486533532, default 10486533532): +2M
</pre></div>
<p>Marque a partição para a EFI:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>t</code></div><pre>
Selected partition 1
Hex code (type L to list codes): 4
Changed system type of partition 1 to 4 (BIOS boot)
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Usar EFI com layout de partições MBR é desencorajado. Se for usado um sistema capaz de trabalhar com EFI, use o layout GPT.</div>
<h3><span class="mw-headline" id="Criando_a_parti.C3.A7.C3.A3o_de_boot">Criando a partição de boot</span></h3>
<p>Agora crie uma pequena partição de boot. Tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">n</kbd> para criar uma nova partição, e <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> para selecionar partição primária, seguida da tecla <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">2</kbd> para selecionar a segunda partição primária. Quando perguntado pelo primeiro setor, aceite o valor default teclando <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>. Quando perguntado pelo último setor, digite +128M para criar uma partição de 128 Mbytes de tamanho:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>n</code></div><pre>
Command action
  e   extended
  p   primary partition (1-4)
p
Partition number (1-4): 2
First sector (5198-10486533532, default 5198): (Hit enter)
Last sector, +sectors +size{M,K,G} (4096-10486533532, default 10486533532): +128M
</pre></div>
<p>Agora, pressionando <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> e <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>, a seguinte saída com as partições é mostrada:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>p</code></div><pre>
Disk /dev/sda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes
  
   Device Boot    Start       End    Blocks   Id  System
/dev/sda1             1         3      5198+  ef  EFI (FAT-12/16/32)
/dev/sda2             3        14    105808+  83  Linux
</pre></div>
<p>Tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">a</kbd> para alternar a sinalização de boot de uma partição e selecione <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">2</kbd>. Depois de pressionar <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> novamente, note que um * é mostrado na coluna "Boot".
</p>
<h3><span class="mw-headline" id="Criando_a_parti.C3.A7.C3.A3o_de_swap">Criando a partição de swap</span></h3>
<p>Para criar uma partição de swap tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">n</kbd> para criar uma nova partição, e <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> para o fdisk criar uma partição primária. Então digite <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">3</kbd> para criar a terceira partição primária, <span style="font-family: monospace; font-size: 95%">/dev/sda3</span>. Quando perguntado pelo primeiro setor, tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>. Quando perguntado pelo último setor, digite +512M (ou qualquer outro tamanho necessário para área de swap) para criar uma partição de 512 MB de tamanho:
</p><p>Depois de tudo feito, digite <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">t</kbd> para configurar o tipo da partição, <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">3</kbd> para selecionar a partição recém criada e então digite "82" para configurar o tipo da partição para "Linux Swap".
</p>
<h3><span class="mw-headline" id="Criando_a_parti.C3.A7.C3.A3o_de_root">Criando a partição de root</span></h3>
<p>Finalmente, para criar a partição root, tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">n</kbd> para criar uma nova partição, e <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> para o fdisk criar uma partição primária. Então digite <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">4</kbd> para criar a quarta partição primária, <span style="font-family: monospace; font-size: 95%">/dev/sda4</span>. Quando perguntado pelo primeiro setor, tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>. Quando perguntado pelo último setor, tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd> para criar uma partição que ocupe o restante do espaço disponível do disco. Depois de completar esses passos, teclando <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> deve ser mostrada uma tabela de partições similar a esta:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>p</code></div><pre>
Disk /dev/sda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes
  
   Device Boot    Start       End    Blocks   Id  System
/dev/sda1             1         3      5198+  ef  EFI (FAT-12/16/32)
/dev/sda2   *         3        14    105808+  83  Linux
/dev/sda3            15        81    506520   82  Linux swap
/dev/sda4            82      3876  28690200   83  Linux
</pre></div>
<h3><span class="mw-headline" id="Gravando_o_layout_de_parti.C3.A7.C3.B5es">Gravando o layout de partições</span></h3>
<p>Para gravar o layout de partições e sair do <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fdisk</span>, digite <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">w</kbd>.
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>w</code></div></div>
<p>Com as partições criadas, é hora de criar sistemas de arquivos nelas.
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Criando_sistemas_de_arquivos">Criando sistemas de arquivos</span></h2>
<h3><span class="mw-headline" id="Introdu.C3.A7.C3.A3o_2">Introdução</span></h3>
<p>Agora que as partições estão criadas, é hora de criar um sistema de arquivos nelas. Na próxima seção os diversos sistemas de arquivos suportados pelo Linux são descritos. Leitores que já souberem qual sistema de arquivos irão usar podem continuar em <a href="#Criando_um_sistema_de_arquivos_em_uma_parti.C3.A7.C3.A3o">Criando um sistema de arquivos em uma partição</a>.
</p>
<h3><span class="mw-headline" id="Sistemas_de_arquivos">Sistemas de arquivos</span></h3>
<p>Vários tipos de sistemas de arquivos estão disponíveis. Alguns são considerados mais estáveis na arquitetura x86 - é recomendado se informar sobre os sistemas de arquivos e o estado do suporte de cada um antes de selecionar algum mais experimental para partições importantes.
</p>
<dl><dt> btrfs</dt>
<dd> Um sistema de arquivos de próxima geração que provê vários recursos avançados como instantâneos (snapshots), autocorreção através de checksums, compressão transparente, subvolumes e RAID integrado. Algumas poucas distribuições começaram a distribui-lo como uma opção integrada, mas não está ainda pronto para ambientes de produção. Relatos de corrupção de sistemas de arquivos ainda são comuns. Seus desenvolvedores pedem aos usuários que utilizem a última versão do kernel por segurança pois as versões mais antigas têm problemas conhecidos. Isso tem sido o caso por anos e ainda é cedo para dizer se alguma coisa mudou. Correções para problemas de corrupção de dados são raramente portadas para as versões mais antigas do kernel. Proceda com cuidado ao usar este sistema de arquivos!</dd>
<dt> ext2</dt>
<dd> É o sistema de arquivo mais testado e estável mas não possui metadados de journaling, o que significa que a checagem de rotina do sistema de arquivos ext2 na inicialização pode ser bem demorada. Existe atualmente uma considerável seleção de sistemas de arquivos com journaling de nova geração que podem ser checados por consistência muito rapidamente e são, assim, geralmente preferidos sobre seus correspondentes sem journaling. Sistemas de arquivos com journaling evitam grandes esperas quando o sistema é inicializado e o sistema de arquivos encontra-se inconsistente.</dd>
<dt> ext3</dt>
<dd> A versão do sistema de arquivos ext2 com journaling, possuindo metadados de journaling para rápida recuperação além de outros modos aperfeiçoados de journaling como journaling completo de dados e de dados ordenados. Usa um índice HTree que proporciona alto desempenho em quase todas as situações. Em resumo, o ext3 é um sistema de arquivos muito bom e confiável.</dd>
<dt> ext4 </dt>
<dd> Inicialmente criado como uma derivação do ext3, o ext4 traz novos recursos, melhorias de desempenho e remoção de limites de tamanhos com mudanças moderadas no formato em disco. Ele pode cobrir volumes de até 1 EB com limite de tamanho de arquivo de 16TB. Em vez da alocação em bloco de mapa de bits clássico do ext2/3 o ext4 usa extensões, o que melhora o desempenho com arquivos grandes e reduz a fragmentação. O ext4 também provê algorítmos de alocação de blocos mais sofisticados (alocação atrasada e alocação múltipla de blocos), dando ao driver do sistema de arquivos mais formas de otimizar o layout dos dados no disco. O ext4 é o sistema de arquivos recomendado para propósitos gerais e plataformas em geral.</dd>
<dt> JFS</dt>
<dd> Sistema de arquivos com journaling de alto desempenho da IBM. O JFS é um sistema de arquivos baseado em árvore B+ confiável e rápido, com bom desempenho em várias situações.</dd>
<dt> ReiserFS</dt>
<dd> Um sistema de arquivos baseado em árvore B+ que tem bom desempenho geral, especialmente quando trabalha com muitos arquivos pequenos ao custo de ciclos de CPU extras. O ReiserFS aparentemente está recebendo menos manutenção que os outros sistemas de arquivos.</dd>
<dt> XFS </dt>
<dd> Um sistema de arquivos com metadados de journaling que vem com um robusto conjunto de recursos e é otimizado para escalabilidade. O XFS parece ser menos tolerante a vários problemas de hardware.</dd>
<dt> vfat</dt>
<dd> Também conhecido como FAT32, é suportado pelo Linux mas não tem suporte para configurações de permissões. É mais utilizado para interoperabilidade com outros sistemas operacionais (principalmente o Microsoft Windows) mas é também uma necessidade para alguns sistemas de firmware (como o UEFI).</dd></dl>
<p>Se usar o ext2, ext3 ou ext4 em uma partição pequena (menor que 8GB), então o sistema de arquivos deve ser criado com opções adequadas para reservar inodes suficientes. O programa <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mke2fs</span> usa a configuração "bytes por inode" para calcular quantos inodes um sistema de arquivos deve ter. Em partições pequenas, é aconselhável aumentar o número de inodes calculado.
</p><p>No ext2, isso pode ser feito com o comando a seguir:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mke2fs -T small /dev/&lt;device&gt;</code></div></div>
<p>No ext3 e ext4, acrescente a opção <code>-j</code> para habilitar o journaling:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mke2fs -j -T small /dev/&lt;device&gt;</code></div></div>
<p>Isso normalmente irá quadruplicar o número de inodes de um dado sistema de arquivos já que o número de "bytes por inode" é reduzido de um para cada 16kB para um para cada 4kB. Isso pode ser ajustado ainda mais fornecendo a relação:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mke2fs -i &lt;relação&gt; /dev/&lt;device&gt;</code></div></div>
<h3><span class="mw-headline" id="Criando_um_sistema_de_arquivos_em_uma_parti.C3.A7.C3.A3o">Criando um sistema de arquivos em uma partição</span></h3>
<p>Para criar um sistema de arquivos em uma partição ou volume, há ferramentas disponíveis para cada sistema de arquivos possível:
</p>
<table class="table table-condensed table-striped" style="text-align: left;">

<tr>
<th scope="col" width="15%"> Sistema de arquivos
</th>
<th> Comando para criação
</th></tr>
<tr>
<td> btrfs
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.btrfs</span>
</td></tr>
<tr>
<td> ext2
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.ext2</span>
</td></tr>
<tr>
<td> ext3
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.ext3</span>
</td></tr>
<tr>
<td> ext4
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.ext4</span>
</td></tr>
<tr>
<td> reiserfs
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkreiserfs</span>
</td></tr>
<tr>
<td> xfs
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.xfs</span>
</td></tr>
<tr>
<td> jfs
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.jfs</span>
</td></tr>
<tr>
<td> vfat
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.vfat</span>
</td></tr></table>
<p>Por exemplo, para ter a partição de boot (<span style="font-family: monospace; font-size: 95%">/dev/sda2</span>) em ext2 e a partição root (<span style="font-family: monospace; font-size: 95%">/dev/sda4</span>) em ext4 como usado no exemplo de estrutura de partições, o seguintes comandos seriam usados:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkfs.ext2 /dev/sda2</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkfs.ext4 /dev/sda4</code></div></div>
<p>Agora crie os sistemas de arquivos nas partições recém criadas (ou volumes lógicos):
</p>
<h3><span class="mw-headline" id="Ativando_a_parti.C3.A7.C3.A3o_de_swap">Ativando a partição de swap</span></h3>
<p><span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkswap</span> é o comando que é utilizado para inicializar as partições de swap:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkswap /dev/sda3</code></div></div>
<p>Para ativar a partição de swap, use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">swapon</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>swapon /dev/sda3</code></div></div>
<p>Crie e ative o swap com os comandos mostrados acima.
</p>
<h2><span class="mw-headline" id="Montando">Montando</span></h2>
<p>Agora que as partições estão inicializadas e contém um sistema de arquivos, é hora de montar essas partições. Use o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mount</span>, mas não se esqueça de criar os diretórios de montagem necessários para cada partição criada. Como exemplo montaremos as partições root e boot:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount /dev/sda4 /mnt/gentoo</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkdir /mnt/gentoo/boot</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount /dev/sda2 /mnt/gentoo/boot</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Se o <span style="font-family: monospace; font-size: 95%">/tmp/</span> precisar ficar em uma partição separada, certifique-se de alterar suas permissões depois de montar:
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>chmod 1777 /mnt/gentoo/tmp</code></div></div>
Isso também vale para o <span style="font-family: monospace; font-size: 95%">/var/tmp</span>.</div>
<p>Mais tarde nestas instruções o sistema de arquivos proc (uma interface virtual com o kernel) e também outros pseudo sistemas de arquivos serão montados. Mas antes nós <a href="../../Installation/Stage/pt-br.html" title="Handbook:X86/Installation/Stage/pt-br">instalamos os arquivos de instalação do Gentoo</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Networking/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Configurando a rede</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Stage/pt-br.html" title="Next part" class="btn btn-default">Instalando o Stage3 &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Instalando_um_arquivo_tar_de_stage">Instalando um arquivo tar de stage</span></h2>
<h3><span class="mw-headline" id="Ajustando_a_data_e_a_hora">Ajustando a data e a hora</span></h3>
<p>Antes de instalar o Gentoo, certifique-se que a data e a hora estão corretas. Um relógio mal configurado pode levar a resultados estranhos no futuro!
</p><p>Para verificar a data e a hora atual, execute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">date</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>date</code></div><pre>
Fri Mar 29 16:21:18 UTC 2005
</pre></div>
<p>Se a data/hora mostrada estiver errada, atualize-a usando a sintaxe <code>MMDDhhmmYYYY</code> (Mês, Dia, hora, minuto e Ano). Neste estágio, é recomendado usar horário UTC. Adiante na instalação, será definida a zona horária.
</p><p>Por exemplo, para ajustar a data para 29 de março de 2014, 16:21:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>date 032916212014</code></div></div>
<h3><span class="mw-headline" id="Baixando_o_arquivo_tar_do_stage">Baixando o arquivo tar do stage</span></h3>
<p>Vá para o ponto de montagem do Gentoo onde o sistema de arquivos raiz está montado (provavelmente <span style="font-family: monospace; font-size: 95%">/mnt/gentoo</span>):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cd /mnt/gentoo</code></div></div>
<p>Dependendo da mídia de instalação, estão disponíveis algumas ferramentas para baixar um stage. Uma dessas ferramentas é o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span>, um navegador não gráfico baseado em menus. Para baixar um stage, acesse a lista de espelhos do Gentoo como da seguinte forma:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>links <a rel="nofollow" class="external free" href="https://www.gentoo.org/downloads/mirrors/">https://www.gentoo.org/downloads/mirrors/</a></code></div></div>
<p>Para usar um proxy HTTP com o <code>links</code>, passe a URL com a opção <code>-http-proxy</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>links -http-proxy servidor.proxy.com:8080 <a rel="nofollow" class="external free" href="https://www.gentoo.org/download/mirrors/">https://www.gentoo.org/download/mirrors/</a></code></div></div>
<p>Próximo ao <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span> há também o navegador <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lynx</span>. Assim como o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span> ele é um navegador não gráfico mas não baseado em menus.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>lynx <a rel="nofollow" class="external free" href="https://www.gentoo.org/downloads/mirrors/">https://www.gentoo.org/downloads/mirrors/</a></code></div></div>
<p>Se for necessário definir um proxy, exporte as variáveis <var>http_proxy</var> e/ou <var>ftp_proxy</var>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export http_proxy="<a rel="nofollow" class="external free" href="http://servidor.proxy.com:porta/">http://servidor.proxy.com:porta</a>"
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export ftp_proxy="<a rel="nofollow" class="external free" href="http://servidor.proxy.com:porta/">http://servidor.proxy.com:porta</a>"</code></div></div>
<p>Na lista de espelhos, selecione um espelho próximo. Normalmente os espelhos HTTP são suficientes, mas outros protocolos estão também disponíveis. Mova para o diretório <span style="font-family: monospace; font-size: 95%">releases/x86/autobuilds/</span>. Lá todos os arquivos de stage são mostrados (eles podem estar localizados dentro de subdiretórios nomeados segundo as subarquiteturas individuais). Selecione um e pressione <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">D</kbd> para baixar.
</p><p>Assim como os CDs mínimos de instalação, arquivos adicionais estão disponíveis:
</p>
<ul><li> Um arquivo <span style="font-family: monospace; font-size: 95%">.CONTENTS</span> que contém a lista de todos os arquivos contidos no arquivo tar do stage.</li>
<li> Um arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> que contém as somas de checagem do arquivo de stage, em diferentes algorítmos</li>
<li> Um arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> que, como o arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS</span>, contém somas de checagem do arquivo de stage em diferentes algorítmos, mas também assinadas criptograficamente para validar que é provido pelo Projeto Gentoo</li></ul>
<p>Quando finalizar, pressione <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Q</kbd> para sair do navagador.
</p><p>Depois de baixar o arquivo de stage, é possível verificar sua integridade. Use o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">openssl</span> e compare a saída com as somas de checagem providas pelo arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> ou <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.
</p><p>Por exemplo, para validar a soma de checagem SHA512:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>openssl dgst -r -sha512 stage3-x86-&lt;release&gt;.tar.bz2</code></div></div>
<p>Outra forma é usar o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">sha512sum</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>sha512sum stage3-x86-&lt;release&gt;.tar.bz2</code></div></div>
<p>Para validar a soma de checagem Whirlpool:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>openssl dgst -r -whirlpool stage3-x86-&lt;release&gt;.tar.bz2</code></div></div>
<p>Compare a saída desses comandos com o valor registrado nos arquivos <span style="font-family: monospace; font-size: 95%">.DIGESTS(.asc)</span>. Os valores devem bater, senão o arquivo baixado pode estar corrompido (ou o arquivo .DIGESTS está).
</p><p>Assim como com o arquivo ISO, é possível também verificar a assinatura criptográfica do arquivo <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> usando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">gpg</span> para verificar que as somas de checagem não foram adulteradas.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>gpg --verify stage3-x86-&lt;release&gt;.tar.bz2.DIGESTS.asc</code></div></div>
<h3><span class="mw-headline" id="Desempacotando_o_arquivo_tar_de_stage">Desempacotando o arquivo tar de stage</span></h3>
<p>Agora desempacote o stage baixado no sistema. Usamos o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">tar</span> para isso:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>tar xvjpf stage3-*.tar.bz2 --xattrs</code></div></div>
<p>Certifique-se que as mesmas opções (<code>xvjpf</code> e <code>--xattrs</code>) são usadas. O x significa "extrair", o v para "verboso", para mostrar o que acontece durante o processo de extração (opcional), o j para descompactar com o bzip2, o p para "preservar" permissões e o f para indicar que queremos extrair um arquivo ("file"), não a entrada padrão. Finalmente, o <code>--xattrs</code> é para incluir os atributos estendidos armazenados no arquivo também.
</p><p>Agora que o stage está instalado, continue com <a href="#Configurando_as_op.C3.A7.C3.B5es_de_compila.C3.A7.C3.A3o">Configurando as opções de compilação</a>.
</p>
<h2><span class="mw-headline" id="Configurando_as_op.C3.A7.C3.B5es_de_compila.C3.A7.C3.A3o">Configurando as opções de compilação</span></h2>
<h3><span class="mw-headline" id="Introdu.C3.A7.C3.A3o_3">Introdução</span></h3>
<p>Para otimizar o Gentoo, é possível ajustar algumas variáveis que impactam o comportamento do Portage. Todas essas variáveis podem ser ajustadas como variáveis de ambiente (usando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">export</span>) mas isso não é permanente. Para manter os ajustes, o Portage lê o arquivo <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>, que é um arquivo de configuração do Portage.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Uma listagem com comentários de todas as possíveis variáveis pode ser encontrada em <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/usr/share/portage/config/make.conf.example</span>. Para uma instalação com sucesso do Gentoo, apenas as variáveis mencionadas abaixo precisam ser ajustadas.</div>
<p>Use um editor (neste guia usamos o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">nano</span>) para alterar as variáveis de otimização que iremos discutir a partir daqui.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /mnt/gentoo/etc/portage/make.conf</code></div></div>
<p>Olhando o arquivo <span style="font-family: monospace; font-size: 95%">make.conf.example</span> fica óbvio como o arquivo deve ser estruturado: linhas de comentário iniciam com "#", outras linhas definem variáveis usando sintaxe VARIAVEL="conteúdo". Diversas dessas variáveis são discutidas a seguir.
</p>
<h3><span class="mw-headline" id="CFLAGS_e_CXXFLAGS">CFLAGS e CXXFLAGS</span></h3>
<p>As variáveis <var>CFLAGS</var> e <var>CXXFLAGS</var> definem as flags de otimização para o compilador C e C++ GCC, respectivamente. Apesar de serem definidas globalmente aqui, para máxima performance seria necessário otimizar essas flags para cada programa separadamente. A razão disso é que cada programa é diferente. Entretanto, isso não é viável, por isso a definição dessas flags no arquivo <span style="font-family: monospace; font-size: 95%">make.conf</span>.
</p><p>No arquivo <span style="font-family: monospace; font-size: 95%">make.conf</span> deve-se definir as flags de otimização que fariam o sistema mais responsivo de modo geral. Não coloque ajustes experimentais nessa variável; otimização demais pode fazer com que os programas comportem-se mal (abortem, ou ainda pior, funcionem mal).
</p><p>Não iremos explicar todas as possíveis opções de otimização. Para compreender todas elas, leia o <a rel="nofollow" class="external text" href="http://gcc.gnu.org/onlinedocs/">Manual Online do GCC</a> ou as páginas info do gcc (<span style="font-family: monospace; font-size: 95%; font-weight: bold;">info gcc</span> -- funciona apenas em um sistema Linux já instalado). O arquivo <span style="font-family: monospace; font-size: 95%">make.conf.example</span> em si também contém muitos exemplos e informação; não se esqueça de lê-lo também.
</p><p>Um primeiro ajuste é a flag <code>-march=</code> ou <code>-mtune=</code>, que especifica o nome da arquitetura alvo. As possíveis opções estão descritas no arquivo <span style="font-family: monospace; font-size: 95%">make.conf.example</span> (como comentários). Um valor comumente usado é "native", que diz ao compilador para selecionar a arquitetura do sistema atual (aquele no qual o Gentoo está sendo instalado).
</p><p>Em segundo vem a flag <code>-O</code> (um O maiúsculo, não um zero), que especifica a flag da classe de otimização. Valores possíveis são "s" (para otimização por tamanho), 0 (zero - para nenhuma otimização), 1, 2 ou até 3 para flags de otimização para velocidade (cada classe tem as mesmas flags da anterior, mais algumas extras). <code>-O2</code> é o padrão recomendado. Sabe-se que <code>-O3</code> causa problemas se usada pelo sistema como um todo, então recomendamos ficar com <code>-O2</code>.
</p><p>Uma flag de otimização popular é a <code>-pipe</code> (usa pipes em vez de arquivos temporários para comunicação entre os vários estágios da compilação). Ela não tem impacto no código gerado, mas usa mais memória. Em sistemas com pouca memória, o gcc pode ser morto. Nesse caso, não use essa flag.
</p><p>Usar o <code>-fomit-frame-pointer</code> (que não mantém o ponteiro de frame em um registrador para funções que não precisam de um) pode ter sérias repercussões para depurar aplicações.
</p><p>Se as variáveis <var>CFLAGS</var> e <var>CXXFLAGS</var> são definidas, combine as várias flags de otimização em uma string. Os valores default contidos no arquivo stage3 que é desempacotado devem ser adequados. Abaixo é apenas um exemplo:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Exemplo de CFLAGS e CXXFLAGS variables</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-march=native -O2 -pipe&quot;</span>
<span class="c"># Use os mesmos valores para ambas variáveis</span>
<span class="nv">CXXFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CFLAGS</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div></pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O <a href="../../../GCC_optimization.html" title="GCC optimization">Guia de otimização do GCC</a> contém mais informação sobre como as várias opções de compilação podem afetar um sistema.</div>
<h3><span class="mw-headline" id="MAKEOPTS">MAKEOPTS</span></h3>
<p>A variável <var>MAKEOPTS</var> define quantas compilações paralelas podem ocorrer quando um pacote estiver sendo instalado. Uma boa escolha é o número de CPUs (ou núcleos de CPU) em um sistema mais um, porém essa regra nem sempre é perfeita.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>Exemplo de declaração de MAKEOPTS em make.conf</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">MAKEOPTS</span><span class="o">=</span><span class="s2">&quot;-j2&quot;</span>
</pre></div></pre></div>
<h3><span class="mw-headline" id="Preparar.2C_acionar.2C_vai.21">Preparar, acionar, vai!</span></h3>
<p>Atualize o arquivo <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/etc/portage/make.conf</span> de acordo com suas preferências pessoais e grave (usuários do nano podem usar <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Ctrl</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">X</kbd>). 
</p><p>Depois continue em <a href="../../Installation/Base/pt-br.html" title="Handbook:X86/Installation/Base/pt-br">Instalando o sistema básico do Gentoo</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Disks/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Preparando os discos</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Base/pt-br.html" title="Next part" class="btn btn-default">Instalando o sistema base &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Fazendo_chroot">Fazendo chroot</span></h2>
<h3><span class="mw-headline" id="Opcional:_Selecionando_espelhos">Opcional: Selecionando espelhos</span></h3>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Aviso</strong><br />O programa <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-portage/mirrorselect">app-portage/mirrorselect</a> não foi atualizado para fazer a modificação do arquivo de alvo do chroot <span style="font-family: monospace; font-size: 95%">repos.conf/gentoo.conf</span> ainda. Também, a variável <var>SYNC</var> em <span style="font-family: monospace; font-size: 95%">make.conf</span> está deprecada e não é mais utilizada pelo Portage.  Esta seção precisa ser atualizada. Por favor, pule-a por enquanto...</div>
<p>Para baixar o código fonte rapidamente é recomendado selecionar um  espelho rápido. O portage procura no arquivo <span style="font-family: monospace; font-size: 95%">make.conf</span> pela variável <var>GENTOO_MIRRORS</var> e usa os espelhos configurados lá. É possível navegar pela lista de espelhos do Gentoo e procurar um espelho (ou espelhos) que está perto da sua localização física (pois esses frequentemente são os mais rápidos). Entretanto, nós fornecemos uma boa ferramenta chamada <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mirrorselect</span> que provê ao usuário uma boa interface para selecionar os espelhos necessários. Simplesmente navegue até os espelhos escolhidos e tecle <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Espaço</kbd> para selecionar um ou mais espelhos.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mirrorselect -i -o &gt;&gt; /mnt/gentoo/etc/portage/make.conf</code></div></div>
<p>Uma segunda importante configuração é a configuração <var>SYNC</var> no arquivo <span style="font-family: monospace; font-size: 95%">make.conf</span>. Essa variável contém o servidor rsync para usar quando atualizar a árvore do Portage (a coleção de ebuilds e arquivos relacionados contendo toda a informação que o Portage precisa para baixar e instalar software). Novamente, é possível entrar manualmente com um servidor <var>SYNC</var>, mas o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mirrorselect</span> pode facilitar consideravelmente essa operação:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mirrorselect -i -r -o &gt;&gt; /mnt/gentoo/etc/portage/make.conf</code></div></div>
<p>Depois de executar o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mirrorselect</span> é recomendável checar as configurações em <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/etc/portage/make.conf</span>&#160;!
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Quando selecionar manualmente um servidor <var>SYNC</var> em <span style="font-family: monospace; font-size: 95%">make.conf</span>, verifique a lista de espelhos comunitários e procure o mais próximo de você. É recomendado escolher um link rotativo, tal como rsync.us.gentoo.org, em vez de escolher um espelho único. Isso ajuda a distribuir a carga e provê uma maior segurança no caso de um espelho específico esteja com problemas.</div>
<h3><span class="mw-headline" id="Copie_as_informa.C3.A7.C3.B5es_de_DNS">Copie as informações de DNS</span></h3>
<p>Resta ainda uma coisa a ser feita antes de entrar no novo ambiente que é copiar sobre a informação de DNS em <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span>. Isso precisa ser feito para assegurar que a rede ainda funciona mesmo após entrar no novo ambiente. O <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span> contém os servidores de nomes da rede.
</p><p>Para copiar essa informação, é recomendado usar a opção <code>-L</code> do comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">cp</span>. Isso assegura que, se o <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span> for um link simbólico, que o arquivo alvo é copiado em vez do link simbólico em si. De outra forma, no novo ambiente o link simbólico apontaria para um arquivo não existente (pois é muito provável que o alvo do link não estará disponível dentro do novo ambiente).
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cp -L /etc/resolv.conf /mnt/gentoo/etc/</code></div></div>
<h3><span class="mw-headline" id="Montando_os_sistemas_de_arquivos_necess.C3.A1rios">Montando os sistemas de arquivos necessários</span></h3>
<p>Em alguns momentos, a raiz do Linux será alterada para a nova localidade. Para garantir que o novo ambiente funciona corretamente, alguns sistemas de arquivos precisam estar disponíveis lá também.
</p><p>Os sistemas de arquivos que precisam estar disponíveis são:
</p>
<ul><li> <span style="font-family: monospace; font-size: 95%">/proc/</span> que é um pseudo sistema de arquivos (ele se parece com arquivos normais, mas na verdade é gerado "no voo") do qual o kernel do Linux expõe informação para o ambiente</li>
<li> <span style="font-family: monospace; font-size: 95%">/sys/</span> que é um pseudo sistema de arquivos, como o <span style="font-family: monospace; font-size: 95%">/proc/</span> o qual era para substituir, sendo mais estruturado que o <span style="font-family: monospace; font-size: 95%">/proc/</span></li>
<li> <span style="font-family: monospace; font-size: 95%">/dev/</span> é um sistema de arquivos normal, parcialmente gerenciadopelo gerenciador de dispositivos do Linux (normalmente o <code>udev</code>), que contém todos os arquivos de dispositivos</li></ul>
<p>A localidade <span style="font-family: monospace; font-size: 95%">/proc/</span> será montada em <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/proc/</span> enquanto as outras duas são montadas como "bind". Isso significa que, por exemplo, <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/sys/</span> será, na verdade, <span style="font-family: monospace; font-size: 95%">/sys/</span> (sendo na verdade apenas um segundo ponto de entrada para o mesmo sistema de arquivos) enquanto <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/proc/</span> é uma nova montagem ("instância", para usar o termo) do sistema de arquivo.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount -t proc proc /mnt/gentoo/proc
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount --rbind /sys /mnt/gentoo/sys
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount --make-rslave /mnt/gentoo/sys
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount --rbind /dev /mnt/gentoo/dev
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount --make-rslave /mnt/gentoo/dev</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />As operações <code>--make-rslave</code> são necessárias para o suporte ao systemd mais tarde na instalação.</div>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Aviso</strong><br />Se usar uma mídia de instalação que não seja do Gentoo, os passos anteriores podem não ser suficientes. Algumas distribuições criam o <span style="font-family: monospace; font-size: 95%">/dev/shm</span> como um link simbólico para o <span style="font-family: monospace; font-size: 95%">/run/shm/</span> que, após o chroot, torna-se inválido. Fazer do <span style="font-family: monospace; font-size: 95%">/dev/shm/</span> uma montagem tmpfs apropriada desde já pode corrigir isso:
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rm /dev/shm &amp;&amp; mkdir /dev/shm
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount -t tmpfs -o nosuid,nodev,noexec shm /dev/shm</code></div></div>
<p>Também assegure-se de ajustar o modo para 1777
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code> chmod 1777 /dev/shm</code></div></div>
</div>
<h3><span class="mw-headline" id="Entrando_no_novo_ambiente">Entrando no novo ambiente</span></h3>
<p>Agora que todas as partições estão inicializadas e o ambiente base está instalado, é hora de entrar no novo ambiente de instalação fazendo chroot nele. Isso significa que a sessão irá alterar sua "raiz" (o diretório mais alto que pode ser acessado) do ambiente atual de instalação (CD de instalação ou outra mídia) para o sistema de instalação (as partições inicializadas). Por isso o nome "change root" (trocar a "raiz") ou "chroot".
</p><p>O chroot é feito em três passos:
</p>
<ol><li> A localização raiz é trocada de <span style="font-family: monospace; font-size: 95%">/</span> (na mídia de instalação) para <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/</span> (nas partições) usando o comando chroot</li>
<li> Algumas configurações (aquelas em <span style="font-family: monospace; font-size: 95%">/etc/profile</span>) são carregadas na memória usando o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">source</span></li>
<li> O sinal de pronto é trocado para nos ajudar a lembrar que aquela sessão está dentro do ambiente chroot</li></ol>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>chroot /mnt/gentoo /bin/bash
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>source /etc/profile
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export PS1="(chroot) $PS1"</code></div></div>
<p>A partir deste ponto, todas as ações feitas afetam imediatamente o novo ambiente de instalação do Gentoo Linux. É claro que a instalação ainda está longe de ser concluída, sendo por isso que ainda temos algumas seções restantes.
</p>
<h2><span class="mw-headline" id="Configurando_o_Portage">Configurando o Portage</span></h2>
<h3><span class="mw-headline" id="Instalando_um_instant.C3.A2neo_do_Portage">Instalando um instantâneo do Portage</span></h3>
<p>O próximo passo é instalar um instantâneo do Portage, uma coleção de arquivos que informam ao Portage quais softwares estão disponíveis para instalar, quais perfis o administrador pode selecionar, etc.
</p><p>O uso do comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span> é recomendado. Isso vai buscar o último instantâneo do portage (que o Gentoo libera diariamente) de um dos espelhos do Gentoo e instalar no sistema.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge-webrsync</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Durante essa operação, o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span> pode reclamar que o diretório <span style="font-family: monospace; font-size: 95%">/usr/portage/</span> não existe. Isso já é esperado e não é motivo para preocupação - a ferramenta irá criar o diretório.</div>
<p>A partir deste ponto, o Portage pode avisar que sejam executadas algumas atualizações recomendadas. Isso é porque alguns pacotes do sistema instalados através do arquivo stage3 podem ter novas versões disponíveis e o Portage sabe disso agora que está instalado um novo instantâneo do Portage. Isso pode ser ignorado de forma segura por enquanto; as atualizações podem ser disparadas depois que a instalação do Gentoo estiver finalizada.
</p>
<h3><span class="mw-headline" id="Opcional:_Atualizando_a_.C3.A1rvore_do_Portage">Opcional: Atualizando a árvore do Portage</span></h3>
<p>É possível atualizar a árvore do Portage para a última versão. O comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span> anterior instalou um instantâneo do Portage bem recente (normalmente tão recente quanto 24 horas) de modo que este passo é totalmente opcional.
</p><p>Havendo necessidade da última atualização dos pacotes (menos de 1 hora), use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge --sync</span>. Esse comando irá usar o protocolo rsync para atualizar a árvore do Portage (que foi trazida anteriormente através do <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span>) ao seu estado mais recente.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --sync</code></div></div>
<p>Em terminais lentos, tais como alguns "framebuffers" ou consoles seriais, é recomendado usar a opção <code>--quiet</code> para agilizar o processo:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --sync --quiet</code></div></div>
<h3><span class="mw-headline" id="Lendo_itens_de_not.C3.ADcias">Lendo itens de notícias</span></h3>
<p>Quando uma árvore do Portage é sincronizada com o sistema, ele pode mostrar ao usuário uma mensagem similar a seguinte:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CODE</span> <strong>O Portage informando ao usuário sobre itens de notícias</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre> * IMPORTANT: 2 news items need reading for repository 'gentoo'.
 * Use eselect news to read news items.
</pre></div></pre></div>
<p>As notícias do Portage foram criadas para prover um meio de comunicação para enviar mensagens aos usuários através da árvore do portage. Para gerenciá-las, use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect news</span>. A aplicação <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect</span> é uma aplicação do Gentoo que provê uma interface de gerenciamento comum voltada para alterações e operações. Nesse caso, o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect</span> é acionado para usar seu módulo <code>news</code>.
</p><p>Para o módulo <code>news</code>, três operações são mais utilizadas:
</p>
<ul><li> Com <code>list</code>, é mostrada uma lista dos itens de notícias disponíveis</li>
<li> Com <code>read</code>, os itens de notícias podem ser lidos</li>
<li> Com <code>purge</code>, itens de notícias podem ser removidos depois de lidos e não forem ser mais relidos</li></ul>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect news list
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect news read</code></div></div>
<p>Mais informações sobre o leitor de notícias estão disponíveis através de sua página de manual: 
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>man news.eselect</code></div></div>
<h3><span class="mw-headline" id="Escolhendo_o_perfil_correto">Escolhendo o perfil correto</span></h3>
<p>Um <i>perfil</i> (<i>profile</i>) é uma peça fundamental para qualquer sistema Gentoo. Não apenas ele especifica valores padrões para o <var>USE</var>, <var>CFLAGS</var> e outras variáveis importantes, ele também trava o sistema em um dado conjunto de versões de pacotes. Tudo isso é mantido pelos desenvolvedores do Gentoo.
</p><p>Você pode ver qual perfil o sistema está usando com o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect</span>, agora usando com o módulo <code>profile</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect profile list</code></div><pre>
Available profile symlink targets:
  [1]   default/linux/x86/13.0 *
  [2]   default/linux/x86/13.0/desktop
  [3]   default/linux/x86/13.0/desktop/gnome
  [4]   default/linux/x86/13.0/desktop/kde
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />A saída do comando é apenas um exemplo e evolui com o tempo.</div>
<p>Como pode ser visto, há também subperfis de desktops disponíveis para algumas arquiteturas.
</p><p>Depois de visualizar os perfis disponíveis para a arquitetura x86, os usuários podem selecionar um perfil diferente para usar:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect profile set 2</code></div></div>
<p>
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O perfil developer (desenvolvedor) é específico para o desenvolvimento do Gentoo Linux e não é destinado para uso por usuários normais.</div>
<h3><span class="mw-headline" id="Configurando_as_vari.C3.A1veis_USE">Configurando as variáveis USE</span></h3>
<p>A <var>USE</var> é uma das mais poderosas variáveis que o Gentoo provê aos seus usuários. Muitos programas podem ser compilados com ou sem suporte para certos itens. Por exemplo, alguns programas podem ser compilados com suporte ao GTK ou ao QT. Outros podem ser compilados com ou sem suporte ao SSL. Alguns programas podem até ser compilados com suporte a framebuffer (svgalib) em vez de suporte ao X11 (X-server).
</p><p>A maioria das distribuições compilam seus pacotes com o máximo possível de suporte, aumentando o tamanho dos programas e o tempo de carga, sem contar o enorme número de dependências. Com o Gentoo, os usuários podem definir com quais opções um pacote deve ser compilado. É aqui que a <var>USE</var> entra em cena.
</p><p>Na variável <var>USE</var> os usuários definem palavras-chave que serão mapeadas em opções de compilação. Por exemplo, <code>ssl</code> irá compilar suporte ao SSL em programas que o suportam. <code>-X</code> irá remover suporte ao servidor X (note o sinal de menos na frente). <code>gnome gtk -kde -qt4</code> irá compilar programas com suporte ao GNOME (e GTK) mas não ao KDE (e Qt), fazendo o sistema ajustado para o GNOME (se a arquitetura o suportar).
</p><p>Os padrões para as configurações USE estão armazenados nos arquivos <span style="font-family: monospace; font-size: 95%">make.defaults</span> do perfil do Gentoo usado pelo sistema. O Gentoo usa um (complexo) sistema de herança para seus perfis, no qual ainda não nos aprofundamos neste estágio. O modo mais fácil de checar as configurações <var>USE</var> ativas é executar <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge --info</span> e selecionar a linha que começa com <i>USE</i>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --info | grep ^USE</code></div><pre>
USE=&quot;X acl alsa amd64 berkdb bindist bzip2 cli cracklib crypt cxx dri ...&quot;
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O exemplo acima está truncado, a lista real das variáveis <var>USE</var> é muito, muito maior.</div>
<p>Uma descrição completa das flags USE disponíveis pode ser encontrada no sistema em <span style="font-family: monospace; font-size: 95%">/usr/portage/profiles/use.desc</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>less /usr/portage/profiles/use.desc</code></div></div>
<p>Dentro do comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">less</span>, a rolagem pode ser feita usando as teclas <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">↑</kbd> e <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">↓</kbd>, e sair pressionando <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">q</kbd>.
</p><p>Como exemplo, mostramos uma configuração USE para um sistema baseado no KDE com suporte a DVD, ALSA e gravação de CD:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/portage/make.conf</code></div></div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Habilitando USE para um sistema baseado em KDE com suporte a DVD, ALSA e gravação de CD</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">USE</span><span class="o">=</span><span class="s2">&quot;-gtk -gnome qt4 kde dvd alsa cdr&quot;</span>
</pre></div></pre>
<p>Quando a <var>USE</var> é definida em <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> ela é "adicionada" (ou "removida" se a flag iniciar com o sinal <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">-</kbd>) da lista padrão. Usuários que quiserem ignorar toda a configuração padrão USE e gerenciá-la completamente por conta devem iniciar a definição <var>USE</var> com <code>-*</code>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Ignorando as flags USE padrão</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">USE</span><span class="o">=</span><span class="s2">&quot;-* X acl alsa ...&quot;</span>
</pre></div></pre>
<h2><span class="mw-headline" id="Opcional:_Usando_systemd">Opcional: Usando systemd</span></h2>
<p>O restante deste Manual do Gentoo foca no OpenRC como sistema de init default. Se, em vez disso, for desejado o systemd, ou você está planejando usar o Gnome 3.8 ou mais recente (que requer o systemd), por favor consulte a página <a href="../../../Systemd.html" title="Systemd">systemd</a> uma vez que ela elabora sobre as diferentes configurações e métodos.
</p><p>O manual do Gentoo pode então ser seguido com essa página em mente.
</p>
<h2><span class="mw-headline" id="Zona_hor.C3.A1ria">Zona horária</span></h2>
<p>Selecione a zona horário para o sistema. Veja as zonas horárias disponíveis em <span style="font-family: monospace; font-size: 95%">/usr/share/zoneinfo/</span>, e então escreva-a no arquivo <span style="font-family: monospace; font-size: 95%">/etc/timezone</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /usr/share/zoneinfo</code></div></div>
<p>Suponha que a zona horária escolhida seja <i>Brazil/East</i>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>echo "Brazil/East" &gt; /etc/timezone</code></div></div>
<p>Por favor evite as zonas horárias <span style="font-family: monospace; font-size: 95%">/usr/share/zoneinfo/Etc/GMT*</span> pois seus nomes não correspondem às zonas esperadas. Por exemplo, <span style="font-family: monospace; font-size: 95%">GMT-8</span> é na verdade <span style="font-family: monospace; font-size: 95%">GMT+8</span>.
</p><p>A seguir, reconfigure o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-libs/timezone-data">sys-libs/timezone-data</a>, o que irá atualizar o arquivo <span style="font-family: monospace; font-size: 95%">/etc/localtime</span> para nós, baseado no <span style="font-family: monospace; font-size: 95%">/etc/timezone</span>. O arquivo <span style="font-family: monospace; font-size: 95%">/etc/localtime</span> é usado pela biblioteca C do sistema para saber em qual zona horária o sistema está.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --config sys-libs/timezone-data</code></div></div>
<h2><span class="mw-headline" id="Configurando_locais">Configurando locais</span></h2>
<p>A maioria dos usuários irá querer usar apenas um ou dois locais em seus sistemas.
</p><p>Locais especificam não apenas a língua que o sistema deve usar para interagir com o usuário, mas também as regras para ordenar strings, mostrar data e hora, etc. 
</p><p>Os locais que um sistema deve suportar devem ser entrados em <span style="font-family: monospace; font-size: 95%">/etc/locale.gen</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/locale.gen</code></div></div>
<p>Os seguintes locais são um exemplo para se obter inglês (Estados Unidos) e alemão (Alemanha) com os correspondentes formatos de caracteres (como o UTF-8).
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/locale.gen</code></strong><strong>Habilitando os locais US e DE com os formatos de caracteres apropriados</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>en_US ISO-8859-1
en_US.UTF-8 UTF-8
de_DE ISO-8859-1
de_DE@euro ISO-8859-15
</pre></div></pre>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Aviso</strong><br />Sugerimos fortemente usar pelo menos um local UTF-8 pois algumas aplicações podem requerê-lo.</div>
<p>O próximo passo é executar <span style="font-family: monospace; font-size: 95%; font-weight: bold;">locale-gen</span>. Isso irá regerar todos os locais especificados no arquivo <span style="font-family: monospace; font-size: 95%">/etc/locale.gen</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>locale-gen</code></div></div>
<p>Para verificar que os locais selecionados estão agora disponíveis, execute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">locale -a</span>.
</p><p>Uma vez feito, é agora hora de ajustar a configuração geral de local do sistema. Novamente usamos o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect</span> para isso, agora com o módulo <code>locale</code>.
</p><p>Com o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect locale list</span>, os alvos disponíveis são mostrados.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect locale list</code></div><pre>
Available targets for the LANG variable:
  [1] C
  [2] POSIX
  [3] en_US
  [4] en_US.iso88591
  [5] en_US.utf8
  [6] de_DE
  [7] de_DE.iso88591
  [8] de_DE.iso885915
  [9] de_DE.utf8
  [ ] (free form)
</pre></div>
<p>Com <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect locale set VALOR</span> o local correto pode ser ajustado:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect locale set 9</code></div></div>
<p>Manualmente, isso pode ser conseguido através do arquivo <span style="font-family: monospace; font-size: 95%">/etc/env.d/02locale</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/env.d/02locale</code></strong><strong>Ajustando manualmente as definições de locais do sistema</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">LANG</span><span class="o">=</span><span class="s2">&quot;de_DE.UTF-8&quot;</span>
<span class="nv">LC_COLLATE</span><span class="o">=</span><span class="s2">&quot;C&quot;</span>
</pre></div></pre>
<p>Certifique-se que um local foi configurado, ou o sistema irá mostrar mensagens de aviso e erro durante a construção do kernel e outras implantações de software mais tarde na instalação.
</p><p>Agora recarregue o ambiente:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>env-update &amp;&amp; source /etc/profile</code></div></div>
<p>Nós fizemos um <a href="../../../Localization/HOWTO.html" title="Localization/HOWTO" class="mw-redirect">Guia de localização</a> completo para ajudar o usuário através do processo. Outro artigo interessante é o guia <a href="../../../UTF-8.html" title="UTF-8">UTF-8</a> com informações muito específicas para habilitar o UTF-8 no sistema.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Stage/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Instalando o Stage3</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Kernel/pt-br.html" title="Next part" class="btn btn-default">Configurando o kernel &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Instalando_os_fontes">Instalando os fontes</span></h2>
<p>O núcleo em torno do qual todas as distribuições são criadas é o kernel Linux. Ele é a camada entre os programas de usuários e o hardware do sistema. O Gentoo provê aos seus usuários diversos possíveis fontes do kernel. Uma listagem completa está disponível na <a href="../../../Kernel/Overview.html" title="Kernel/Overview">Página de visão geral do kernel</a>.
</p><p>Para sistemas baseados em x86 o Gentoo recomenda o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/gentoo-sources"> sys-kernel/gentoo-sources</a>.
</p><p>Escolha um fonte do kernel apropriado e instale-o usando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/gentoo-sources</code></div></div> 
<p>Isso irá instalar os fontes do kernel Linux em <span style="font-family: monospace; font-size: 95%">/usr/src/</span> no qual um link simbólico chamado <span style="font-family: monospace; font-size: 95%">linux</span> estará apontando para o fonte do kernel instalado:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls -l /usr/src/linux</code></div><pre>
lrwxrwxrwx    1 root   root    12 Oct 13 11:04 /usr/src/linux -&gt; linux-3.16.5-gentoo
</pre></div>
<p>É chegada a hora de configurar e compilar os fontes do kernel. Há duas formas de se fazer isso:
</p>
<ol><li> O kernel é manualmente configurado e compilado, ou</li>
<li> é usada uma ferramenta chamada <code>genkernel</code> para automaticamente compilar e instalar o kernel Linux</li></ol>
<p>Vamos explicar aqui a configuração manual como opção padrão por ser o melhor caminho para otimizar um ambiente.
</p>
<h2><span class="mw-headline" id="Padr.C3.A3o:_Configura.C3.A7.C3.A3o_manual">Padrão: Configuração manual</span></h2>
<h3><span class="mw-headline" id="Introdu.C3.A7.C3.A3o_4">Introdução</span></h3>
<p>Configurar manualmente um kernel é geralmente visto como o procedimento mais difícil que um usuário Linux pode fazer. Nada mais falso -- depois de configurar algumas vezes o kernel ninguém irá se lembrar que era difícil.
</p><p>Porém, uma coisa é verdade: é vital conhecer o sistema quando um kernel é configurado manualmente. A maioria das informações pode ser coletada fazendo emerge no <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-apps/pciutils">sys-apps/pciutils</a> que contém o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lspci</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-apps/pciutils</code></div></div> 
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Dentro do chroot, é seguro ignorar qualquer aviso da pcilib (como <i>pcilib: cannot open /sys/bus/pci/devices</i>) que o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lspci</span>  possa emitir.</div>
<p>Uma outra fonte de informação do sistema é executar o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lsmod</span> para ver quais módulos do kernel o CD de instalação usa pois isso pode dar dicas sobre o que habilitar.
</p><p>Agora vá para o diretório dos fontes do kernel e execute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">make menuconfig</span>. Isso irá mostrar uma tela de configuração baseada em menus.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cd /usr/src/linux
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make menuconfig</code></div></div>
<p>A configuração do kernel do Linux tem muitas, muitas seções. Vamos primeiro mostrar algumas opções que devem ser ativadas (ou senão o Gentoo não irá funcionar, ou não funcionar adequadamente sem alguns ajustes). Existe também o <a href="../../../Kernel/Gentoo_Kernel_Configuration_Guide.html" title="Kernel/Gentoo Kernel Configuration Guide">Guia de configuração do kernel do Gentoo</a>
</p>
<h3><span class="mw-headline" id="Ativando_as_op.C3.A7.C3.B5es_necess.C3.A1rias">Ativando as opções necessárias</span></h3>
<p>Certifique-se de que todos os drivers que forem vitais para a inicialização do sistema (tais como controladores SCSI, ...) são compilados no kernel e não como módulo, ou senão o sistema não será capaz de inicializar completamente.
</p><p>Em seguida selecione o tipo exato do processador. É também recomendado habilitar os recursos MCE (se disponíveis) de modo que os usuários possam ser notificados sobre quaisquer problemas de hardware. Em algumas arquiteturas (tais como a x86_64), esses erros não são impressos pelo dmesg, mas em <span style="font-family: monospace; font-size: 95%">/dev/mcelog</span>. Isso requer o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/mcelog">app-admin/mcelog</a>. 
</p><p>Selecione também <i>Maintain a devtmpfs file system to mount at /dev</i> assim os arquivos de dispositivos críticos estarão disponíveis logo durante o processo de inicialização.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Habilitando suporte ao devtmpfs</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  Generic Driver Options ---&gt;
    [*] Maintain a devtmpfs filesystem to mount at /dev
    [ ]   Automount devtmpfs at /dev, after the kernel mounted the rootfs
</pre>
</pre></div></pre>
<p>Vá agora para File Systems (Sistemas de Arquivos) e selecione suporte para os sistemas de arquivos que você usa. Não compile o sistema de arquivo que é usado como sistema de arquivo raiz como módulo, ou senão o sistema Gentoo não será capaz de montar a partição. Selecione também "Virtual memory" (Memória virtual) e "/proc file system" (sistema de arquivo /proc).
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Selecionando os sistemas de arquivos necessários</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
File systems ---&gt;
(Select one or more of the following options as needed by your system)
  &lt;*&gt; Second extended fs support
  &lt;*&gt; Ext3 journalling file system support
  &lt;*&gt; The Extended 4 (ext4) filesystem
  &lt;*&gt; Reiserfs support
  &lt;*&gt; JFS filesystem support
  &lt;*&gt; XFS filesystem support
  ...
  Pseudo Filesystems ---&gt;
    [*] /proc file system support
    [*] Virtual memory file system support (former shm fs)
</pre>
</pre></div></pre>
<p>Se for usado PPPoE para conectar à Internet, ou um modem com discagem foi usado, então habilite as seguintes opções:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Selecionando os drivers PPPoE necessários</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  Network device support ---&gt;
    &lt;*&gt; PPP (point-to-point protocol) support
    &lt;*&gt;   PPP support for async serial ports
    &lt;*&gt;   PPP support for sync tty ports
</pre>
</pre></div></pre>
<p>As duas opções de compactação não vão atrapalhar mas definitivamente não são necessárias, assim como a opção de PPP sobre Ethernet (PPP over Ethernet), que pode apenas ser usada pelo ppp quando configurado para usar PPPoE em modo kernel.
</p><p>Não se esqueça de incluir suporte no kernel para as placas de rede (ethernet ou sem fio).
</p><p>A maioria dos sistemas tem múltiplos núcleos à disposição, então é importante ativar a opção <i>Symmetric multi-processing support</i> (suporte a multi-processamento simétrico).
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Ativando suporte a SMP</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
  [*] Symmetric multi-processing support
</pre>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Em sistemas com vários núcleos, cada núcleo conta como um processador.</div>
<p>Se forem usados dispositivos de entrada USB (como teclado ou mouse) não se esqueça de habilitá-los também:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Ativando suporte a dispositivos de entrada USB</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  [*] HID Devices  ---&gt;
    &lt;*&gt;   USB Human Interface Device (full HID) support
</pre>
</pre></div></pre>
<p><br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Configura.C3.A7.C3.A3o_do_kernel_espec.C3.ADfica_da_arquitetura">Configuração do kernel específica da arquitetura</span></h3>
<p>Certifique-se de selecionar emulação de IA32 se programas de 32 bits devem ser suportados (multilib). O Gentoo irá instalar um sistema multilib (computação mista de 32 e 64 bits) por padrão, assim a menos que um perfil <span style="font-family: monospace; font-size: 95%">no-multilib</span> seja usado, esta opção é requerida.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Selecionando o tipo de processador e seus recursos</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
   [ ] Machine Check / overheating reporting 
   [ ]   Intel MCE Features
   [ ]   AMD MCE Features
  Processor family (AMD-Opteron/Athlon64)  ---&gt;
    ( ) Opteron/Athlon64/Hammer/K8
    ( ) Intel P4 / older Netburst based Xeon
    ( ) Core 2/newer Xeon
    ( ) Intel Atom
    ( ) Generic-x86-64
Executable file formats / Emulations  ---&gt;
   [*] IA32 Emulation
</pre>
</pre></div></pre>
<p>Habilite o suporte a partições GPT se foram usadas anteriormente durante o particionamento de discos:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Habilite suporte a GPT</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
-*- Enable the block layer ---&gt;
    ...
    Partition Types ---&gt;
    [*] Advanced partition selection
      ...
      [*] EFI GUID Partition support
</pre>
</pre></div></pre>
<p>Habilite o suporte básico à EFI e variáveis EFI no kernel Linux se a UEFI for usada para inicializar o sistema:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Habilitar suporte à UEFI</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
    [*] EFI runtime service support 
    [*]   EFI stub support
  
Firmware Drivers  ---&gt;
    &lt;*&gt; EFI Variable Support via sysfs
</pre>
</pre></div></pre>
<h3><span class="mw-headline" id="Compilando_e_instalando">Compilando e instalando</span></h3>
<p>Com a configuração terminada, é hora de compilar e instalar o kernel. Saia da configuração e inicie o processo de compilação:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make &amp;&amp; make modules_install</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />É possível habilitar a compilação em paralelo usando <code>make -jX</code> onde X é o número de tarefas paralelas que o processo de compilação é permitido disparar. Isso é similar às instruções anteriores sobre o <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>, sobre a variável <code>MAKEOPTS</code>.</div>
<p>Quando o kernel terminar de compilar, copie a imagem do kernel para <span style="font-family: monospace; font-size: 95%">/boot/</span>. Isso é feito pelo comando <code>make install</code>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make install</code></div></div>
<p>Isso irá copiar a imagem do kernel em <span style="font-family: monospace; font-size: 95%">/boot/</span> com o arquivo <span style="font-family: monospace; font-size: 95%">System.map</span> e o arquivo de configuração do kernel.
</p><p>Com os sistemas UEFI, crie o arquivo <span style="font-family: monospace; font-size: 95%">/boot/efi/boot/</span> e então copiar o kernel para este local, guardando-o como <span style="font-family: monospace; font-size: 95%">bootx64.efi</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkdir -p /boot/efi/boot
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cp /boot/vmlinuz-* /boot/efi/boot/bootx64.efi</code></div></div>
<p><br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="Opcional:_Criando_um_initramfs">Opcional: Criando um initramfs</span></h3>
<p>Em certos casos, é necessário construir um initramfs - um sistema inicial de arquivos em RAM. A razão mais comum é quando os locais importantes do sistema de arquivos (como <span style="font-family: monospace; font-size: 95%">/usr/</span> ou <span style="font-family: monospace; font-size: 95%">/var/</span>) estão em partições separadas. Com um initramfs, essas partições podem ser montadas usando as ferramentas disponíveis dentro do initramfs.
</p><p>Sem um initramfs, há um enorme risco de o sistema não inicializar correctamente porque as ferramentas que são responsáveis pela montagem dos sistemas de arquivos precisam de informação que reside nesses sistemas de arquivos. Um initramfs irá puxar os arquivos necessários em um arquivo que é usado logo após o kernel inicializa, mas antes que o controle é entregue para a ferramenta de init. Os scripts do initramfs, então, certificam-se de que as partições estejam devidamente montadas antes do sistema continuar a inicialização.
</p><p>Para instalar um initramfs, primeiramente instale o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/genkernel">sys-kernel/genkernel</a>, e em seguida, use-o para gerar um initramfs:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge genkernel</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel --install initramfs</code></div></div>
<p>Para habilitar suporte para recursos específicos no initramfs tais como lvm ou raid, adicione as opções apropriadas no <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span>. Veja <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel --help</span> para mais informação. No exemplo a seguir habilitamos o suporte para LVM e raid por software (mdadm):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel --lvm --mdadm --install initramfs</code></div></div>
<p>O initramfs será armazenado em <span style="font-family: monospace; font-size: 95%">/boot/</span>. O arquivo resultante pode ser encontrado listando os arquivos iniciando com "initramfs":
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /boot/initramfs*</code></div></div>
<p>Continue agora com os <a href="#M.C3.B3dulos_do_kernel">Módulos do kernel</a>
</p>
<h2><span class="mw-headline" id="Alternativa:_Usando_o_genkernel">Alternativa: Usando o genkernel</span></h2>
<p>Se a configuração manual parecer muito difícil, então é recomendado o uso do <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span>. Ele irá configurar e construir o kernel automaticamente.
</p><p>O <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> funciona configurando um kernel praticamente idêntico ao kernel do CD de instalação. Isso significa que quando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> é usado para construir o kernel, o sistema geralmente irá detectar todo o hardware durante a inicialização, assim como o CD de instalação. Como o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> não necessita de nenhuma configuração manual, ele é a solução ideal para aqueles usuários que não se sintam confortáveis compilando seu próprio kernel.
</p><p>Agora vamos ver como usar o genkernel. Primeiro faça emerge do pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/genkernel">sys-kernel/genkernel</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/genkernel</code></div></div> 
<p>Depois, edite o arquivo <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> de modo que a linha contendo o <span style="font-family: monospace; font-size: 95%">/boot/</span> como segundo campo tenha o primeiro campo apontando para o dispositivo correto. Se o exemplo de particionamento deste manual foi seguido, então o dispositivo é provavelmente o /dev/sda2 com o sistema de arquivo ext2. A linha completa se pareceria com:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/fstab</code></div></div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/fstab</code></strong><strong>Configurando o ponto de montagem /boot</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
/dev/sda2	/boot	ext2	defaults	0 2
</pre>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Mais adiante nesta instalação do Gentoo o <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> será configurado novamente. A configuração do <span style="font-family: monospace; font-size: 95%">/boot</span> é necessária agora porque o aplicativo <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> lê esse arquivo de configuração.</div>
<p>Agora, compile os fontes do kernel executando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel all</span>. Note que, como <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel all</span> compila um kernel com suporte para quase todo tipo de hardware, a compilação pode demorar para terminar!
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Se a partição de boot não usa ext2 ou ext3 como sistema de arquivos, pode ser necessário configurar manualmente o kernel usando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel --menuconfig all</span> e adicionar suporte para esse sistema de arquivo em particular no kernel (não como módulo). Usuários de LVM2 provavelmente irão querer adicionar <code>--lvm</code> como argumento também.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel all</code></div></div>
<p>Quando o genkernel terminar estarão criados um kernel, um conjunto completo de módulos e um ramdisk inicial (initrd). Usaremos o kernel e o initrd quando configurarmos o gerenciador de boot mais tarde neste documento. Anote os nomes do kernel e do initrd pois essas informações são utilizadas quando o arquivo de configuração do gerenciador de boot for editado. O initrd será executado imediatamente após o boot para fazer a autodetecção de hardware (como no CD de instalação) antes do sistema "real" inicializar.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /boot/kernel* /boot/initramfs*</code></div></div>
<h2><span class="mw-headline" id="M.C3.B3dulos_do_kernel">Módulos do kernel</span></h2>
<h3><span class="mw-headline" id="Configurando_os_m.C3.B3dulos">Configurando os módulos</span></h3>
<p>Liste os módulos que precisam ser carregados automaticamente em <span style="font-family: monospace; font-size: 95%">/etc/conf.d/modules</span>. Opções extras podem ser adicionadas aos módulos se necessárias.
</p><p>Para visualizar todos os módulos disponíveis, execute o seguinte comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">find</span>. Não se esqueça de substituir "&lt;kernel version&gt;" pela versão do kernel recém compilada:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>find /lib/modules/&lt;kernel version&gt;/ -type f -iname '*.o' -or -iname '*.ko' | less</code></div></div>
<p>Por exemplo, para carregar automaticamente o módulo <span style="font-family: monospace; font-size: 95%">3c59x.ko</span> (que é o driver para uma placa de rede específica da família 3Com), edite o arquivo <span style="font-family: monospace; font-size: 95%">/etc/conf.d/modules</span> e digite o nome do módulo nele.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/modules</code></div><pre>
modules=&quot;3c59x&quot;
</pre></div>
<p>Continue a instalação em <a href="../../Installation/System/pt-br.html" title="Handbook:X86/Installation/System/pt-br">Configurando o sistema</a>.
</p>
<h3><span class="mw-headline" id="Opcional:_Instalando_firmware">Opcional: Instalando firmware</span></h3>
<p>Alguns drivers requerem que firmware adicionais sejam instalados no sistema antes para funcionarem. Isso ocorre normalmente com interfaces de rede, especialmente as interfaces de rede sem fio. A maioria dos firmwares estão empacotados em <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/linux-firmware">sys-kernel/linux-firmware</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/linux-firmware</code></div></div> 
<p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Base/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Instalando o sistema base</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/System/pt-br.html" title="Next part" class="btn btn-default">Configurando o sistema &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Informa.C3.A7.C3.A3o_do_sistema_de_arquivos">Informação do sistema de arquivos</span></h2>
<h3><span class="mw-headline" id="Sobre_o_fstab">Sobre o fstab</span></h3>
<p>No Linux todas as partições usadas pelo sistema devem ser listadas em <span style="font-family: monospace; font-size: 95%">/etc/fstab</span>. Esse arquivo contém os pontos de montagem das partições (onde elas se encontram na estrutura do sistema de arquivos), como elas devem ser montadas, quais opções especiais (automáticas ou não, se os usuários podem montá-las ou não, etc.)
</p>
<h3><span class="mw-headline" id="Criando_o_arquivo_fstab">Criando o arquivo fstab</span></h3>
<p>O arquivo <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> usa uma sintaxe do tipo tabela. Cada linha consiste de seis campos separados por espaço (espaço, tabulação ou ambos). Cada campo tem seu próprio significado:
</p>
<ol><li> O primeiro campo mostra a partição a ser montada (o caminho para o arquivo de dispositivo);</li>
<li> O segundo campo mostra o ponto de montagem no qual a partição deve ser montada;</li>
<li> O terceiro campo mostra o tipo de sistema de arquivo usado pela partição;</li>
<li> O quarto campo mostra as opções de montagem usadas pelo <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mount</span> quando ele montar a partição. Como cada tipo de sistema de arquivos tem suas opções de montagem próprias, os usuários são encorajados a ler a página de manual do mount (<span style="font-family: monospace; font-size: 95%; font-weight: bold;">man mount</span>) para uma listagem completa. Opções múltiplas são separadas por vírgulas;</li>
<li> O quinto campo é usado pelo <code>dump</code> para determinar se ele deve checar a necessidade de backup. É normalmente deixado como 0 (zero);</li>
<li> O sexto campo é usado pelo <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fsck</span> para determinar a ordem na qual os sistemas de arquivos devem ser checados se o sistema de arquivo foi desativado adequadamente. O sistema de arquivo raiz deve conter 1 enquanto os demais devem conter 2 (ou 0 se a checagem não for necessária).</li></ol>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />O arquivo <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> default fornecido pelo Gentoo não é um arquivo fstab válido mas apenas um modelo.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/fstab</code></div></div>
<p>No restante deste texto, usamos os arquivos de dispositivo de bloco <span style="font-family: monospace; font-size: 95%">/dev/sd*</span> como partição. Os usuários podem também optar por usar os links simbólicos em <span style="font-family: monospace; font-size: 95%">/dev/disk/by-id/</span> ou <span style="font-family: monospace; font-size: 95%">/dev/disk/by-uuid/</span>. Esses nomes não estão sujeitos a mudanças, enquanto os nomes default dos arquivos de dispositivos de bloco dependem de um número de fatores (tais como a maneira e em qual ordem os discos são anexados ao sistema). Entretanto, a menos que alguém tenha intenção de mexer na ordem dos discos, pode-se continuar a usar os arquivos de dispositivos de bloco com segurança.
</p><p>Vamos dar uma olhada em como criar as opções para a partição <span style="font-family: monospace; font-size: 95%">/boot/</span>. Isto é apenas um exemplo, e deve ser modificado de acordo com as decisões de particionamento feitas anteriormente nesta instalação.
Em nosso exemplo de particionamento para x86, o <span style="font-family: monospace; font-size: 95%">/boot/</span> é normalmente a partição <span style="font-family: monospace; font-size: 95%">/dev/sda2</span>, como o ext2 como sistems de arquivos. Ele precisa ser checado durante o boot, então poderíamos escrever:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/fstab</code></strong><strong>Um exemplo da linha /boot para o arquivo /etc/fstab</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
/dev/sda2   /boot     ext2    defaults        0 2
</pre>
</pre></div></pre>
<p>Alguns usuários podem não querer sua partição <span style="font-family: monospace; font-size: 95%">/boot/</span> montada automaticamente para aumentar a segurança do sistema. Essas pessoas devem substituir <i>defaults</i> por <i>noauto</i>. Isso significa que esses usuários precisarão montar manualmente essa partição toda vez que precisarem usá-la.
</p><p>Escreva as linhas de acordo com o esquema de particionamento decidido anteriormente e acrescente linhas para dispositivos tais como drives de CD-ROM e, claro, se forem usadas outras partições ou drives, para esses também.
</p><p>Abaixo é mostrado um exemplo mais elaborado de um arquivo <span style="font-family: monospace; font-size: 95%">/etc/fstab</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/fstab</code></strong><strong>Um exemplo de /etc/fstab completo</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
/dev/sda2   /boot        ext2    defaults,noatime     0 2
/dev/sda3   none         swap    sw                   0 0
/dev/sda4   /            ext4    noatime              0 1
/dev/cdrom  /mnt/cdrom   auto    noauto,user          0 0
</pre>
</pre></div></pre>
<p>Quando <code>auto</code> é usado no terceiro campo, ele faz com que o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mount</span> tente reconhecer o tipo de sistema de arquivo. Isso é recomendado para mídias removíveis uma vez que podem ser formatadas com algum sistema de arquivo qualquer. A opção <code>user</code> no quarto campo faz possível a montagem do CD para usuários não root.
</p><p>Para aumentar o desempenho, a maioria do usuários pode adicionar a opção de montagem <code>noatime</code>, o que resulta em um sistema mais rápido uma vez que a data e hora de acesso não são registrados (eles não são geralmente necessários). Isso também é recomendado para usuários de drives de estado sólido (SSD), que devem também habilitar a opção de montagem <code>discard</code> (apenas no ext4 e btrfs, por enquanto), que faz com que o comando TRIM funcione.
</p><p>Certifique-se que o arquivo <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> está correto, salve-o e saia do editor para continuar.
</p>
<h2><span class="mw-headline" id="Informa.C3.A7.C3.A3o_de_rede">Informação de rede</span></h2>
<h3><span class="mw-headline" id="Informa.C3.A7.C3.A3o_de_host_e_dom.C3.ADnio">Informação de host e domínio</span></h3>
<p>Uma das escolhas que o usuário deve fazer é dar nome ao seu PC. Isso parece bem fácil, mas muitos usuários têm dificuldades em encontrar um nome apropriado para seu PC com Linux. Para acelerar as coisas, saiba que essa decisão não é definitiva - ela pode ser alterada mais tarde. Nos exemplos abaixo, é usado o nome de host "tux" dentro do domínio "homenetwork".
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/hostname</code></div><pre>
# Set the hostname variable to the selected host name
hostname=&quot;tux&quot;
</pre></div>
<p>Em segundo lugar, se um nome de domínio for necessário, configure-o em <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span>. Isso apenas é necessário se seu ISP ou administrador de rede o disser, ou se a rede tiver um servidor DNS mas não um DHCP. Não se preocupe com nomes de DNS ou de domínios se o sistema usa DHCP para alocação dinâmica de endereços IP e configuração de rede.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O arquivo <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span> não existe por default, assim, ele deve ser criado.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/net</code></div><pre>
# Set the dns_domain_lo variable to the selected domain name
dns_domain_lo=&quot;homenetwork&quot;
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Se não for configurado o nome de domínio, os usuários irão ver a mensagem "This is hostname.(none)" em suas telas de login. Isso pode ser corrigido editando o arquivo <span style="font-family: monospace; font-size: 95%">/etc/issue</span> e apagando a string <code>.\O</code> desse arquivo.</div>
<p>Se for necessário um domínio NIS (usuários que não souberem o que é isso, provavelmente não precisarão), defina também:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/net</code></div><pre>
# Set the nis_domain_lo variable to the selected NIS domain name
nis_domain_lo=&quot;my-nisdomain&quot;
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Para maiores informações sobre a configuração de DNS e NIS, por favor veja os exemplos fornecidos em <span style="font-family: monospace; font-size: 95%">/usr/share/doc/netifrc-*/net.example.bz2</span> que podem ser lidos usando o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">bzless</span>. Pode também ser interessante instalar o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-dns/openresolv">net-dns/openresolv</a> para auxiliar a configuração de DNS/NIS.</div>
<h3><span class="mw-headline" id="Configurando_a_rede">Configurando a rede</span></h3>
<p>Durante a instalação do Gentoo Linux, a rede já foi configurada. Porém, a configuração foi para o CD de instalação e não para o ambiente instalado. Agora a configuração de rede será feita para o sistema Gentoo Linux instalado.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Informações mais detalhadas sobre configuração de rede, incluindo tópicos avançados como bonding, bridging, 802.1Q VLANs e redes sem fio são cobertas na seção de Configuração de Rede no Gentoo.</div>
<p>Toda a configuração de rede está reunida no arquivo <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span>. Ele usa uma sintaxe direta mas talvez não muito intuitiva. Mas não tema, tudo está explicado abaixo. Um exemplo completamente comentado que cobre muitas configurações diferentes está disponível em <span style="font-family: monospace; font-size: 95%">/usr/share/doc/netifrc-*/net.example.bz2</span>.
</p><p>Primeiro instale o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-misc/netifrc">net-misc/netifrc</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask&#160;--noreplace net-misc/netifrc</code></div></div> 
<p>O DHCP é usado por default. Para o DHCP funcionar, é necessário instalar um cliente DHCP. Isso é descrito adiante em Ferramentas do Sistema Necessárias.
</p><p>Se a conexão de rede precisa ser configurada por causa de opções específicas do DHCP ou porque o DHCP não é utilizado, então edite <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/net</code></div></div>
<p>Configure ambas as variáveis <var>config_eth0</var> e <var>routes_eth0</var> para entrar com a informação de endereço IP e de roteamente:
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />É assumido que a interface de rede é chamada eth0. Isso, porém, é muito dependente do sistema. É recomendado assumir que a interface é nomeada da mesma forma que quando o sistema foi inicializado pela mídia de instalação se a mídia de instalação for razoavelmente recente. Mais informações podem ser encontradas em Nomes de Interface de Rede.</div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/net</code></strong><strong>Static IP definition</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">config_eth0</span><span class="o">=</span><span class="s2">&quot;192.168.0.2 netmask 255.255.255.0 brd 192.168.0.255&quot;</span>
<span class="nv">routes_eth0</span><span class="o">=</span><span class="s2">&quot;default via 192.168.0.1&quot;</span>
</pre></div></pre>
<p>Para usar DHCP, defina <var>config_eth0</var>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/net</code></strong><strong>Definindo DHCP</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">config_eth0</span><span class="o">=</span><span class="s2">&quot;dhcp&quot;</span>
</pre></div></pre>
<p>Por favor veja os arquivos <span style="font-family: monospace; font-size: 95%">/usr/share/doc/netifrc-*/net.example.bz2</span> para uma lista de todas as opções disponíveis. Certifique-se de também ler a página de manual (man page) se opções específicas do DHCP precisarem ser configuradas.
</p><p>Se o sistema tem várias interfaces de rede, então repita os passos acima para <var>config_eth1</var>, <var>config_eth2</var>, etc.
</p><p>Agora salve a configuração e saia para continuar.
</p>
<h3><span class="mw-headline" id="Iniciando_automaticamente_a_rede_durante_o_boot">Iniciando automaticamente a rede durante o boot</span></h3>
<p>Para que as interfaces de rede sejam ativadas durante o boot, elas precisam ser adicionadas no runlevel default.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cd /etc/init.d
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ln -s net.lo net.eth0
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add net.eth0 default</code></div></div>
<p>Se o sistema tem várias interfaces de rede, então os arquivos <span style="font-family: monospace; font-size: 95%">net.*</span> precisam ser criados assim como fizemos com o <span style="font-family: monospace; font-size: 95%">net.eth0</span>.
</p><p>Se após a inicialização do sistema descobrirmos que o nome que usamos para a interface de rede (que está atualmente documentada como eth0) está errado, então execute os seguintes passos para corrigir isso:
</p>
<ol><li> Corrija o arquivo <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span> com o nome correto da interface de rede (tal como <code>enp3s0</code> em vez de <code>eth0</code>).</li>
<li> Crie um novo link simbólico (como <span style="font-family: monospace; font-size: 95%">/etc/init.d/net.enp3s0</span>).</li>
<li> Remova o link simbólico antigo (<span style="font-family: monospace; font-size: 95%; font-weight: bold;">rm /etc/init.d/net.eth0</span>).</li>
<li> Adicione o novo ao runlevel default.</li>
<li> Remova o antigo usando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update del net.eth0 default</span>.</li></ol>
<h3><span class="mw-headline" id="O_arquivo_hosts">O arquivo hosts</span></h3>
<p>Agora informe ao Linux sobre seu ambiente de rede. Isso é definido no arquivo <span style="font-family: monospace; font-size: 95%">/etc/hosts</span> e é utilizado na resolução de nomes de hosts em endereços IP para os hosts que não são resolvidos pelo servidor de nomes. 
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/hosts</code></div></div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/hosts</code></strong><strong>Preenchendo as informações de rede</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre># This defines the current system and must be set
127.0.0.1     tux.homenetwork tux localhost
  
# Optional definition of extra systems on the network
192.168.0.5   jenny.homenetwork jenny
192.168.0.6   benny.homenetwork benny
</pre></div></pre>
<p>Salve e saia do editor para continuar.
</p>
<h3><span class="mw-headline" id="Opcional:_Fazendo_o_PCMCIA_funcionar">Opcional: Fazendo o PCMCIA funcionar</span></h3>
<p>Usuários de PCMCIA devem agora instalar o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-apps/pcmciautils">sys-apps/pcmciautils</a>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-apps/pcmciautils</code></div></div> 
<h2><span class="mw-headline" id="Informa.C3.A7.C3.B5es_do_sistema">Informações do sistema</span></h2>
<h3><span class="mw-headline" id="Senha_do_root">Senha do root</span></h3>
<p>Configure a senha do root usando o comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">passwd</span>. 
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>passwd</code></div></div>
<p>A conta de root é uma toda poderosa, então escolha uma senha forte. Depois uma conta de usuário comum será criada para operações diárias.
</p>
<h3><span class="mw-headline" id="Configura.C3.A7.C3.A3o_de_in.C3.ADcio_e_boot">Configuração de início e boot</span></h3>
<p>Gentoo (ao menos quando usa OpenRC) usa <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span> para configurar os serviços, início, desligamento do sistema. Abra <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span> e aproveite todos os comentários no arquivo. Reveja as configurações e mude onde for necessário.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/rc.conf</code></div></div>
<p>Em seguida, abra <span style="font-family: monospace; font-size: 95%">/etc/conf.d/keymaps</span> para manipular a configuração de teclado. Edite-o para configurar e escolher o teclado correto.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/keymaps</code></div></div>
<p>Tenha um cuidado especial com a variável <var>keymap</var>. Se o mapa de teclado errado for selecionado, resultados estranhos aparecerão durante a digitação.
</p><p>Finalmente, edite <span style="font-family: monospace; font-size: 95%">/etc/conf.d/hwclock</span> para definir as opções de relógio. Edite-o de acordo com suas preferências.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/hwclock</code></div></div>
<p>Se o relógio de hardware não estiver usando UTC é necessário incluir <code>clock="local"</code> no arquivo. Senão o sistema pode apresentar comportamento errático do relógio.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Kernel/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Configurando o kernel</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Tools/pt-br.html" title="Next part" class="btn btn-default">Instalando as ferramentas &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Sistema_de_log">Sistema de log</span></h2>
<p>Algumas ferramentas estão ausentes do arquivo stage3 por que diversos outros pacotes fornecem a mesma funcionalidade. Agora depende do usuário escolher quais instalar.
</p><p>A primeira ferramente sobre a qual precisamos nos decidir é a que provê serviço de log para o sistema. Unix e Linux tem uma história excelente de capacidade de serviço de log - se necessário, tudo o que acontece no sistema pode ser logado nos arquivos de log. Isso acontece através do serviço de log.
</p><p>O Gentoo oferece vários utilitários de logs do sistema. Entre eles estão incluídos:
</p>
<ul><li> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/sysklogd">app-admin/sysklogd</a> - Oferece o conjunto tradicional de serviço de log do sistema.</li>
<li> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/syslog-ng">app-admin/syslog-ng</a> - Um sistema de log avançado. Requer configurações adicionais para iniciar o serviço de log.</li>
<li> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/metalog">app-admin/metalog</a> - Um sistema de log altamente configurável.</li></ul>
<p>Outros também estão disponíveis através do Portage - o número de pacotes aumenta diariamente.
</p><p>Se for usado o sysklogd ou syslog-ng, é recomendado instalar o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/logrotate">app-admin/logrotate</a> em seguida uma vez que esses sistemas de log não oferece nenhum mecanismo de rotação dos arquivos de log.
</p><p>Para instalar o sistema de log de sua escolha, faça emerge dele e o adicione ao runlevel default usando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update</span>. O exemplo a seguir instala o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/syslog-ng">app-admin/syslog-ng</a>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask app-admin/syslog-ng</code></div></div> 
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add syslog-ng default</code></div></div>
<h2><span class="mw-headline" id="Opcional:_Cron_daemon">Opcional: Cron daemon</span></h2>
<p>Em seguida o cron daemon. Embora ele seja opcional e não requerido em todo sistema, é prudente instalar um.
</p><p>Um cron daemon executa comandos agendados. É muito útil se algum comando necessita ser executado regularmente (por exemplo, diária, semanal ou mensalmente).
</p><p>O Gentoo oferece diversos crons daemons possíveis, incluindo o <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/bcron">sys-process/bcron</a>, o <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/dcron">sys-process/dcron</a>, o <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/fcron">sys-process/fcron</a> e o <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/cronie">sys-process/cronie</a>. Instalar um desses é similar a instalar o sistema de log. O exemplo abaixo usa o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/cronie">sys-process/cronie</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-process/cronie</code></div></div> 
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add cronie default</code></div></div>
<p>Se o dcron ou o fcron for usado, um comando adicional de inicialização precisa ser executado:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>crontab /etc/crontab</code></div></div>
<h2><span class="mw-headline" id="Opcional:_Indexa.C3.A7.C3.A3o_de_arquivos">Opcional: Indexação de arquivos</span></h2>
<p>De modo a indexar o sistema de arquivos para obter a capacidade de localizar arquivos rapidamente, instale o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-apps/mlocate">sys-apps/mlocate</a>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-apps/mlocate</code></div></div> 
<h2><span class="mw-headline" id="Opcional:_Acesso_remoto">Opcional: Acesso remoto</span></h2>
<p>Para ser capaz de acessar o sistema remotamente após a instalação, adicione o script de inicialização <span style="font-family: monospace; font-size: 95%">sshd</span> o runlevel default:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add sshd default</code></div></div>
<p>Se for necessário acesso ao console serial (o que é possível em caso de servidores remotos), descomente a seção de console serial em <span style="font-family: monospace; font-size: 95%">/etc/inittab</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/inittab</code></div><pre>
# SERIAL CONSOLES
s0:12345:respawn:/sbin/agetty 9600 ttyS0 vt100
s1:12345:respawn:/sbin/agetty 9600 ttyS1 vt100
</pre></div>
<h2><span class="mw-headline" id="Ferramentas_de_sistemas_de_arquivos">Ferramentas de sistemas de arquivos</span></h2>
<p>Dependendo dos sistemas de arquivos usados, é necessário instalar os utilitários de sistemas de arquivos (para checagem da integridade do sistema de arquivos, criar sistemas de arquivos adicionais etc). Por favor note que as ferramentas para gerenciar os sistemas de arquivos ext2, ext3 ou ext4 (e2fsprogs) já foram instaladas como parte do sistema.
</p><p>A tabela seguinte lista as ferramentas para instalar se um dado sistema de arquivo for usado:
</p>
<table class="table table-condensed table-striped" style="text-align: left;">

<tr>
<th scope="col" width="20%"> Sistema de arquivo
</th>
<th> Pacote
</th></tr>
<tr>
<td> XFS
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/xfsprogs">sys-fs/xfsprogs</a>
</td></tr>
<tr>
<td> ReiserFS
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/reiserfsprogs">sys-fs/reiserfsprogs</a>
</td></tr>
<tr>
<td> JFS
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/jfsutils">sys-fs/jfsutils</a>
</td></tr>
<tr>
<td> VFAT (FAT32, ...)
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/dosfstools">sys-fs/dosfstools</a>
</td></tr>
<tr>
<td> Btrfs
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/btrfs-progs">sys-fs/btrfs-progs</a>
</td></tr></table>
<h2><span class="mw-headline" id="Utilit.C3.A1rios_de_rede">Utilitários de rede</span></h2>
<p>Se não houver necessidade de nenhum utilitário adicional de rede, continue imediatamente na seção <a href="../../Installation/Bootloader/pt-br.html" title="Handbook:X86/Installation/Bootloader/pt-br">Configurando um gerenciador de boot</a>.
</p>
<h3><span class="mw-headline" id="Instalando_um_cliente_DHCP">Instalando um cliente DHCP</span></h3>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />Embora opcional, a maioria dos usuários irá precisar de um cliente DHCP para usar o servidor DHCP em suas redes. Aproveite esta oportunidade para instalar um cliente DHCP. Se este passo for esquecido, o sistema pode não ser capaz de usar a rede tornando impossível baixar o cliente DHCP mais tarde.</div>
<p>De modo ao sistema automaticamente obter um endereço IP para uma ou mais interfaces usando os scripts netifrc, é necessário instalar um cliente DHCP. Recomendamos o uso do <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-misc/dhcpcd">net-misc/dhcpcd</a> embora muitos outros clientes DHCP estejam disponíveis na árvore do Portage:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask net-misc/dhcpcd</code></div></div> 
<p>Mais informações sobre o <span style="font-family: monospace; font-size: 95%; font-weight: bold;">dhcpcd</span> podem ser encontradas no <a href="../../../Dhcpcd.html" title="Dhcpcd">artigo sobre o dhcpcd</a>.
</p>
<h3><span class="mw-headline" id="Opcional:_Instalando_um_cliente_PPPoE">Opcional: Instalando um cliente PPPoE</span></h3>
<p>Se for usado PPP para conexão à Internet, instale o pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-dialup/ppp">net-dialup/ppp</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask net-dialup/ppp</code></div></div> 
<p>Agora continue em <a href="../../Installation/Bootloader/pt-br.html" title="Handbook:X86/Installation/Bootloader/pt-br">Configurando o gerenciador de boot</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/System/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Configurando o sistema</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Bootloader/pt-br.html" title="Next part" class="btn btn-default">Configuring the bootloader &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Selecionando_um_gerenciador_de_boot">Selecionando um gerenciador de boot</span></h2>
<p>Com o kernel do Linux configurado, as ferramentas do sistema instaladas e os arquivos de configuração editados, é hora de instalar a última parte importante de uma instalação Linux: o gerenciador de boot.
</p><p>O gerenciador de boot é responsável por carregar o kernel do Linux no momento do boot - sem ele, o sistema não saberia como proceder quando fosse apertado o botão de ligar.
</p><p>Para a arquiterura x86, documentamos como configurar o <a href="#Default:_Usando_GRUB2">GRUB2</a> ou <a href="#Alternative:_Usando_LILO">LILO</a> para sistemas baseados em BIOS e o <a href="#Default:_Usando_GRUB2">GRUB2</a> ou <a href="#Alternative:_Usando_efibootmgr">efibootmgr</a> para sistemas UEFI.
</p>
<h2><span class="mw-headline" id="Default:_Usando_GRUB2">Default: Usando GRUB2</span></h2>
<p>Anteriormente o Gentoo Linux usava o que agora é chamado de "GRUB Legacy" como gerenciador de boot recomendado. Como o nome diz, o pacote antigo do GRUB não é mais mantido ativamente e foi substituido pelo GRUB2. Para mais informações sobre o GRUB Legacy, por favor consulte o artigo sobre o <a href="../../../GRUB.html" title="GRUB">GRUB</a> no Gentoo Wiki.
</p>
<h3><span class="mw-headline" id="Instalando_o_GRUB2">Instalando o GRUB2</span></h3>
<p>O GRUB2 é provido através do pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-boot/grub">sys-boot/grub</a>.
</p>
<ul><li> Se usar BIOS:</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-boot/grub</code></div></div> </dd></dl>
<ul><li> Se usar UEFI, deve ser adicionado  <code>GRUB_PLATFORMS="efi-64"</code> ao arquivo <span style="font-family: monospace; font-size: 95%">make.conf</span> primeiro.</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>echo GRUB_PLATFORMS="efi-64" &gt;&gt; /etc/portage/make.conf</code></div></div></dd></dl>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-boot/grub</code></div></div> </dd></dl>
<dl><dd> If GRUB2 was somehow emerged without first adding <code>GRUB_PLATFORMS="efi-64"</code> to <span style="font-family: monospace; font-size: 95%">make.conf</span> the line (as shown above) can be added then and dependencies for the <a href="../../../World_set_(Portage).html" title="World set (Portage)">world package set</a> re-calculated by passing the <code>--newuse --deep</code> options to <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge</span>:</dd></dl>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask&#160;--newuse --deep @world</code></div></div> </dd></dl>
<p>O software GRUB2 está agora instalado no sistema, mas não está ativo ainda.
</p>
<h3><span class="mw-headline" id="Configurando_o_GRUB2">Configurando o GRUB2</span></h3>
<p>Next, install the necessary GRUB2 files to the <span style="font-family: monospace; font-size: 95%">/boot/grub/</span> directory via the <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grub2-install</span> command. Presuming the first disk (the one where the system boots from) is <span style="font-family: monospace; font-size: 95%">/dev/sda</span>, one of the following commands will do:
</p>
<ul><li> Se usar BIOS:</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>grub2-install /dev/sda</code></div></div></dd></dl>
<ul><li> Se usar UEFI:</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>grub2-install --target=x86_64-efi --efi-directory=/boot</code></div></div></dd></dl>
<dl><dd> <div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Note</strong><br />Modify the efi-directory setting to the root of the vfat EFI System Partition. This necessary if the <span style="font-family: monospace; font-size: 95%">/boot</span> partition was not formatting as vfat.</div></dd></dl>
<dl><dd> <div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Important</strong><br />Make sure the EFI system partition has been mounted <i>before</i> running <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grub2-install</span>. It is possible for <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grub2-install</span> to install the GRUB EFI file (<span style="font-family: monospace; font-size: 95%">grubx64.efi</span>) into the wrong directory <i>without</i> providing indication the wrong directory was used.</div></dd></dl>
<p>A seguir podemos gerar a configuração do GRUB2 baseados na configuração do usuário especificada no arquivo <span style="font-family: monospace; font-size: 95%">/etc/default/grub</span> e nos scripts em <span style="font-family: monospace; font-size: 95%">/etc/grub.d</span>. Na maioria dos casos, nenhuma configuração é necessária pois o GRUB2 irá detectar automaticamente qual kernel dar boot (o mais recente em <span style="font-family: monospace; font-size: 95%">/boot/</span>) e qual é o sistema de arquivos raiz.
</p><p>To generate the final GRUB2 configuration, run the <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grub2-mkconfig</span> command:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>grub2-mkconfig -o /boot/grub/grub.cfg</code></div><pre>
Generating grub.cfg ...
Found linux image: /boot/vmlinuz-3.16.5-gentoo
Found initrd image: /boot/initramfs-genkernel-x86-3.16.5-gentoo
done
</pre></div>
<p>The output of the command must mention that at least one Linux image is found, as those are needed to boot the system. If an initramfs is used or <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> was used to build the kernel, the correct initrd image should be detected as well. If this is not the case, go to <span style="font-family: monospace; font-size: 95%">/boot/</span> and check the contents using the <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ls</span> command. If the files are indeed missing, go back to the kernel configuration and installation instructions.
</p>
<h2><span class="mw-headline" id="Alternativa:_Usando_LILO">Alternativa: Usando LILO</span></h2>
<h3><span class="mw-headline" id="Instalando_o_LILO">Instalando o LILO</span></h3>
<p>LILO, o LInuxLOader, é o mais testado e verdadeiro "cavalo puxador de arado" dos gerenciadores de boot. Entretando, ele não tem alguns recursos que GRUB tem. A razão pela qual o LILO ainda é usado é que, em alguns sistemas, o GRUB não funciona e o LILO sim. E, claro, ele também é usado porque algumas pessoas conhecem o LILO e querem continuar com ele. De qualquer forma, o Gentoo suporta ambos.
</p><p>Instalar o LILO é muito fácil; apenas use o emerge.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-boot/lilo</code></div></div> 
<h3><span class="mw-headline" id="Configurando_o_LILO">Configurando o LILO</span></h3>
<p>Para configurar o LILO, primeiro crie o arquivo <span style="font-family: monospace; font-size: 95%">/etc/lilo.conf</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/lilo.conf</code></div></div>
<p>No arquivo de configuração são usadas seções para fazer referência ao kernel inicializável. Certifique-se que os arquivos do kernel (com a versão do kernel) e os arquivos initramfs são conhecidos pois eles serão referenciados no arquivo de configuração.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Se o sistema de arquivo raiz for JFS, adicione uma linha <code>append="ro"</code> depois de cada item de boot uma vez que o JFS precisa refazer seu log antes de permitir a montagem com leitura e escrita.</div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/lilo.conf</code></strong><strong>Exemplo de configuração do LILO</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
boot=/dev/sda             # Instala o LILO no MBR
prompt                    # Permite a usuário selecionar outra opção de boot
timeout=50                # Espera 5 segundos antes de dar boot na seção default
default=gentoo            # Quando o tempo acabar, de boot na seção &quot;gentoo&quot;
  
image=/boot/vmlinuz-3.16.5-gentoo
  label=gentoo            # Nome dado a esta seção
  read-only               # Inicie em modo somente de leitura. Não modifique!
  root=/dev/sda4          # Localização do sistema de arquivo raiz
  
image=/boot/vmlinuz-3.16.5-gentoo
  label=gentoo.rescue     # Nome dado a esta seção
  read-only               # Inicie em modo somente de leitura. Não modifique!
  root=/dev/sda4         # Localização do sistema de arquivo raiz
  append=&quot;init=/bin/bb&quot;   # Execute o shell de recuperação estático do Gentoo
  
# As próximas duas linhas apenas se for feito boot duplo com um sistema Windows.
# Neste exemplo, o Windows está hospedado em /dev/sda6.
other=/dev/sda6
  label=windows
</pre>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Se for usado um esquema de particionamento diferente e/ou imagem de kernel, ajuste de acordo.</div>
<p>Se um initramfs é necessário, mude a configuração fazendo referência a esse initramfs e dizendo ao initramfs onde o dispositivo real de root se encontra:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/lilo.conf</code></strong><strong>Adicionando informação do initramfs à entrada de boot</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
image=/boot/vmlinuz-3.16.5-gentoo
  label=gentoo
  read-only
  append=&quot;real_root=/dev/sda4&quot;
  initrd=/boot/initramfs-genkernel-x86-3.16.5-gentoo
</pre>
</pre></div></pre>
<p>Se opções adicionais precisarem ser passadas ao kernel, use uma declaração <code>append</code>. Por exemplo, para adicionar uma declaração <code>video</code> para habilitar o framebuffer:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/lilo.conf</code></strong><strong>Adicionando o parâmetro video às opções de boot</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
image=/boot/vmlinuz-3.16.5-gentoo
  label=gentoo
  read-only
  root=/dev/sda4
  append=&quot;video=uvesafb:mtrr,ywrap,1024x768-32@85&quot;
</pre>
</pre></div></pre>
<p>Users that used <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> should know that their kernels use the same boot options as is used for the installation CD. For instance, if SCSI device support needs to be enabled, add <code>doscsi</code> as kernel option.
</p><p>Agora salve o arquivo e saia.
</p><p>To finish up, run <span style="font-family: monospace; font-size: 95%">/sbin/lilo</span> so LILO can apply the <span style="font-family: monospace; font-size: 95%">/etc/lilo.conf</span> settings to the system (I.E. install itself on the disk). Keep in mind that <span style="font-family: monospace; font-size: 95%">/sbin/lilo</span> must be executed each time a new kernel is installed or a change has been made to the <span style="font-family: monospace; font-size: 95%">lilo.conf</span> file in order for the system to boot if the filename of the kernel has changed.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/sbin/lilo</code></div></div>
<h2><span class="mw-headline" id="Alternativa:_Usando_o_efibootmgr">Alternativa: Usando o efibootmgr</span></h2>
<p>Em sistemas baseados em UEFI, o gerenciador de boot em si é o firmware UEFI do sistema. Tais sistemas não precisam de gerenciadores de boot adicionais para ajudar a inicializar o sistema, embora existam gerenciadores de boot baseados em EFI para estender as funcionalidades de sistemas UEFI durante o boot.
</p><p>O pacote <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-boot/efibootmgr">sys-boot/efibootmgr</a> não é um gerenciador de boot, mas uma ferramenta para interagir com o firmware UEFI e atualizar suas configurações, assim o kernel Linux que foi previamente instalado pode ser inicializado com opções adicionais (se necessário), ou para permitir múltiplas entradas de boot. Essa interação é feita através das variáveis EFI (por isso a necessidade do suporte às variáveis EFI anteriormente).
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O efibootmgr <i>não</i> é requerido para inicializar um sistema UEFI. O kernel do Linux pode (e é) inicializado imediatamente, e opções adicionais de boot podem ser passadas pelo kernel do Linux em si (existe uma configuração do kernel que permite ao usuário especificar os parâmetros de boot). Mesmo um initramfs pode ser feito parte do próprio kernel.</div>
<p>Primeiramente instale o software:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-boot/efibootmgr</code></div></div> 
<p>Depois, diga ao firmware UEFI que uma entrada de boot chamada "Gentoo" deve ser criada, que contém o kernel Linux recém instalado:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>efibootmgr --create --disk /dev/sda --part 2 --label "Gentoo" --loader "\efi\boot\bootx64.efi"</code></div></div>
<p>Se um initramfs deve ser usado, adicione a opção de boot apropriada para ele:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>efibootmgr -c -d /dev/sda -p 2 -L "Gentoo" -l "\efi\boot\bootx64.efi" initrd='\initramfs-genkernel-x86-3.16.5-gentoo'</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />O uso da <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">\</kbd> como separador de diretórios é obrigatório quando usamos as definições EFI.</div>
<p>Com essas alterações feitas, quando o sistema reiniciar, uma entrada de boot chamada "Gentoo" estará disponível.
</p><p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id="Reiniciando_o_sistema">Reiniciando o sistema</span></h2>
<p>Saia do ambiente chroot e desmonte todas as partições montadas. Então digite o comando mágico que dá início ao verdadeiro teste final: <span style="font-family: monospace; font-size: 95%; font-weight: bold;">reboot</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>exit</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">cdimage ~#</code><span class="tripleclick-separator"></span><code>cd
</code></div><div><code style="color: #ef2929; font-weight: bold;">cdimage ~#</code><span class="tripleclick-separator"></span><code>umount -l /mnt/gentoo/dev{/shm,/pts,}
</code></div><div><code style="color: #ef2929; font-weight: bold;">cdimage ~#</code><span class="tripleclick-separator"></span><code>umount /mnt/gentoo{/boot,/sys,/proc,}
</code></div><div><code style="color: #ef2929; font-weight: bold;">cdimage ~#</code><span class="tripleclick-separator"></span><code>reboot</code></div></div>
<p>Claro, não esqueça de remover o CD de boot ou o sistema irá reinicializar pelo CD em vez do novo sistema Gentoo.
</p><p>Uma vez reiniciado o sistema no ambiente recém-instalado finalize com <a href="../../Installation/Finalizing/pt-br.html" title="Handbook:X86/Installation/Finalizing/pt-br">Finalizando a instalação do Gentoo</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Tools/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Instalando as ferramentas</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Installation/Finalizing/pt-br.html" title="Next part" class="btn btn-default">Finalizando &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:X86/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Manual de Gentoo: X86/Todo/Instalación (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="ハンドブック:X86/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:X86/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">português do Brasil</span> • ‎<a href="ru.html" title="Handbook:X86/Full/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：X86/全部/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Installation
</th></tr>
<tr>
<td> <a href="../../Installation/About.html" title="Handbook:X86/Installation/About">About the installation</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media.html" title="Handbook:X86/Installation/Media">Choosing the media</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking.html" title="Handbook:X86/Installation/Networking">Configuring the network</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks.html" title="Handbook:X86/Installation/Disks">Preparing the disks</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage.html" title="Handbook:X86/Installation/Stage">Installing stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base.html" title="Handbook:X86/Installation/Base">Installing base system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel.html" title="Handbook:X86/Installation/Kernel">Configuring the kernel</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System.html" title="Handbook:X86/Installation/System">Configuring the system</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools.html" title="Handbook:X86/Installation/Tools">Installing tools</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader.html" title="Handbook:X86/Installation/Bootloader">Configuring the bootloader</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing.html" title="Handbook:X86/Installation/Finalizing">Finalizing</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Portage introduction</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE.html" title="Handbook:X86/Working/USE">USE flags</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features.html" title="Handbook:X86/Working/Features">Portage features</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts.html" title="Handbook:X86/Working/Initscripts">Initscript system</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar.html" title="Handbook:X86/Working/EnvVar">Environment variables</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Working with Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files.html" title="Handbook:X86/Portage/Files">Files and directories</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables.html" title="Handbook:X86/Portage/Variables">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches.html" title="Handbook:X86/Portage/Branches">Mixing software branches</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools.html" title="Handbook:X86/Portage/Tools">Additional tools</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree.html" title="Handbook:X86/Portage/CustomTree">Custom Portage tree</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced.html" title="Handbook:X86/Portage/Advanced">Advanced features</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Network configuration
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction.html" title="Handbook:X86/Networking/Introduction">Getting started</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced.html" title="Handbook:X86/Networking/Advanced">Advanced configuration</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular.html" title="Handbook:X86/Networking/Modular">Modular networking</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless.html" title="Handbook:X86/Networking/Wireless">Wireless</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending.html" title="Handbook:X86/Networking/Extending">Adding functionality</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic.html" title="Handbook:X86/Networking/Dynamic">Dynamic management</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Administra.C3.A7.C3.A3o_de_usu.C3.A1rios">Administração de usuários</span></h2>
<h3><span class="mw-headline" id="Adicionando_um_usu.C3.A1rio_para_uso_do_dia-a-dia">Adicionando um usuário para uso do dia-a-dia</span></h3>
<p>Trabalhar como usuário root em um sistema Unix/Linux é perigoso e deve ser evitado o máximo possível. Assim, é muito recomendado adicionar um usuário para uso no dia-a-dia.
</p><p>Os grupos que o usuário é membro definem quais atividades o usuário pode fazer. A tabela seguinte lista um número de grupos importantes:
</p>
<table class="table table-condensed table-striped" style="text-align: left; width: auto;">

<tr>
<th scope="col" width="25%"> Grupo
</th>
<th scope="col" width="75%"> Descrição
</th></tr>
<tr>
<td> audio
</td>
<td> Ser capaz de acessar dispositivos de audio.
</td></tr>
<tr>
<td> cdrom
</td>
<td> Ser capaz de acessar diretamente dispositivos óticos.
</td></tr>
<tr>
<td> floppy
</td>
<td> Ser capaz de acessar drives de disquetes.
</td></tr>
<tr>
<td> games
</td>
<td> Ser capaz de jogar jogos.
</td></tr>
<tr>
<td> portage
</td>
<td> Ser capaz de acessar os recursos restritos do Portage.
</td></tr>
<tr>
<td> usb
</td>
<td> Ser capaz de acessar dispositivos USB.
</td></tr>
<tr>
<td> video
</td>
<td> Ser capaz de acessar dispositivos de captura de video ou usar aceleração de hardware.
</td></tr>
<tr>
<td> wheel
</td>
<td> Ser capaz de usar <span style="font-family: monospace; font-size: 95%; font-weight: bold;">su</span>.
</td></tr></table>
<p>Por exemplo, para criar um usuário chamado <a href="../../../User_Larry.html" title="User:Larry">larry</a> que é membro dos grupos <i>wheel</i>, <i>users</i>, e <i>audio</i>, faça login como root (apenas o root pode criar usuários) e execute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">useradd</span>:
</p>
<div class="cmd-box"><div><code style="color: white; font-weight: bold;">Login:</code><span class="tripleclick-separator"></span><code>root</code></div><pre>
Password: (Enter the root password)
</pre></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>useradd -m -G users,wheel,audio -s /bin/bash larry
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>passwd larry</code></div><pre>
Password: (Enter the password for larry)
Re-enter password: (Re-enter the password to verify)
</pre></div>
<p>Se um usuário precisar realizar alguma tarefa como root, ele pode usar <span style="font-family: monospace; font-size: 95%; font-weight: bold;">su -</span> para ter temporariamente privilégios de root. Outra forma é usar o pacote <a href="../../../Sudo.html" title="Sudo">sudo</a> que é, se configurado corretamente, muito seguro.
</p>
<h2><span class="mw-headline" id="Limpeza_do_disco">Limpeza do disco</span></h2>
<h3><span class="mw-headline" id="Removendo_os_arquivos_tar">Removendo os arquivos tar</span></h3>
<p>Com a instalação do sistema Gentoo terminada e o sistema reiniciado, se tudo deu certo, podemos agora remover do disco os arquivos tar stage3 baixados. Lembre-se que eles foram baixados no diretório <span style="font-family: monospace; font-size: 95%">/</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rm /stage3-*.tar.bz2*</code></div></div>
<h2><span class="mw-headline" id="Aonde_ir_a_partir_daqui">Aonde ir a partir daqui</span></h2>
<h3><span class="mw-headline" id="Documenta.C3.A7.C3.A3o">Documentação</span></h3>
<p>Aonde ir a partir daqui? Quais são as opções agora? O que explorar primeiro? O Gentoo provê a seus usuários muitas possibilidades e também muitos recursos documentados (e outros nem tanto).
</p><p>Definitivamente dê uma olhada na próxima parte do Manual do Gentoo entitulada <a href="../../Working/Portage.html" title="Handbook:X86/Working/Portage">Trabalhando com o Gentoo</a> que explica como manter seu software atualizado, como instalar software adicional, o que são as USE flags, como o sistema init do Gentoo funciona, etc.
</p><p>Além do manual, você também é encorajado a explorar outros cantos do Gentoo Wiki para encontrar documentação adicional provida pela comunidade. A equipe de documentação do Gentoo oferece também uma <a href="../../../Project_Documentation/Overview.html" title="Project:Documentation/Overview">Visão geral da documentação</a> que lista uma seleção de atigos do Wiki. Por exemplo, ela faz referência ao <a href="../../../Localization/HOWTO.html" title="Localization/HOWTO" class="mw-redirect">Guia de localização</a> para fazer um sistema sentir-se mais em casa.
</p>
<h3><span class="mw-headline" id="Gentoo_online">Gentoo online</span></h3>
<p>Todos são, é claro, sempre benvindos em nossos <a rel="nofollow" class="external text" href="https://forums.gentoo.org/">Fóruns do Gentoo</a> ou em um dos nossos muitos <a rel="nofollow" class="external text" href="https://www.gentoo.org/get-involved/irc-channels/">Canais IRC do Gentoo</a>.
</p><p>Temos também <a rel="nofollow" class="external text" href="https://www.gentoo.org/get-involved/mailing-lists/">várias listas de discussão</a> abertas a todos nossos usuários. Informação sobre como se inscrever está contida nessa página.
</p><p>Aproveite sua instalação!
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Bootloader/pt-br.html" title="Previous part" class="btn btn-default">&#8592; Configuring the bootloader</a> <a href="../../../Handbook_X86.html" title="Handbook:X86" class="btn btn-default">Home</a> <a href="../../Working/Portage.html" title="Next part" class="btn btn-default"> &#8594;</a></div>
<p><br />
</p><p><br />
<span class="error"><strong>Warning:</strong> Display title "Gentoo Linux x86 Handbook: Installing Gentoo" overrides earlier display title "Manual:X86/Completo/Instalação".</span>
</p>
<!-- 
NewPP limit report
Cached time: 20160112144140
Cache expiry: 86400
Dynamic content: false
CPU time usage: 5.144 seconds
Real time usage: 5.445 seconds
Preprocessor visited node count: 24254/1000000
Preprocessor generated node count: 15723/1000000
Post‐expand include size: 1310530/2097152 bytes
Template argument size: 86227/2097152 bytes
Highest expansion depth: 17/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00% 3785.683      1 - Handbook:Parts/Full/Installation/pt-br
100.00% 3785.683      1 - -total
 33.38% 1263.712    137 - Template:RootCmd
 30.71% 1162.447    162 - Template:GenericCmd
 18.61%  704.482     11 - Handbook:Parts/TOC
 14.83%  561.475      1 - Handbook:X86/Installation/Disks/pt-br
 14.75%  558.271      1 - Handbook:Parts/Installation/Disks/pt-br
 11.93%  451.689      1 - Handbook:X86/Installation/Base/pt-br
 11.84%  448.353      1 - Handbook:Parts/Installation/Base/pt-br
 11.44%  432.955      1 - Handbook:X86/Installation/Media/pt-br
-->

<!-- Saved in parser cache with key gentoo-wiki:pcache:idhash:111918-0!*!0!!en!*!* and timestamp 20160112144135 and revision id 283398
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://wiki.gentoo.org/index.php?title=Handbook:X86/Full/Installation/pt-br&amp;oldid=283398">http://wiki.gentoo.org/index.php?title=Handbook:X86/Full/Installation/pt-br&amp;oldid=283398</a>"</div>
															<div id='catlinks' class='catlinks catlinks-allhidden'></div>														<!-- end content -->

													</div>
					</div>
				</div>
			</div>
		</div>

			<footer>
		<div class="container">
			<div class="row">
				<div class="col-xs-12 col-md-offset-2 col-md-7">
											<div class="spacer"></div>
						<ul id="f-list">
																							<li id="lastmod"> This page was last modified on 12 March 2015, at 18:24.</li>
																															<li id="privacy"><a href="../../../Gentoo_Wiki_Privacy_policy.html" title="Gentoo Wiki:Privacy policy">Privacy policy</a></li>
																							<li id="about"><a href="../../../Gentoo_Wiki_About.html" title="Gentoo Wiki:About">About Gentoo Wiki</a></li>
																							<li id="disclaimer"><a href="../../../Gentoo_Wiki_General_disclaimer.html" title="Gentoo Wiki:General disclaimer">Disclaimers</a></li>
													</ul>
									</div>
				<div class="col-xs-12 col-md-3">
					<!-- No questions or comments, the Wiki has enough information on how to contact us. -->
				</div>
			</div>
			<div class="row">
				<div class="col-xs-3 col-md-2">
					<ul class="footerlinks three-icons">
						<li><a href="https://twitter.com/gentoo" title="@Gentoo on Twitter"><span class="fa fa-twitter fa-fw"></span></a></li>
						<li><a href="https://plus.google.com/+Gentoo" title="+Gentoo on Google+"><span class="fa fa-google-plus fa-fw"></span></a></li>
						<li><a href="https://www.facebook.com/gentoo.org" title="Gentoo on Facebook"><span class="fa fa-facebook fa-fw"></span></a></li>
					</ul>
				</div>
				<div class="col-xs-9 col-md-9">
					<strong>&copy; 2001&ndash;2016 Gentoo Foundation, Inc.</strong><br />
					<small>
						Gentoo is a trademark of the Gentoo Foundation, Inc.
						The contents of this document, unless otherwise expressly stated, are licensed under the
						<a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">CC-BY-SA-3.0</a> license.
						The <a href="https://www.gentoo.org/inside-gentoo/foundation/name-logo-guidelines.html">Gentoo Name and Logo Usage Guidelines</a> apply.
					</small>
				</div>
			</div>
		</div>
	</footer>
	
		<script>
			window.RLQ = window.RLQ || []; window.RLQ.push( function () {
				$.getScript("https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.js");
			} );
		</script>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.skinning.content.externallinks&amp;only=styles&amp;skin=tyrian" />
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.load(["ext.smw.tooltips","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.uls.pt"]);
} );</script><script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['setDocumentTitle', "Handbook:X86/Full/Installation/pt-br"]);
  _paq.push(['setIgnoreClasses', 'image']);
  _paq.push(['trackPageView']);
  _paq.push(['disableCookies']);
  _paq.push(['enableLinkTracking']);
  
  (function() {
    var u="http://piwik.gentoo.org//";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="http://piwik.gentoo.org//piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":5686});
} );</script></body>
<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:X86/Full/Installation/pt-br by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:42 GMT -->
</html>