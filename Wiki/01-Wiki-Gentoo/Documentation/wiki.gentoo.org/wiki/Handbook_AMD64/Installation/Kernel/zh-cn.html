<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Kernel/zh-cn by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:43:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Configuring the Linux kernel - Gentoo Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"Handbook","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":560,"wgPageName":"Handbook:AMD64/Installation/Kernel/zh-cn","wgTitle":"AMD64/Installation/Kernel/zh-cn","wgCurRevisionId":380250,"wgRevisionId":380250,"wgArticleId":125062,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"zh-cn","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"zh","wgMonthNames":["","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"wgMonthNamesShort":["","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"wgRelevantPageName":"Handbook:AMD64/Installation/Kernel/zh-cn","wgRelevantArticleId":125062,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],
"sfgAutocompleteOnAllChars":!1,"sfgFieldProperties":[],"sfgCargoFields":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/extensions/SemanticForms","edgValues":null,"sfgEDSettings":null,"wgWikiEditorEnabledModules":{"toolbar":!0,"dialogs":!0,"preview":!0,"publish":!1},"wgULSAcceptLanguageList":["en","*"],"wgULSCurrentAutonym":"English","wgTranslatePageTranslation":"translation"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["ext.translate","ext.smw.style","mediawiki.page.startup","mediawiki.legacy.wikibits","ext.uls.init"]);
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cext.uls.nojs%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.tyrian.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.smw.style%7Cext.smw.tooltip.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.css" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/tyrian.min.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=tyrian" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=tyrian"></script>
<meta name="generator" content="MediaWiki 1.26.2-gentoo" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<link rel="ExportRDF" type="application/rdf+xml" title="Handbook:AMD64/Installation/Kernel/zh-cn" href="https://wiki.gentoo.org/index.php?title=Special:ExportRDF/Handbook:AMD64/Installation/Kernel/zh-cn&amp;xmlmime=rdf" />
<link rel="shortcut icon" href="https://wiki.gentoo.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.gentoo.org/opensearch_desc.php" title="Gentoo Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.gentoo.org/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Gentoo Wiki Atom feed" href="https://wiki.gentoo.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-560 ns-subject page-Handbook_AMD64_Installation_Kernel_zh-cn skin-tyrian action-view">
	<div class="mw-jump sr-only">
		Jump to:		<a href="#top">content</a>
	</div>
	<header>
		<div class="site-title">
			<div class="container">
				<div class="row">
					<div class="site-title-buttons">
						<div class="btn-group btn-group-sm">
							<a href="https://get.gentoo.org/" role="button" class="btn get-gentoo"><span class="fa fa-fw fa-download"></span> <strong>Get Gentoo!</strong></a>
							<div class="btn-group btn-group-sm">
								<a class="btn gentoo-org-sites dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">
									<span class="fa fa-fw fa-map-o"></span> <span class="hidden-xs">gentoo.org sites</span> <span class="caret"></span>
								</a>
								<ul class="dropdown-menu dropdown-menu-right">
									<li><a href="https://www.gentoo.org/" title="Main Gentoo website"><span class="fa fa-home fa-fw"></span> gentoo.org</a></li>
									<li><a href="https://wiki.gentoo.org/" title="Find and contribute documentation"><span class="fa fa-file-text-o fa-fw"></span> Wiki</a></li>
									<li><a href="https://bugs.gentoo.org/" title="Report issues and find common issues"><span class="fa fa-bug fa-fw"></span> Bugs</a></li>
									<li><a href="https://forums.gentoo.org/" title="Discuss with the community"><span class="fa fa-comments-o fa-fw"></span> Forums</a></li>
									<li><a href="https://packages.gentoo.org/" title="Find software for your Gentoo"><span class="fa fa-hdd-o fa-fw"></span> Packages</a></li>
									<li class="divider"></li>
									<li><a href="https://planet.gentoo.org/" title="Find out what's going on in the developer community"><span class="fa fa-rss fa-fw"></span> Planet</a></li>
									<li><a href="https://archives.gentoo.org/" title="Read up on past discussions"><span class="fa fa-archive fa-fw"></span> Archives</a></li>
									<li><a href="https://sources.gentoo.org/" title="Browse our source code"><span class="fa fa-code fa-fw"></span> Sources</a></li>
									<li class="divider"></li>
									<li><a href="https://infra-status.gentoo.org/" title="Get updates on the services provided by Gentoo"><span class="fa fa-server fa-fw"></span> Infra Status</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="logo">
						<a href="https://wiki.gentoo.org/" title="Back to the homepage" class="site-logo"><object data="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.svg" type="image/svg+xml">
							<img src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.png" alt="Gentoo Linux Logo">
						</object></a>
						<span class="site-label">Wiki</span>
					</div>
				</div>
			</div>
		</div>
		<nav class="tyrian-navbar" role="navigation">
			<div class="container">
				<div class="row">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse navbar-main-collapse">
						<ul class="nav navbar-nav">
							<li id="n-mainpage-description"><a href="../../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../../../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-help"><a href="../../../Special_MyLanguage/Help_Contents.html" title="The place to find out">Help</a></li>			<li class="dropdown">
				<a href="../../../Gentoo_Wiki_Menu-Gentoo.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Gentoo <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Projects"><a href="../../../Project_Gentoo.html">Gentoo Projects</a></li>				</ul>
			</li>
					<li class="dropdown">
				<a href="../../../Gentoo_Wiki_Menu-Documentation.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Handbook"><a href="../../../Handbook_Main_Page.html">Gentoo Handbook</a></li><li id="n-Gentoo-FAQ"><a href="../../../FAQ.html">Gentoo FAQ</a></li><li id="n-Featured-Documents"><a href="../../../Project_Documentation/Overview.html">Featured Documents</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Topics</li><li id="n-Core-system"><a href="../../../Category_Core_system.html">Core system</a></li><li id="n-Hardware"><a href="../../../Category_Hardware.html">Hardware</a></li><li id="n-Software"><a href="../../../Category_Software.html">Software</a></li><li id="n-Desktop"><a href="../../../Category_Desktop.html">Desktop</a></li><li id="n-Server-.26-Security"><a href="../../../Category_Server_and_Security.html">Server &amp; Security</a></li><li id="n-Project-.26-Community"><a href="../../../Category_Project_and_Community.html">Project &amp; Community</a></li>				</ul>
			</li>
								</ul>
						<ul class="nav navbar-nav navbar-right hidden-xs">
									<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cog"></i> Tools <span class="caret"></span></a>
			<ul class="dropdown-menu" role="menu">
				<li id="t-whatlinkshere"><a href="../../../Special_WhatLinksHere/Handbook_AMD64/Installation/Kernel/zh-cn.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../../../Special_RecentChangesLinked/Handbook_AMD64/Installation/Kernel/zh-cn.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../../../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Installation/Kernel/zh-cn&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Installation/Kernel/zh-cn&amp;oldid=380250" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Installation/Kernel/zh-cn&amp;action=info" title="More information about this page">Page information</a></li><li id="t-smwbrowselink"><a href="../../../Special_Browse/Handbook_AMD64-2FInstallation-2FKernel-2Fzh-2Dcn.html" rel="smw-browse">Browse properties</a></li>			</ul>
		</li>
			<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
				<span class="glyphicon glyphicon-user" aria-label="Personal tools"></span>
				User				<span class="caret"></span>
			</a>
			<ul class="dropdown-menu" role="menu">
				<li id="pt-createaccount"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AAMD64%2FInstallation%2FKernel%2Fzh-cn&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AAMD64%2FInstallation%2FKernel%2Fzh-cn" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>			</ul>
		</li>
								</ul>
					</div>
				</div>
			</div>
		</nav>
		
		<nav class="navbar navbar-grey navbar-stick" id="wiki-actions" role="navigation">
			<div class="container"><div class="row">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#gw-toolbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<div class="collapse navbar-collapse" id="gw-toolbar">
					<ul class="nav navbar-nav">
					<li id="ca-nstab-handbook" class="selected active"><a href="zh-cn.html">Handbook</a></li><li id="ca-talk" class="new"><a href="https://wiki.gentoo.org/index.php?title=Handbook_Talk:AMD64/Installation/Kernel/zh-cn&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>					</ul>
							<form action="https://wiki.gentoo.org/index.php" id="searchform" class="navbar-form navbar-right" role="search">
			<input type='hidden' name="title" value="Special:Search"/>

				<div class="input-group">
					<input type="search" name="search" placeholder="Search" title="Search Gentoo Wiki [f]" accesskey="f" id="searchInput" class="form-control" />					<div class="input-group-btn"><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton btn btn-default" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton btn btn-default" /></div>
				</div>
		</form>
						<ul class="nav navbar-nav navbar-right hidden-xs">
					<li id="ca-viewsource"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Installation/Kernel/zh-cn&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">more <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
					<li id="ca-history"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Installation/Kernel/zh-cn&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>							</ul>
						</li>
					</ul>
				</div>
			</div></div>
		</nav>
		</header>
	
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div id="content" class="mw-body" role="main">
						<a id="top"></a>
						
						<h1 id="firstHeading" class="first-header" lang="zh-CN">
							<span dir="auto">Configuring the Linux kernel</span>
						</h1>

						<div id="bodyContent" class="mw-body-content">
							<div id="siteSub">From Gentoo Wiki</div>
							<div id="contentSub">
								<span class="subpages"><a href="../../../Special_MyLanguage/Handbook_AMD64.html" title="Special:MyLanguage/Handbook:AMD64">Handbook:AMD64</a> | <a href="../../../Special_MyLanguage/Handbook_AMD64/Installation.html" title="Special:MyLanguage/Handbook:AMD64/Installation">Installation</a></span>							</div>
																					<div id="jump-to-nav" class="mw-jump">
								Jump to:								<a href="#column-one">navigation</a>, 								<a href="#searchInput">search</a>
							</div>

							<!-- start content -->
							<div id="mw-content-text" lang="zh-CN" dir="ltr" class="mw-content-ltr"><div class="mw-translate-page-info" lang="en" dir="ltr">This page is a <span class="plainlinks"><a rel="nofollow" class="external text" href="http://wiki.gentoo.org/index.php?title=Special:Translate&amp;group=page-Handbook%3AAMD64%2FInstallation%2FKernel&amp;action=page&amp;filter=&amp;language=zh-cn">translated version</a></span> of the page <a href="../Kernel.html" title="Handbook:AMD64/Installation/Kernel">Handbook:AMD64/Installation/Kernel</a> and the translation is 100% complete.</div>
<hr /><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbook:AMD64/Installation/Kernel/de (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Kernel.html" title="Handbook:AMD64/Installation/Kernel (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Installation/Kernel/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="ja.html" title="Handbook:AMD64/Installation/Kernel/ja (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Installation/Kernel/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Handbook:AMD64/Installation/Kernel/pt-br (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<a href="ru.html" title="Handbook:AMD64/Installation/Kernel/ru (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</span></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> 安装
</th></tr>
<tr>
<td> <a href="../About/zh-cn.html" title="Handbook:AMD64/Installation/About/zh-cn">关于安装</a>
</td></tr>
<tr>
<td> <a href="../Media/zh-cn.html" title="Handbook:AMD64/Installation/Media/zh-cn">选择安装媒介</a>
</td></tr>
<tr>
<td> <a href="../Networking/zh-cn.html" title="Handbook:AMD64/Installation/Networking/zh-cn">配置网络</a>
</td></tr>
<tr>
<td> <a href="../Disks/zh-cn.html" title="Handbook:AMD64/Installation/Disks/zh-cn">准备磁盘</a>
</td></tr>
<tr>
<td> <a href="../Stage/zh-cn.html" title="Handbook:AMD64/Installation/Stage/zh-cn">安装stage3</a>
</td></tr>
<tr>
<td> <a href="../Base/zh-cn.html" title="Handbook:AMD64/Installation/Base/zh-cn">安装基本系统</a>
</td></tr>
<tr>
<td> <strong class="selflink">配置Linux内核</strong>
</td></tr>
<tr>
<td> <a href="../System/zh-cn.html" title="Handbook:AMD64/Installation/System/zh-cn">配置系统</a>
</td></tr>
<tr>
<td> <a href="../Tools/zh-cn.html" title="Handbook:AMD64/Installation/Tools/zh-cn">安装系统工具</a>
</td></tr>
<tr>
<td> <a href="../Bootloader/zh-cn.html" title="Handbook:AMD64/Installation/Bootloader/zh-cn">配置系统引导程序Bootloader</a>
</td></tr>
<tr>
<td> <a href="../Finalizing/zh-cn.html" title="Handbook:AMD64/Installation/Finalizing/zh-cn">收尾安装工作</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> 使用Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/zh-cn.html" title="Handbook:AMD64/Working/Portage/zh-cn">Portage介绍</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/zh-cn.html" title="Handbook:AMD64/Working/USE/zh-cn">USE标记</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/zh-cn.html" title="Handbook:AMD64/Working/Features/zh-cn">Portage功能特性</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/zh-cn.html" title="Handbook:AMD64/Working/Initscripts/zh-cn">初始化脚本（Initscript）系统</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/zh-cn.html" title="Handbook:AMD64/Working/EnvVar/zh-cn">环境变量</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> 使用Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/zh-cn.html" title="Handbook:AMD64/Portage/Files/zh-cn">文件和目录</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/zh-cn.html" title="Handbook:AMD64/Portage/Variables/zh-cn">变量</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/zh-cn.html" title="Handbook:AMD64/Portage/Branches/zh-cn">混合使用不同的软件分支</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/zh-cn.html" title="Handbook:AMD64/Portage/Tools/zh-cn">额外的工具</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/zh-cn.html" title="Handbook:AMD64/Portage/CustomTree/zh-cn">定制Portage树</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/zh-cn.html" title="Handbook:AMD64/Portage/Advanced/zh-cn">高级特性</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> 网络配置
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/zh-cn.html" title="Handbook:AMD64/Networking/Introduction/zh-cn">入门</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/zh-cn.html" title="Handbook:AMD64/Networking/Advanced/zh-cn">高级配置</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/zh-cn.html" title="Handbook:AMD64/Networking/Modular/zh-cn">模块化网络</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/zh-cn.html" title="Handbook:AMD64/Networking/Wireless/zh-cn">无线</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/zh-cn.html" title="Handbook:AMD64/Networking/Extending/zh-cn">添加功能</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/zh-cn.html" title="Handbook:AMD64/Networking/Dynamic/zh-cn">动态管理</a>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#.E5.AE.89.E8.A3.85.E6.BA.90.E7.A0.81"><span class="tocnumber">1</span> <span class="toctext">安装源码</span></a></li>
<li class="toclevel-1"><a href="#.E9.BB.98.E8.AE.A4.EF.BC.9A.E6.89.8B.E5.8A.A8.E9.85.8D.E7.BD.AE"><span class="tocnumber">2</span> <span class="toctext">默认：手动配置</span></a>
<ul>
<li class="toclevel-2"><a href="#.E4.BB.8B.E7.BB.8D"><span class="tocnumber">2.1</span> <span class="toctext">介绍</span></a></li>
<li class="toclevel-2"><a href="#Activating_required_options"><span class="tocnumber">2.2</span> <span class="toctext">Activating required options</span></a></li>
<li class="toclevel-2"><a href="#Architecture_specific_kernel_configuration"><span class="tocnumber">2.3</span> <span class="toctext">Architecture specific kernel configuration</span></a></li>
<li class="toclevel-2"><a href="#Compiling_and_installing"><span class="tocnumber">2.4</span> <span class="toctext">Compiling and installing</span></a></li>
<li class="toclevel-2"><a href="#.E5.8F.AF.E9.80.89:.E5.BB.BA.E9.80.A0initramfs"><span class="tocnumber">2.5</span> <span class="toctext">可选:建造initramfs</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.E5.A4.87.E9.80.89.EF.BC.9A.E4.BD.BF.E7.94.A8genkernel"><span class="tocnumber">3</span> <span class="toctext">备选：使用genkernel</span></a></li>
<li class="toclevel-1"><a href="#.E5.86.85.E6.A0.B8.E6.A8.A1.E5.9D.97"><span class="tocnumber">4</span> <span class="toctext">内核模块</span></a>
<ul>
<li class="toclevel-2"><a href="#.E9.85.8D.E7.BD.AE.E6.A8.A1.E5.9D.97"><span class="tocnumber">4.1</span> <span class="toctext">配置模块</span></a></li>
<li class="toclevel-2"><a href="#.E5.8F.AF.E9.80.89.EF.BC.9A.E5.AE.89.E8.A3.85.E5.9B.BA.E4.BB.B6"><span class="tocnumber">4.2</span> <span class="toctext">可选：安装固件</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id=".E5.AE.89.E8.A3.85.E6.BA.90.E7.A0.81">安装源码</span></h2>
<p>Linux内核是所有发行版的核心。它位于用户程序和系统硬件之间。Gentoo提供给我们几个可选的内核源码。完整的清单参见Gentoo内核指南<a href="../../../Kernel/Overview.html" title="Kernel/Overview">Kernel overview page</a>。
</p><p>For amd64-based systems Gentoo recommends the <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/gentoo-sources"> sys-kernel/gentoo-sources</a> package.
</p><p>选择并使用<span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge</span>来安装你的内核源代码。
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/gentoo-sources</code></div></div> 
<p>This will install the Linux kernel sources in <span style="font-family: monospace; font-size: 95%">/usr/src/</span> in which a symbolic link called <span style="font-family: monospace; font-size: 95%">linux</span> will be pointing to the installed kernel source:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls -l /usr/src/linux</code></div><pre>
lrwxrwxrwx    1 root   root    12 Oct 13 11:04 /usr/src/linux -&gt; linux-3.16.5-gentoo
</pre></div>
<p>现在是时候来配置和编译内核源代码了。有两种方法:
</p>
<ol><li> The kernel is manually configured and built.</li>
<li> A tool called <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> is used to automatically build and install the Linux kernel.</li></ol>
<p>We explain the manual configuration as the default choice here as it is the best way to optimize an environment.
</p>
<h2><span class="mw-headline" id=".E9.BB.98.E8.AE.A4.EF.BC.9A.E6.89.8B.E5.8A.A8.E9.85.8D.E7.BD.AE">默认：手动配置</span></h2>
<h3><span class="mw-headline" id=".E4.BB.8B.E7.BB.8D">介绍</span></h3>
<p>Manually configuring a kernel is often seen as the most difficult procedure a Linux user ever has to perform. Nothing is less true - after configuring a couple of kernels no-one even remembers that it was difficult&#160;;)
</p><p>However, one thing is true: it is vital to know the system when a kernel is configured manually. Most information can be gathered by emerging <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-apps/pciutils">sys-apps/pciutils</a> which contains the <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lspci</span> command:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-apps/pciutils</code></div></div> 
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Note</strong><br />Inside the chroot, it is safe to ignore any pcilib warnings (like <i>pcilib: cannot open /sys/bus/pci/devices</i>) that <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lspci</span> might throw out.</div>
<p>Another source of system information is to run <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lsmod</span> to see what kernel modules the installation CD uses as it might provide a nice hint on what to enable.
</p><p>Now go to the kernel source directory and execute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">make menuconfig</span>. This will fire up menu-driven configuration screen.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cd /usr/src/linux
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make menuconfig</code></div></div>
<p>The Linux kernel configuration has many, many sections. Let's first list some options that must be activated (otherwise Gentoo will not function, or not function properly without additional tweaks). We also have a <a href="../../../Kernel/Gentoo_Kernel_Configuration_Guide.html" title="Kernel/Gentoo Kernel Configuration Guide">Gentoo kernel configuration guide</a> on the Gentoo wiki that might help out further.
</p>
<h3><span class="mw-headline" id="Activating_required_options">Activating required options</span></h3>
<p>Make sure that every driver that is vital to the booting of the system (such as SCSI controller, ...) is compiled in the kernel and not as a module, otherwise the system will not be able to boot completely.
</p><p>Next select the exact processor type. It is also recommended to enable MCE features (if available) so that users are able to be notified of any hardware problems. On some architectures (such as x86_64), these errors are not printed to dmesg, but to <span style="font-family: monospace; font-size: 95%">/dev/mcelog</span>. This requires the <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/mcelog">app-admin/mcelog</a> package. 
</p><p>Also select <i>Maintain a devtmpfs file system to mount at /dev</i> so that critical device files are already available early in the boot process.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Enabling devtmpfs support</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  Generic Driver Options ---&gt;
    [*] Maintain a devtmpfs filesystem to mount at /dev
    [ ]   Automount devtmpfs at /dev, after the kernel mounted the rootfs
</pre>
</pre></div></pre>
<p>Now go to File Systems and select support for the filesystems you use. Don't compile the file system that is used for the root filesystem as module, otherwise the Gentoo system will not be able to mount the partition. Also select <i>Virtual memory</i> and <i>/proc file system</i>.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Selecting necessary file systems</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
File systems ---&gt;
(Select one or more of the following options as needed by your system)
  &lt;*&gt; Second extended fs support
  &lt;*&gt; Ext3 journalling file system support
  &lt;*&gt; The Extended 4 (ext4) filesystem
  &lt;*&gt; Reiserfs support
  &lt;*&gt; JFS filesystem support
  &lt;*&gt; XFS filesystem support
  ...
  Pseudo Filesystems ---&gt;
    [*] /proc file system support
    [*] Virtual memory file system support (former shm fs)
</pre>
</pre></div></pre>
<p>If PPPoE is used to connect to the Internet, or a dial-up modem is used, then enable the following options:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Selecting PPPoE necessary drivers</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  Network device support ---&gt;
    &lt;*&gt; PPP (point-to-point protocol) support
    &lt;*&gt;   PPP support for async serial ports
    &lt;*&gt;   PPP support for sync tty ports
</pre>
</pre></div></pre>
<p>The two compression options won't harm but are not definitely needed, neither does the PPP over Ethernet option, that might only be used by ppp when configured to do kernel mode PPPoE.
</p><p>Don't forget to include support in the kernel for the network (Ethernet or wireless) cards.
</p><p>Most systems also have multiple cores at their disposal, so it is important to activate <i>Symmetric multi-processing support</i>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Activating SMP support</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
  [*] Symmetric multi-processing support
</pre>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Note</strong><br />In multi-core systems, each core counts as one processor.</div>
<p>If USB input devices (like keyboard or mouse) are used don't forget to enable those as well:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Activating USB Support for input devices</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  [*] HID Devices  ---&gt;
    &lt;*&gt;   USB Human Interface Device (full HID) support
</pre>
</pre></div></pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Architecture_specific_kernel_configuration">Architecture specific kernel configuration</span></h3>
<p>Make sure to select IA32 Emulation if 32-bit programs should be supported (multilib). Gentoo will install a multilib system (mixed 32-bit/64-bit computing) by default, so unless a <span style="font-family: monospace; font-size: 95%">no-multilib</span> profile is used, this option is required.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Selecting processor types and features</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
   [ ] Machine Check / overheating reporting 
   [ ]   Intel MCE Features
   [ ]   AMD MCE Features
  Processor family (AMD-Opteron/Athlon64)  ---&gt;
    ( ) Opteron/Athlon64/Hammer/K8
    ( ) Intel P4 / older Netburst based Xeon
    ( ) Core 2/newer Xeon
    ( ) Intel Atom
    ( ) Generic-x86-64
Executable file formats / Emulations  ---&gt;
   [*] IA32 Emulation
</pre>
</pre></div></pre>
<p>Enable GPT partition label support if that was used previously when partitioning the disk:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Enable support for GPT</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
-*- Enable the block layer ---&gt;
    ...
    Partition Types ---&gt;
    [*] Advanced partition selection
      ...
      [*] EFI GUID Partition support
</pre>
</pre></div></pre>
<p>Enable EFI stub support and EFI variables in the Linux kernel if UEFI is used to boot the system:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">KERNEL</span> <strong>Enable support for UEFI</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
    [*] EFI runtime service support 
    [*]   EFI stub support
  
Firmware Drivers  ---&gt;
    &lt;*&gt; EFI Variable Support via sysfs
</pre>
</pre></div></pre>
<h3><span class="mw-headline" id="Compiling_and_installing">Compiling and installing</span></h3>
<p>With the configuration now done, it is time to compile and install the kernel. Exit the configuration and start the compilation process:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make &amp;&amp; make modules_install</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Note</strong><br />It is possible to enable parallel builds using <span style="font-family: monospace; font-size: 95%; font-weight: bold;">make -jX</span> with <code>X</code> being an integer number of parallel tasks that the build process is allowed to launch. This is similar to the instructions about <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> earlier, with the <var>MAKEOPTS</var> variable.</div>
<p>When the kernel has finished compiling, copy the kernel image to <span style="font-family: monospace; font-size: 95%">/boot/</span>. This is handled by the <span style="font-family: monospace; font-size: 95%; font-weight: bold;">make install</span> command:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make install</code></div></div>
<p>This will copy the kernel image into <span style="font-family: monospace; font-size: 95%">/boot/</span> together with the <span style="font-family: monospace; font-size: 95%">System.map</span> file and the kernel configuration file.
</p><p>With UEFI systems, create the <span style="font-family: monospace; font-size: 95%">/boot/efi/boot/</span> location, and then copy the kernel into this location, calling it <span style="font-family: monospace; font-size: 95%">bootx64.efi</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkdir -p /boot/efi/boot
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cp /boot/vmlinuz-* /boot/efi/boot/bootx64.efi
</code></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id=".E5.8F.AF.E9.80.89:.E5.BB.BA.E9.80.A0initramfs">可选:建造initramfs</span></h3>
<p>In certain cases it is necessary to build an initramfs - an initial ram-based file system. The most common reason is when important file system locations (like <span style="font-family: monospace; font-size: 95%">/usr/</span> or <span style="font-family: monospace; font-size: 95%">/var/</span>) are on separate partitions. With an initramfs, these partitions can be mounted using the tools available inside the initramfs.
</p><p>如果没有initramfs的，存在着巨大的风险，系统将无法正常开机，因为这是负责安装的文件系统工具需要驻留在这些文件系统的信息。 initramfs中的一个将在必要的文件拉进它的内核启动之后使用的档案，但控制被移交前转移到初始化工具。在initramfs的脚本，然后将确保分区正确地安装在系统继续启动之前。
</p><p>To install an initramfs, install <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/genkernel">sys-kernel/genkernel</a> first, then have it generate an initramfs:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge genkernel</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel --install initramfs</code></div></div>
<p>In order to enable specific support in the initramfs, such as lvm or raid, add in the appropriate options to <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span>. See <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel --help</span> for more information. In the next example we enables support for LVM and software raid (mdadm):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel --lvm --mdadm --install initramfs</code></div></div>
<p>The initramfs will be stored in <span style="font-family: monospace; font-size: 95%">/boot/</span>. The resulting file can be found by simply listing the files starting with <i>initramfs</i>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /boot/initramfs*</code></div></div>
<p>Now continue with <a href="#Kernel_modules">Kernel modules</a>.
</p>
<h2><span class="mw-headline" id=".E5.A4.87.E9.80.89.EF.BC.9A.E4.BD.BF.E7.94.A8genkernel">备选：使用genkernel</span></h2>
<p>If a manual configuration looks too daunting, then using <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> is recommended. It will configure and build the kernel automatically.
</p><p><span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> works by configuring a kernel nearly identically to the way the installation CD kernel is configured. This means that when <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> is used to build the kernel, the system will generally detect all  hardware at boot-time, just like the installation CD does. Because <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> doesn't require any manual kernel configuration, it is an ideal solution for those users who may not be comfortable compiling their own kernels.
</p><p>Now, let's see how to use genkernel. First, emerge the <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/genkernel">sys-kernel/genkernel</a> ebuild:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/genkernel</code></div></div> 
<p>Next, edit the <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> file so that the line containing <span style="font-family: monospace; font-size: 95%">/boot/</span> as second field has the first field pointing to the right device. If the partitioning example from the handbook is followed, then this device is most likely /dev/sda2 with the ext2 file system. This would make the entry in the file look like so:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/fstab</code></div></div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">FILE</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/fstab</code></strong><strong>Configuring the /boot mountpoint</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
/dev/sda2	/boot	ext2	defaults	0 2
</pre>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Note</strong><br />Further in the Gentoo installation, <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> will be configured again. The <span style="font-family: monospace; font-size: 95%">/boot</span> setting is needed right now as the <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> application reads in this configuration.</div>
<p>Now, compile the kernel sources by running <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel all</span>. Be aware though, as <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> compiles a kernel that supports almost all hardware, this compilation will take quite a while to finish!
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Note</strong><br />If the boot partition doesn't use ext2 or ext3 as filesystem it <i>might</i> be necessary to manually configure the kernel using <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel --menuconfig all</span> and add support for this particular filesystem in the kernel (i.e. not as a module). Users of LVM2 will probably want to add <code>--lvm</code> as an argument as well.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel all</code></div></div>
<p>Once genkernel completes, a kernel, full set of modules and initial ram disk (initramfs) will be created. We will use the kernel and initrd when configuring a boot loader later in this document. Write down the names of the kernel and initrd as this information is used when the boot loader configuration file is edited. The initrd will be started immediately after booting to perform hardware autodetection (just like on the installation CD) before the "real" system starts up.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /boot/kernel* /boot/initramfs*</code></div></div>
<h2><span class="mw-headline" id=".E5.86.85.E6.A0.B8.E6.A8.A1.E5.9D.97">内核模块</span></h2>
<h3><span class="mw-headline" id=".E9.85.8D.E7.BD.AE.E6.A8.A1.E5.9D.97">配置模块</span></h3>
<p>List the modules that need to be loaded automatically in <span style="font-family: monospace; font-size: 95%">/etc/conf.d/modules</span>. Extra options can be added to the modules too if necessary.
</p><p>To view all available modules, run the following <span style="font-family: monospace; font-size: 95%; font-weight: bold;">find</span> command. Don't forget to substitute "&lt;kernel version&gt;" with the version of the kernel just compiled:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>find /lib/modules/&lt;kernel version&gt;/ -type f -iname '*.o' -or -iname '*.ko' | less</code></div></div>
<p>For instance, to automatically load the <span style="font-family: monospace; font-size: 95%">3c59x.ko</span> module (which is the driver for a specific 3Com network card family), edit the <span style="font-family: monospace; font-size: 95%">/etc/conf.d/modules</span> file and enter the module name in it.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/modules</code></div><pre>
modules=&quot;3c59x&quot;
</pre></div>
<p>Continue the installation with <a href="../System.html" title="Handbook:AMD64/Installation/System">Configuring the system</a>.
</p>
<h3><span class="mw-headline" id=".E5.8F.AF.E9.80.89.EF.BC.9A.E5.AE.89.E8.A3.85.E5.9B.BA.E4.BB.B6">可选：安装固件</span></h3>
<p>Some drivers require additional firmware to be installed on the system before they work. This is often the case for network interfaces, especially wireless network interfaces. Most of the firmware is packaged in <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/linux-firmware">sys-kernel/linux-firmware</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/linux-firmware</code></div></div> 
<p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../Base.html" title="Previous part" class="btn btn-default">&#8592; Installing base system</a> <a href="../../../Handbook_AMD64.html" title="Handbook:AMD64" class="btn btn-default">Home</a> <a href="../System.html" title="Next part" class="btn btn-default">Configuring the system &#8594;</a></div>
<p><br />
</p>
<!-- 
NewPP limit report
Cached time: 20160112154028
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.588 seconds
Real time usage: 0.641 seconds
Preprocessor visited node count: 2789/1000000
Preprocessor generated node count: 3540/1000000
Post‐expand include size: 71734/2097152 bytes
Template argument size: 10098/2097152 bytes
Highest expansion depth: 12/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  509.577      1 - -total
 96.98%  494.193      1 - Handbook:Parts/Installation/Kernel/zh-cn
 30.81%  156.981     17 - Template:RootCmd
 24.81%  126.409      1 - Handbook:Parts/TOC/zh-cn
 23.48%  119.625     17 - Template:GenericCmd
 11.18%   56.976      4 - Template:Emerge
 10.21%   52.044      1 - Handbook:AMD64/Blocks/Kernel
  7.87%   40.102      9 - Template:PreBox
  7.69%   39.185      8 - Template:KernelBox
  6.15%   31.333      6 - Template:Package
-->

<!-- Saved in parser cache with key gentoo-wiki:pcache:idhash:125062-0!*!0!!en!*!* and timestamp 20160112154028 and revision id 380250
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://wiki.gentoo.org/index.php?title=Handbook:AMD64/Installation/Kernel/zh-cn&amp;oldid=380250">http://wiki.gentoo.org/index.php?title=Handbook:AMD64/Installation/Kernel/zh-cn&amp;oldid=380250</a>"</div>
															<div id='catlinks' class='catlinks catlinks-allhidden'></div>														<!-- end content -->

													</div>
					</div>
				</div>
			</div>
		</div>

			<footer>
		<div class="container">
			<div class="row">
				<div class="col-xs-12 col-md-offset-2 col-md-7">
											<div class="spacer"></div>
						<ul id="f-list">
																							<li id="lastmod"> This page was last modified on 3 October 2015, at 05:42.</li>
																															<li id="privacy"><a href="../../../Gentoo_Wiki_Privacy_policy.html" title="Gentoo Wiki:Privacy policy">Privacy policy</a></li>
																							<li id="about"><a href="../../../Gentoo_Wiki_About.html" title="Gentoo Wiki:About">About Gentoo Wiki</a></li>
																							<li id="disclaimer"><a href="../../../Gentoo_Wiki_General_disclaimer.html" title="Gentoo Wiki:General disclaimer">Disclaimers</a></li>
													</ul>
									</div>
				<div class="col-xs-12 col-md-3">
					<!-- No questions or comments, the Wiki has enough information on how to contact us. -->
				</div>
			</div>
			<div class="row">
				<div class="col-xs-3 col-md-2">
					<ul class="footerlinks three-icons">
						<li><a href="https://twitter.com/gentoo" title="@Gentoo on Twitter"><span class="fa fa-twitter fa-fw"></span></a></li>
						<li><a href="https://plus.google.com/+Gentoo" title="+Gentoo on Google+"><span class="fa fa-google-plus fa-fw"></span></a></li>
						<li><a href="https://www.facebook.com/gentoo.org" title="Gentoo on Facebook"><span class="fa fa-facebook fa-fw"></span></a></li>
					</ul>
				</div>
				<div class="col-xs-9 col-md-9">
					<strong>&copy; 2001&ndash;2016 Gentoo Foundation, Inc.</strong><br />
					<small>
						Gentoo is a trademark of the Gentoo Foundation, Inc.
						The contents of this document, unless otherwise expressly stated, are licensed under the
						<a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">CC-BY-SA-3.0</a> license.
						The <a href="https://www.gentoo.org/inside-gentoo/foundation/name-logo-guidelines.html">Gentoo Name and Logo Usage Guidelines</a> apply.
					</small>
				</div>
			</div>
		</div>
	</footer>
	
		<script>
			window.RLQ = window.RLQ || []; window.RLQ.push( function () {
				$.getScript("https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.js");
			} );
		</script>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.skinning.content.externallinks&amp;only=styles&amp;skin=tyrian" />
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.load(["ext.smw.tooltips","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.uls.pt"]);
} );</script><script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['setDocumentTitle', "Handbook:AMD64/Installation/Kernel/zh-cn"]);
  _paq.push(['setIgnoreClasses', 'image']);
  _paq.push(['trackPageView']);
  _paq.push(['disableCookies']);
  _paq.push(['enableLinkTracking']);
  
  (function() {
    var u="http://piwik.gentoo.org//";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="http://piwik.gentoo.org//piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":832});
} );</script></body>
<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Kernel/zh-cn by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:43:41 GMT -->
</html>