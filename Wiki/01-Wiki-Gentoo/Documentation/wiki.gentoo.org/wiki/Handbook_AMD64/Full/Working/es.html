<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:AMD64/Full/Working/es by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Gentoo Linux amd64 Manual de Gentoo: Trabajar con Gentoo - Gentoo Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"Handbook","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":560,"wgPageName":"Handbook:AMD64/Full/Working/es","wgTitle":"AMD64/Full/Working/es","wgCurRevisionId":263618,"wgRevisionId":263618,"wgArticleId":108990,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"es","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],"wgMonthNamesShort":["","ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],"wgRelevantPageName":"Handbook:AMD64/Full/Working/es","wgRelevantArticleId":108990,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],
"sfgAutocompleteOnAllChars":!1,"sfgFieldProperties":[],"sfgCargoFields":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/extensions/SemanticForms","edgValues":null,"sfgEDSettings":null,"wgWikiEditorEnabledModules":{"toolbar":!0,"dialogs":!0,"preview":!0,"publish":!1},"wgULSAcceptLanguageList":["en","*"],"wgULSCurrentAutonym":"English","wgTranslatePageTranslation":"translation"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["ext.translate","ext.smw.style","mediawiki.page.startup","mediawiki.legacy.wikibits","ext.uls.init"]);
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cext.uls.nojs%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.tyrian.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.smw.style%7Cext.smw.tooltip.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.css" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/tyrian.min.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=tyrian" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=tyrian"></script>
<meta name="generator" content="MediaWiki 1.26.2-gentoo" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<link rel="ExportRDF" type="application/rdf+xml" title="Handbook:AMD64/Full/Working/es" href="https://wiki.gentoo.org/index.php?title=Special:ExportRDF/Handbook:AMD64/Full/Working/es&amp;xmlmime=rdf" />
<link rel="shortcut icon" href="https://wiki.gentoo.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.gentoo.org/opensearch_desc.php" title="Gentoo Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.gentoo.org/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Gentoo Wiki Atom feed" href="https://wiki.gentoo.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-560 ns-subject page-Handbook_AMD64_Full_Working_es skin-tyrian action-view">
	<div class="mw-jump sr-only">
		Jump to:		<a href="#top">content</a>
	</div>
	<header>
		<div class="site-title">
			<div class="container">
				<div class="row">
					<div class="site-title-buttons">
						<div class="btn-group btn-group-sm">
							<a href="https://get.gentoo.org/" role="button" class="btn get-gentoo"><span class="fa fa-fw fa-download"></span> <strong>Get Gentoo!</strong></a>
							<div class="btn-group btn-group-sm">
								<a class="btn gentoo-org-sites dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">
									<span class="fa fa-fw fa-map-o"></span> <span class="hidden-xs">gentoo.org sites</span> <span class="caret"></span>
								</a>
								<ul class="dropdown-menu dropdown-menu-right">
									<li><a href="https://www.gentoo.org/" title="Main Gentoo website"><span class="fa fa-home fa-fw"></span> gentoo.org</a></li>
									<li><a href="https://wiki.gentoo.org/" title="Find and contribute documentation"><span class="fa fa-file-text-o fa-fw"></span> Wiki</a></li>
									<li><a href="https://bugs.gentoo.org/" title="Report issues and find common issues"><span class="fa fa-bug fa-fw"></span> Bugs</a></li>
									<li><a href="https://forums.gentoo.org/" title="Discuss with the community"><span class="fa fa-comments-o fa-fw"></span> Forums</a></li>
									<li><a href="https://packages.gentoo.org/" title="Find software for your Gentoo"><span class="fa fa-hdd-o fa-fw"></span> Packages</a></li>
									<li class="divider"></li>
									<li><a href="https://planet.gentoo.org/" title="Find out what's going on in the developer community"><span class="fa fa-rss fa-fw"></span> Planet</a></li>
									<li><a href="https://archives.gentoo.org/" title="Read up on past discussions"><span class="fa fa-archive fa-fw"></span> Archives</a></li>
									<li><a href="https://sources.gentoo.org/" title="Browse our source code"><span class="fa fa-code fa-fw"></span> Sources</a></li>
									<li class="divider"></li>
									<li><a href="https://infra-status.gentoo.org/" title="Get updates on the services provided by Gentoo"><span class="fa fa-server fa-fw"></span> Infra Status</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="logo">
						<a href="https://wiki.gentoo.org/" title="Back to the homepage" class="site-logo"><object data="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.svg" type="image/svg+xml">
							<img src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.png" alt="Gentoo Linux Logo">
						</object></a>
						<span class="site-label">Wiki</span>
					</div>
				</div>
			</div>
		</div>
		<nav class="tyrian-navbar" role="navigation">
			<div class="container">
				<div class="row">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse navbar-main-collapse">
						<ul class="nav navbar-nav">
							<li id="n-mainpage-description"><a href="../../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../../../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-help"><a href="../../../Special_MyLanguage/Help_Contents.html" title="The place to find out">Help</a></li>			<li class="dropdown">
				<a href="../../../Gentoo_Wiki_Menu-Gentoo.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Gentoo <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Projects"><a href="../../../Project_Gentoo.html">Gentoo Projects</a></li>				</ul>
			</li>
					<li class="dropdown">
				<a href="../../../Gentoo_Wiki_Menu-Documentation.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Handbook"><a href="../../../Handbook_Main_Page.html">Gentoo Handbook</a></li><li id="n-Gentoo-FAQ"><a href="../../../FAQ.html">Gentoo FAQ</a></li><li id="n-Featured-Documents"><a href="../../../Project_Documentation/Overview.html">Featured Documents</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Topics</li><li id="n-Core-system"><a href="../../../Category_Core_system.html">Core system</a></li><li id="n-Hardware"><a href="../../../Category_Hardware.html">Hardware</a></li><li id="n-Software"><a href="../../../Category_Software.html">Software</a></li><li id="n-Desktop"><a href="../../../Category_Desktop.html">Desktop</a></li><li id="n-Server-.26-Security"><a href="../../../Category_Server_and_Security.html">Server &amp; Security</a></li><li id="n-Project-.26-Community"><a href="../../../Category_Project_and_Community.html">Project &amp; Community</a></li>				</ul>
			</li>
								</ul>
						<ul class="nav navbar-nav navbar-right hidden-xs">
									<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cog"></i> Tools <span class="caret"></span></a>
			<ul class="dropdown-menu" role="menu">
				<li id="t-whatlinkshere"><a href="../../../Special_WhatLinksHere/Handbook_AMD64/Full/Working/es.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../../../Special_RecentChangesLinked/Handbook_AMD64/Full/Working/es.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../../../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Working/es&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Working/es&amp;oldid=263618" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Working/es&amp;action=info" title="More information about this page">Page information</a></li><li id="t-smwbrowselink"><a href="../../../Special_Browse/Handbook_AMD64-2FFull-2FWorking-2Fes.html" rel="smw-browse">Browse properties</a></li>			</ul>
		</li>
			<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
				<span class="glyphicon glyphicon-user" aria-label="Personal tools"></span>
				User				<span class="caret"></span>
			</a>
			<ul class="dropdown-menu" role="menu">
				<li id="pt-createaccount"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AAMD64%2FFull%2FWorking%2Fes&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AAMD64%2FFull%2FWorking%2Fes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>			</ul>
		</li>
								</ul>
					</div>
				</div>
			</div>
		</nav>
		
		<nav class="navbar navbar-grey navbar-stick" id="wiki-actions" role="navigation">
			<div class="container"><div class="row">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#gw-toolbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<div class="collapse navbar-collapse" id="gw-toolbar">
					<ul class="nav navbar-nav">
					<li id="ca-nstab-handbook" class="selected active"><a href="es.html">Handbook</a></li><li id="ca-talk" class="new"><a href="https://wiki.gentoo.org/index.php?title=Handbook_Talk:AMD64/Full/Working/es&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>					</ul>
							<form action="https://wiki.gentoo.org/index.php" id="searchform" class="navbar-form navbar-right" role="search">
			<input type='hidden' name="title" value="Special:Search"/>

				<div class="input-group">
					<input type="search" name="search" placeholder="Search" title="Search Gentoo Wiki [f]" accesskey="f" id="searchInput" class="form-control" />					<div class="input-group-btn"><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton btn btn-default" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton btn btn-default" /></div>
				</div>
		</form>
						<ul class="nav navbar-nav navbar-right hidden-xs">
					<li id="ca-viewsource"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Working/es&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">more <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
					<li id="ca-history"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Working/es&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>							</ul>
						</li>
					</ul>
				</div>
			</div></div>
		</nav>
		</header>
	
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div id="content" class="mw-body" role="main">
						<a id="top"></a>
						
						<h1 id="firstHeading" class="first-header" lang="es">
							<span dir="auto">Gentoo Linux amd64 Manual de Gentoo: Trabajar con Gentoo</span>
						</h1>

						<div id="bodyContent" class="mw-body-content">
							<div id="siteSub">From Gentoo Wiki</div>
							<div id="contentSub">
								<span class="subpages"><a href="../../../Special_MyLanguage/Handbook_AMD64.html" title="Special:MyLanguage/Handbook:AMD64">Handbook:AMD64</a> | <a href="../../../Special_MyLanguage/Handbook_AMD64/Full.html" title="Special:MyLanguage/Handbook:AMD64/Full">Full</a></span>							</div>
																					<div id="jump-to-nav" class="mw-jump">
								Jump to:								<a href="#column-one">navigation</a>, 								<a href="#searchInput">search</a>
							</div>

							<!-- start content -->
							<div id="mw-content-text" lang="es" dir="ltr" class="mw-content-ltr"><div class="mw-translate-page-info" lang="en" dir="ltr">This page is a <span class="plainlinks"><a rel="nofollow" class="external text" href="http://wiki.gentoo.org/index.php?title=Special:Translate&amp;group=page-Handbook%3AAMD64%2FFull%2FWorking&amp;action=page&amp;filter=&amp;language=es">translated version</a></span> of the page <a href="../Working.html" title="Handbook:AMD64/Full/Working">Handbook:AMD64/Full/Working</a> and the translation is 100% complete.</div>
<hr /><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Bienvenido_a_Portage"><span class="tocnumber">1</span> <span class="toctext">Bienvenido a Portage</span></a></li>
<li class="toclevel-1"><a href="#El_.C3.A1rbol_Portage"><span class="tocnumber">2</span> <span class="toctext">El árbol Portage</span></a>
<ul>
<li class="toclevel-2"><a href="#Ebuilds"><span class="tocnumber">2.1</span> <span class="toctext">Ebuilds</span></a></li>
<li class="toclevel-2"><a href="#Actualizando_el_.C3.A1rbol_Portage"><span class="tocnumber">2.2</span> <span class="toctext">Actualizando el árbol Portage</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Mantenimiento_de_Software"><span class="tocnumber">3</span> <span class="toctext">Mantenimiento de Software</span></a>
<ul>
<li class="toclevel-2"><a href="#Buscar_software"><span class="tocnumber">3.1</span> <span class="toctext">Buscar software</span></a></li>
<li class="toclevel-2"><a href="#Instalar_software"><span class="tocnumber">3.2</span> <span class="toctext">Instalar software</span></a></li>
<li class="toclevel-2"><a href="#Encontrar_la_documentaci.C3.B3n_de_un_paquete_instalado"><span class="tocnumber">3.3</span> <span class="toctext">Encontrar la documentación de un paquete instalado</span></a></li>
<li class="toclevel-2"><a href="#Desinstalando_software"><span class="tocnumber">3.4</span> <span class="toctext">Desinstalando software</span></a></li>
<li class="toclevel-2"><a href="#Actualizando_su_sistema"><span class="tocnumber">3.5</span> <span class="toctext">Actualizando su sistema</span></a></li>
<li class="toclevel-2"><a href="#Meta-paquetes"><span class="tocnumber">3.6</span> <span class="toctext">Meta-paquetes</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Licencias"><span class="tocnumber">4</span> <span class="toctext">Licencias</span></a></li>
<li class="toclevel-1"><a href="#Cuando_Portage_se_queja..."><span class="tocnumber">5</span> <span class="toctext">Cuando Portage se queja...</span></a>
<ul>
<li class="toclevel-2"><a href="#Terminolog.C3.ADa"><span class="tocnumber">5.1</span> <span class="toctext">Terminología</span></a></li>
<li class="toclevel-2"><a href="#Paquetes_bloqueados"><span class="tocnumber">5.2</span> <span class="toctext">Paquetes bloqueados</span></a></li>
<li class="toclevel-2"><a href="#Paquetes_enmascarados_.28masked.29"><span class="tocnumber">5.3</span> <span class="toctext">Paquetes enmascarados (masked)</span></a></li>
<li class="toclevel-2"><a href="#Cambios_necesarios_en_los_ajustes_USE"><span class="tocnumber">5.4</span> <span class="toctext">Cambios necesarios en los ajustes USE</span></a></li>
<li class="toclevel-2"><a href="#Dependencias_perdidas"><span class="tocnumber">5.5</span> <span class="toctext">Dependencias perdidas</span></a></li>
<li class="toclevel-2"><a href="#Nombre_ambiguo_del_Ebuild"><span class="tocnumber">5.6</span> <span class="toctext">Nombre ambiguo del Ebuild</span></a></li>
<li class="toclevel-2"><a href="#Dependencias_circulares"><span class="tocnumber">5.7</span> <span class="toctext">Dependencias circulares</span></a></li>
<li class="toclevel-2"><a href="#Fallo_en_la_descarga"><span class="tocnumber">5.8</span> <span class="toctext">Fallo en la descarga</span></a></li>
<li class="toclevel-2"><a href="#Protecci.C3.B3n_del_perfil_del_sistema"><span class="tocnumber">5.9</span> <span class="toctext">Protección del perfil del sistema</span></a></li>
<li class="toclevel-2"><a href="#Errores_en_la_verificaci.C3.B3n_de_la_integridad_.28digest.29"><span class="tocnumber">5.10</span> <span class="toctext">Errores en la verificación de la integridad (digest)</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.C2.BFQu.C3.A9_son_los_ajustes_USE.3F"><span class="tocnumber">6</span> <span class="toctext">¿Qué son los ajustes USE?</span></a>
<ul>
<li class="toclevel-2"><a href="#Las_ideas_que_hay_detr.C3.A1s_de_los_ajustes_USE"><span class="tocnumber">6.1</span> <span class="toctext">Las ideas que hay detrás de los ajustes USE</span></a></li>
<li class="toclevel-2"><a href="#Definici.C3.B3n_de_un_ajuste_USE"><span class="tocnumber">6.2</span> <span class="toctext">Definición de un ajuste USE</span></a></li>
<li class="toclevel-2"><a href="#.C2.BFQu.C3.A9_ajustes_USE_existen.3F"><span class="tocnumber">6.3</span> <span class="toctext">¿Qué ajustes USE existen?</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Usando_los_ajustes_USE"><span class="tocnumber">7</span> <span class="toctext">Usando los ajustes USE</span></a>
<ul>
<li class="toclevel-2"><a href="#Declarar_ajustes_USE_permanentes"><span class="tocnumber">7.1</span> <span class="toctext">Declarar ajustes USE permanentes</span></a></li>
<li class="toclevel-2"><a href="#Declarar_ajustes_USE_para_paquetes_espec.C3.ADficos"><span class="tocnumber">7.2</span> <span class="toctext">Declarar ajustes USE para paquetes específicos</span></a></li>
<li class="toclevel-2"><a href="#Declarar_ajustes_USE_temporales"><span class="tocnumber">7.3</span> <span class="toctext">Declarar ajustes USE temporales</span></a></li>
<li class="toclevel-2"><a href="#Precedencia"><span class="tocnumber">7.4</span> <span class="toctext">Precedencia</span></a></li>
<li class="toclevel-2"><a href="#Adaptar_su_sistema_completamente_a_los_nuevos_ajustes_USE"><span class="tocnumber">7.5</span> <span class="toctext">Adaptar su sistema completamente a los nuevos ajustes USE</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Ajuste_USE_espec.C3.ADficos_de_un_paquete"><span class="tocnumber">8</span> <span class="toctext">Ajuste USE específicos de un paquete</span></a>
<ul>
<li class="toclevel-2"><a href="#Viendo_los_ajustes_USE_disponibles"><span class="tocnumber">8.1</span> <span class="toctext">Viendo los ajustes USE disponibles</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Satisfacer_condiciones_REQUIRED_USE"><span class="tocnumber">9</span> <span class="toctext">Satisfacer condiciones REQUIRED_USE</span></a></li>
<li class="toclevel-1"><a href="#Caracter.C3.ADsticas_de_Portage"><span class="tocnumber">10</span> <span class="toctext">Características de Portage</span></a></li>
<li class="toclevel-1"><a href="#Compilaci.C3.B3n_Distribuida"><span class="tocnumber">11</span> <span class="toctext">Compilación Distribuida</span></a>
<ul>
<li class="toclevel-2"><a href="#Usar_distcc"><span class="tocnumber">11.1</span> <span class="toctext">Usar distcc</span></a></li>
<li class="toclevel-2"><a href="#Instalar_distcc"><span class="tocnumber">11.2</span> <span class="toctext">Instalar distcc</span></a></li>
<li class="toclevel-2"><a href="#Activar_el_soporte_en_Portage"><span class="tocnumber">11.3</span> <span class="toctext">Activar el soporte en Portage</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Compilaci.C3.B3n_utilizando_cach.C3.A9"><span class="tocnumber">12</span> <span class="toctext">Compilación utilizando caché</span></a>
<ul>
<li class="toclevel-2"><a href="#Acerca_de_ccache"><span class="tocnumber">12.1</span> <span class="toctext">Acerca de ccache</span></a></li>
<li class="toclevel-2"><a href="#Instalar_ccache"><span class="tocnumber">12.2</span> <span class="toctext">Instalar ccache</span></a></li>
<li class="toclevel-2"><a href="#Activar_el_soporte_ccache_en_Portage"><span class="tocnumber">12.3</span> <span class="toctext">Activar el soporte ccache en Portage</span></a></li>
<li class="toclevel-2"><a href="#Utilizar_ccache_para_compilaciones_de_C_sin_relaci.C3.B3n_con_Portage"><span class="tocnumber">12.4</span> <span class="toctext">Utilizar ccache para compilaciones de C sin relación con Portage</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Soporte_para_Paquetes_Binarios"><span class="tocnumber">13</span> <span class="toctext">Soporte para Paquetes Binarios</span></a>
<ul>
<li class="toclevel-2"><a href="#Crear_paquetes_binarios"><span class="tocnumber">13.1</span> <span class="toctext">Crear paquetes binarios</span></a></li>
<li class="toclevel-2"><a href="#Instalar_Paquetes_Precompilados"><span class="tocnumber">13.2</span> <span class="toctext">Instalar Paquetes Precompilados</span></a></li>
<li class="toclevel-2"><a href="#Distribuir_paquetes_precompilados_a_otros"><span class="tocnumber">13.3</span> <span class="toctext">Distribuir paquetes precompilados a otros</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Descargar_los_Ficheros"><span class="tocnumber">14</span> <span class="toctext">Descargar los Ficheros</span></a>
<ul>
<li class="toclevel-2"><a href="#Userfetch"><span class="tocnumber">14.1</span> <span class="toctext">Userfetch</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Obtener_instant.C3.A1neas_validadas_del_.C3.A1rbol_de_ebuilds_de_Gentoo"><span class="tocnumber">15</span> <span class="toctext">Obtener instantáneas validadas del árbol de ebuilds de Gentoo</span></a></li>
<li class="toclevel-1"><a href="#Niveles_de_ejecuci.C3.B3n"><span class="tocnumber">16</span> <span class="toctext">Niveles de ejecución</span></a>
<ul>
<li class="toclevel-2"><a href="#Iniciando_su_sistema"><span class="tocnumber">16.1</span> <span class="toctext">Iniciando su sistema</span></a></li>
<li class="toclevel-2"><a href="#Guiones_de_inicio_.28init_scripts.29"><span class="tocnumber">16.2</span> <span class="toctext">Guiones de inicio (init scripts)</span></a></li>
<li class="toclevel-2"><a href="#.C2.BFC.C3.B3mo_funciona_Init.3F"><span class="tocnumber">16.3</span> <span class="toctext">¿Cómo funciona Init?</span></a></li>
<li class="toclevel-2"><a href="#Niveles_de_ejecuci.C3.B3n_existentes"><span class="tocnumber">16.4</span> <span class="toctext">Niveles de ejecución existentes</span></a></li>
<li class="toclevel-2"><a href="#Trabajando_con_los_guiones_de_inicio"><span class="tocnumber">16.5</span> <span class="toctext">Trabajando con los guiones de inicio</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Actualizando_los_niveles_de_ejecuci.C3.B3n"><span class="tocnumber">17</span> <span class="toctext">Actualizando los niveles de ejecución</span></a>
<ul>
<li class="toclevel-2"><a href="#rc-update"><span class="tocnumber">17.1</span> <span class="toctext">rc-update</span></a></li>
<li class="toclevel-2"><a href="#A.C3.B1adiendo_y_quitando_servicios"><span class="tocnumber">17.2</span> <span class="toctext">Añadiendo y quitando servicios</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Configuraci.C3.B3n_de_servicios"><span class="tocnumber">18</span> <span class="toctext">Configuración de servicios</span></a>
<ul>
<li class="toclevel-2"><a href="#.C2.BFPor_qu.C3.A9_requerimos_configuraci.C3.B3n_adicional.3F"><span class="tocnumber">18.1</span> <span class="toctext">¿Por qué requerimos configuración adicional?</span></a></li>
<li class="toclevel-2"><a href="#El_directorio_conf.d"><span class="tocnumber">18.2</span> <span class="toctext">El directorio conf.d</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Escribiendo_guiones_de_inicio"><span class="tocnumber">19</span> <span class="toctext">Escribiendo guiones de inicio</span></a>
<ul>
<li class="toclevel-2"><a href="#.C2.BFRealmente_tengo_que_hacerlo.3F"><span class="tocnumber">19.1</span> <span class="toctext">¿Realmente tengo que hacerlo?</span></a></li>
<li class="toclevel-2"><a href="#Esquema"><span class="tocnumber">19.2</span> <span class="toctext">Esquema</span></a></li>
<li class="toclevel-2"><a href="#Dependencias"><span class="tocnumber">19.3</span> <span class="toctext">Dependencias</span></a></li>
<li class="toclevel-2"><a href="#Controlando_el_orden"><span class="tocnumber">19.4</span> <span class="toctext">Controlando el orden</span></a></li>
<li class="toclevel-2"><a href="#Funciones_est.C3.A1ndar"><span class="tocnumber">19.5</span> <span class="toctext">Funciones estándar</span></a></li>
<li class="toclevel-2"><a href="#A.C3.B1adiendo_opciones_personalizadas"><span class="tocnumber">19.6</span> <span class="toctext">Añadiendo opciones personalizadas</span></a></li>
<li class="toclevel-2"><a href="#Variables_para_la_configuraci.C3.B3n_de_servicios"><span class="tocnumber">19.7</span> <span class="toctext">Variables para la configuración de servicios</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Cambiando_el_comportamiento_del_nivel_de_ejecuci.C3.B3n"><span class="tocnumber">20</span> <span class="toctext">Cambiando el comportamiento del nivel de ejecución</span></a>
<ul>
<li class="toclevel-2"><a href="#.C2.BFQui.C3.A9n_puede_beneficiarse_de_esto.3F"><span class="tocnumber">20.1</span> <span class="toctext">¿Quién puede beneficiarse de esto?</span></a></li>
<li class="toclevel-2"><a href="#Utilizando_softlevel"><span class="tocnumber">20.2</span> <span class="toctext">Utilizando softlevel</span></a></li>
<li class="toclevel-2"><a href="#Utilizando_bootlevel"><span class="tocnumber">20.3</span> <span class="toctext">Utilizando bootlevel</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Variables_de_entorno"><span class="tocnumber">21</span> <span class="toctext">Variables de entorno</span></a>
<ul>
<li class="toclevel-2"><a href="#Introducci.C3.B3n"><span class="tocnumber">21.1</span> <span class="toctext">Introducción</span></a></li>
<li class="toclevel-2"><a href="#Ejemplos_Importantes"><span class="tocnumber">21.2</span> <span class="toctext">Ejemplos Importantes</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Definiendo_variables_globalmente"><span class="tocnumber">22</span> <span class="toctext">Definiendo variables globalmente</span></a>
<ul>
<li class="toclevel-2"><a href="#El_directorio_.2Fetc.2Fenv.d"><span class="tocnumber">22.1</span> <span class="toctext">El directorio /etc/env.d</span></a></li>
<li class="toclevel-2"><a href="#El_gui.C3.B3n_env-update"><span class="tocnumber">22.2</span> <span class="toctext">El guión env-update</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Definiendo_variables_locales"><span class="tocnumber">23</span> <span class="toctext">Definiendo variables locales</span></a>
<ul>
<li class="toclevel-2"><a href="#Espec.C3.ADficas_de_usuario"><span class="tocnumber">23.1</span> <span class="toctext">Específicas de usuario</span></a></li>
<li class="toclevel-2"><a href="#Espec.C3.ADficas_de_sesi.C3.B3n"><span class="tocnumber">23.2</span> <span class="toctext">Específicas de sesión</span></a></li>
</ul>
</li>
</ul>
</div>

<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Working.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">español</span> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/ワーキング (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Working/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="ru.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/使用Gentoo (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #aaaaaa; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:left;">
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Instalación
</th></tr>
<tr>
<td> <a href="../../Installation/About/es.html" title="Handbook:AMD64/Installation/About/es">Acerca de la instalación</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/es.html" title="Handbook:AMD64/Installation/Media/es">Elegir los medios</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/es.html" title="Handbook:AMD64/Installation/Networking/es">Configurar la red</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/es.html" title="Handbook:AMD64/Installation/Disks/es">Preparar los discos</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/es.html" title="Handbook:AMD64/Installation/Stage/es">Instalar el stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/es.html" title="Handbook:AMD64/Installation/Base/es">Instalar el sistema base</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/es.html" title="Handbook:AMD64/Installation/Kernel/es">Configurar el núcleo</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/es.html" title="Handbook:AMD64/Installation/System/es">Configurar el sistema</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/es.html" title="Handbook:AMD64/Installation/Tools/es">Instalar herramientas</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/es.html" title="Handbook:AMD64/Installation/Bootloader/es">Configurar el cargador de arranque</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/es.html" title="Handbook:AMD64/Installation/Finalizing/es">Terminar</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/es.html" title="Handbook:AMD64/Working/Portage/es">Introducción a Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/es.html" title="Handbook:AMD64/Working/USE/es">Ajustes USE</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/es.html" title="Handbook:AMD64/Working/Features/es">Características de Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/es.html" title="Handbook:AMD64/Working/Initscripts/es">Guiones de inicio</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/es.html" title="Handbook:AMD64/Working/EnvVar/es">Variables de entorno</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/es.html" title="Handbook:AMD64/Portage/Files/es">Archivos y directorios</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/es.html" title="Handbook:AMD64/Portage/Variables/es">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/es.html" title="Handbook:AMD64/Portage/Branches/es">Mezclar ramas de software</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/es.html" title="Handbook:AMD64/Portage/Tools/es">Herramientas adicionales</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/es.html" title="Handbook:AMD64/Portage/CustomTree/es">Árbol de Portage personalizado</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/es.html" title="Handbook:AMD64/Portage/Advanced/es">Características avanzadas</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Configuración de la red
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/es.html" title="Handbook:AMD64/Networking/Introduction/es">Comenzando</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/es.html" title="Handbook:AMD64/Networking/Advanced/es">Configuración avanzada</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/es.html" title="Handbook:AMD64/Networking/Modular/es">Configuración de red modular</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/es.html" title="Handbook:AMD64/Networking/Wireless/es">Redes inalámbricas</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/es.html" title="Handbook:AMD64/Networking/Extending/es">Añadir funcionalidad</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/es.html" title="Handbook:AMD64/Networking/Dynamic/es">Gestión dinámica</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Bienvenido_a_Portage">Bienvenido a Portage</span></h2>
<p>Portage es probablemente la más importante innovación de Gentoo en la gestión de software. Debido a su potente flexibilidad y una gran cantidad de funcionalidades, es frecuentemente apreciado como la mejor herramienta de gestión de software disponible para Linux.
</p><p>Portage esta completamente escrito en <a rel="nofollow" class="external text" href="http://www.python.org/">Python</a> y <a rel="nofollow" class="external text" href="http://www.gnu.org/software/bash">Bash</a> y, por tanto, totalmente a la vista de los usuarios al ser ambos lenguajes interpretados.
</p><p>La mayoría de usuarios trabajarán con Portage a través de la herramienta <code>emerge</code>. Este capítulo no pretende duplicar la información disponible en la página de man sobre emerge. Para una completa información sobre las opciones de emerge, por favor, consulte la página del manual:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">usuario $</code><span class="tripleclick-separator"></span><code>man emerge</code></div></div>
<h2><span class="mw-headline" id="El_.C3.A1rbol_Portage">El árbol Portage</span></h2>
<h3><span class="mw-headline" id="Ebuilds">Ebuilds</span></h3>
<p>Cuando hablamos sobre paquetes, nos referimos normalmente a programas software disponibles para los usuarios de Gentoo a través del árbol Portage. El árbol Portage es una colección de ebuilds, archivos que contienen toda la información que Portage necesita para mantener el software (instalar, buscar, ...). Estos ebuilds residen por defecto en <span style="font-family: monospace; font-size: 95%">/usr/portage</span>.
</p><p>Cuando se pida a Portage que ejecute alguna acción relacionada con los programas, éste utilizará los ebuilds de su sistema como base. Por tanto, es importante que actualice los ebuilds de su sistema para que Portage conozca el nuevo software, actualizaciones de seguridad, etc.
</p>
<h3><span class="mw-headline" id="Actualizando_el_.C3.A1rbol_Portage">Actualizando el árbol Portage</span></h3>
<p>El árbol Portage se actualiza normalmente con <code>rsync</code>, una utilidad rápida de transferencia de archivos incremental. La actualización es muy sencilla, ya que la orden <code>emerge</code> proporciona una interfaz para <code>rsync</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --sync</code></div></div>
<p>Si no es capaz de realizar <code>rsync</code> debido a restricciones de cortafuegos puede actualizar su árbol Portage a través de nuestras tres imágenes de Portage generadas diariamente. La herramienta <code>emerge-webrsync</code> automáticamente comprueba e instala la última en su sistema.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge-webrsync</code></div></div>
<p>Una ventaja adicional de utilizar <code>emerge-webrsync</code> es que permite al administrador descargar únicamente instantáneas del árbol portage que están firmadas con la clave GPG del equipo de ingeniería de versiones de Gentoo. Se puede encontrar más información sobre esto en la sección Características de Portage en Obteniendo instantáneas validadas del árbol Portage.
</p>
<h2><span class="mw-headline" id="Mantenimiento_de_Software">Mantenimiento de Software</span></h2>
<h3><span class="mw-headline" id="Buscar_software">Buscar software</span></h3>
<p>Para buscar software utilizando el árbol de Portage, puede emplear las funcionalidades de búsquedas propias de <code>emerge</code>. Por defecto, <code>emerge --search</code> devuelve el nombre de los paquetes cuyo nombre coincide (tanto total como parcialmente) con el término de búsqueda introducido.
</p><p>Por ejemplo, para buscar todos los paquetes que tengan "pdf" en su nombre:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>emerge --search pdf</code></div></div>
<p>Si quiere buscar también en las descripciones puede utilizar la opción <code>--searchdesc</code> (o <code>-S</code>).
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>emerge --searchdesc pdf</code></div></div>
<p>Cuando eche un vistazo al resultado, notará que le proporciona mucha información. Los campos son etiquetados claramente con lo cual no entraremos en explicar sus significados.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Ejemplo de salida de una búsqueda</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>*  net-print/cups-pdf
      Latest version available: 1.5.2
      Latest version installed: [ Not Installed ]
      Size of downloaded files: 15 kB
      Homepage:    http://cip.physik.uni-wuerzburg.de/~vrbehr/cups-pdf/
      Description: Provides a virtual printer for CUPS to produce PDF files.
      License:     GPL-2
</pre></div></pre></div>
<h3><span class="mw-headline" id="Instalar_software">Instalar software</span></h3>
<p>Una vez que haya encontrado el nombre del software que necesite, puede fácilmente instalarlo con <code>emerge</code>: simplemente añada el nombre del paquete. Por ejemplo, para instalar gnumeric:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask app-office/gnumeric</code></div></div> 
<p>Muchas aplicaciones dependen unas de otras, esto implica que cualquier intento de instalar un cierto paquete de software podría derivar en la instalación de varias dependencias. No se preocupe. Portage maneja también las dependencias. Si quiere conocer qué instalará Portage cuando le pida que instale un cierto paquete, añada la opción <code>--pretend</code>. Por ejemplo:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --pretend gnumeric</code></div></div>
<p>Cuando le pida a Portage que instale un paquete, descargará las fuentes necesarias desde Internet (si fuera necesario) y las guardará por defecto en <span style="font-family: monospace; font-size: 95%">/usr/portage/distfiles/</span>. Después, el paquete será descomprimido, compilado e instalado. Si quiere que portage solamente descargue las fuentes sin instalarlas, añada la opción <code>--fetchonly</code> a la orden emerge:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --fetchonly gnumeric</code></div></div>
<h3><span class="mw-headline" id="Encontrar_la_documentaci.C3.B3n_de_un_paquete_instalado">Encontrar la documentación de un paquete instalado</span></h3>
<p>Muchos paquetes vienen con su propia documentación. Algunas veces, el ajuste USE <i>doc</i> determina si la documentación debe instalarse o no. Puede comprobar la existencia del ajuste USE <i>doc</i> con la orden <code>emerge -vp PACKAGENAME</code>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge -vp alsa-lib</code></div><pre>
...
[ebuild  N    ] media-libs/alsa-lib-1.0.14_rc1  -debug +doc 698 kB
</pre></div>
<p>La mejor manera de activar el ajuste USE doc es por paquete, por medio de <span style="font-family: monospace; font-size: 95%">/etc/portage/package.use</span>, de manera que solo obtendrá la documentación para los paquetes que le interesan. Activando este ajuste de manera global puede causar problemas con dependencias circulares. Para más información, por favor lea el apartado acerca de <a href="../../Working/USE/es.html" title="Handbook:AMD64/Working/USE/es">los Ajustes USE</a>.
</p><p>Una vez que el paquete está instalado, su documentación se encuentra normalmente en un subdirectorio llamado igual que el paquete, bajo el directorio /usr/share/doc. También puede obtener un listado de todos los archivos instalados con la herramienta <code>equery</code> la cual es parte del paquete <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-portage/gentoolkit">app-portage/gentoolkit</a>.
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>ls -l /usr/share/doc/alsa-lib-1.0.14_rc1</code></div><pre>
total 28
-rw-r--r--  1 root root  669 May 17 21:54 ChangeLog.gz
-rw-r--r--  1 root root 9373 May 17 21:54 COPYING.gz
drwxr-xr-x  2 root root 8560 May 17 21:54 html
-rw-r--r--  1 root root  196 May 17 21:54 TODO.gz
</pre></div>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>equery files alsa-lib | less</code></div><pre>
media-libs/alsa-lib-1.0.14_rc1
* Contents of media-libs/alsa-lib-1.0.14_rc1:
/usr
/usr/bin
/usr/bin/alsalisp
...
</pre></div>
<h3><span class="mw-headline" id="Desinstalando_software">Desinstalando software</span></h3>
<p>Cuando quiera desinstalar un paquete software de su sistema, utilice <code>emerge --unmerge</code>. Esto le indicará a Portage que desinstale todos los archivos instalados por el paquete en su sistema excepto los archivos de configuración de esa aplicación <i>si</i> los había modificado después de la instalación. Esto le permite continuar trabajando con los mismos archivos de configuración si alguna vez decide volver a instalar la aplicación.
</p>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Advertencia</strong><br />Portage no comprueba si el paquete que está intentando desinstalar es necesario para algún otro. A pesar de esto, le avisará cuando quiera eliminar un paquete importante que pueda romper su sistema si lo desinstala.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --unmerge gnumeric</code></div></div>
<p>Cuando desinstala un paquete de su sistema, las dependencias de ese paquete que se instalaron automáticamente cuando instaló el software, permanecerán. Para hacer que Portage localice todas las dependencias que puede ser eliminadas actualmente, utilice la funcionalidad de emerge <code>--depclean</code>. Hablaremos de esto un poco más adelante.
</p>
<h3><span class="mw-headline" id="Actualizando_su_sistema">Actualizando su sistema</span></h3>
<p>Para mantener su sistema en perfecto estado (sin mencionar la instalación de los últimas actualizaciones de seguridad) necesita actualizarlo frecuentemente. Partiendo de que Portage solamente comprueba los ebuilds en su árbol Portage, lo primero sería actualizar el propio árbol. Cuando tenga el árbol Portage actualizado, puede actualizar su sistema con <code>emerge --update @world</code>. En el siguiente ejemplo, además hemos utilizado la opción <code>--ask</code> que le indica a Portage que muestre la lista de paquetes que quiere actualizar y pregunte si se quiere continuar:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --update --ask @world</code></div></div>
<p>Portage buscará entonces las nuevas versiones de las aplicaciones que explícitamente haya instalado (las listadas en <span style="font-family: monospace; font-size: 95%">/var/lib/portage/world</span>), sin embargo, no revisa minuciosamente sus dependencias. Si desea actualizar también esas dependencias, añada la opción <code>--deep</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --update --deep @world</code></div></div>
<p>Aunque esto no indica todos los paquetes: algunos paquetes de su sistema son necesarios durante los procesos de compilación y construcción de los paquetes, pero, una vez que los paquetes se han instalado, estas dependencias ya no se necesitan. Portage denomina a éstas <i>dependencias de construcción (build dependencies)</i>. Para incluirlas en un ciclo de actualización, añada <code>--with-bdeps=y</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --update --deep --with-bdeps=y @world</code></div></div>
<p>Ya que las actualizaciones de seguridad también afectan a paquetes que no han sido explícitamente instalados en el sistema (pero que son dependencias de otros programas), es recomendable ejecutar la orden de arriba de vez en cuando.
</p><p>Si ha cambiado últimamente alguno de sus ajustes USE quizá quiera añadir también <code>--newuse</code>. Portage comprobará si los cambios requieren la instalación de nuevos paquetes o la recompilación de los existentes:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --update --deep --with-bdeps=y --newuse @world</code></div></div>
<h3><span class="mw-headline" id="Meta-paquetes">Meta-paquetes</span></h3>
<p>Algunos paquetes del árbol Portage no tienen contenido real pero son utilizados para instalar un conjunto de paquetes. Por ejemplo, el paquete <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/kde-base/kde-meta">kde-base/kde-meta</a> instalará un entorno KDE completo en su sistema incluyendo varios paquetes relacionados con KDE y también sus dependencias.
</p><p>Si quiere desinstalar dicho paquete de su sistema, ejecutando <code>emerge --unmerge</code> sobre el paquete no tendrá efecto total ya que las dependencias permanecerán en su sistema.
</p><p>Portage tiene la funcionalidad de eliminar las dependencias huérfanas, pero la disponibilidad de software necesita que primero actualice completamente su sistema, incluyendo los nuevos cambios que ha aplicado si actualizó los ajustes USE. Después de esto, puede ejecutar <code>emerge --depclean</code> para eliminar las dependencias huérfanas. Cuando haya terminado, necesitará reconstruir las aplicaciones que estuvieran enlazadas dinámicamente a las que acaban de ser eliminadas pero no son necesarias.
</p><p>Todo esto se lleva a cabo a través de tres órdenes:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --update --deep --newuse @world
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --depclean
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>revdep-rebuild</code></div></div>
<p><code>revdep-rebuild</code> es parte del paquete <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-portage/gentoolkit">app-portage/gentoolkit</a>; no olvide instalarlo primero:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask app-portage/gentoolkit</code></div></div> 
<h2><span class="mw-headline" id="Licencias">Licencias</span></h2>
<p>A partir de la versión 2.1.7 de Portage, puede aceptar o rechazar la instalación de software basada en esta licencia. Todos los paquetes del árbol contienen una entrada LICENSE en sus ebuilds. Ejecutando <code>emerge --search PACKAGENAME</code> le mostrará la licencia del paquete.
</p><p>Por defecto Portage permite todas las licencias, excepto <i>Acuerdos de Licencia de Usuario Final (End User License Agreements o EULAs)</i> que requieren la lectura y firma de un acuerdo de aceptación.
</p><p>La variable que controla las licencias permitidas es <code>ACCEPT_LICENSE</code>, la cual se puede ajustar en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>. En el siguiente ejemplo, se muestra este valor por defecto:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Valor por defecto de ACCEPT_LICENSE</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">ACCEPT_LICENSE</span><span class="o">=</span><span class="s2">&quot;* -@EULA&quot;</span>
</pre></div></pre>
<p>Con esta configuración, los paquetes que requieren interacción durante la instalación para aprobar su EULA no se podrán instalar. Los paquetes sin una EULA se podrán instalar.
</p><p>Puede ajustar <code>ACCEPT_LICENSE</code> globalmente en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>, o puede especificarlo en de forma que afecte a solo un paquete en <span style="font-family: monospace; font-size: 95%">/etc/portage/package.license</span>.
</p><p>Por ejemplo, si quiere permitir la licencia <span style="font-family: monospace; font-size: 95%">truecrypt-2.7</span> para <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-crypt/truecrypt">app-crypt/truecrypt</a>, añada lo siguiente a <span style="font-family: monospace; font-size: 95%">/etc/portage/package.license</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/package.license</code></strong><strong>Aceptar la licencia truecrypt-2.7 license sólo para el paquete truecrypt</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>app-crypt/truecrypt truecrypt-2.7
</pre></div></pre>
<p>Esto permite la instalación de versiones de truecrypt que tengan la licencia <span style="font-family: monospace; font-size: 95%">truecrypt-2.7</span>, pero no versiones con la licencia <span style="font-family: monospace; font-size: 95%">truecrypt-2.8</span>.
</p>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />Las licencias se almacenan en <span style="font-family: monospace; font-size: 95%">/usr/portage/licenses/</span>, y los grupos de licencias se guardan en <span style="font-family: monospace; font-size: 95%">/usr/portage/profiles/license_groups</span>. La primera entrada de cada línea en letras <i>MAYÚSCULAS</i>, es el nombre del grupo de licencias, y cada entrada detrás de ésta es una licencia individual.</div>
<p>Los grupos de licencias definidos en <code>ACCEPT_LICENSE</code> se prefijan con un el símbolo <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">@</kbd>. Un ajuste que se demanda frecuentemente es el de permitir únicamente la instalación de software y documentación libres. Para conseguir esto, se pueden eliminar todas las licencias aceptadas (mediante <code>-*</code>) y a continuación permitir solo las licencias en el grupo FREE, tal y como se muestra a continuación:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Aceptar sólo software y documentación libre</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>ACCEPT_LICENSE=&quot;-* @FREE&quot;
</pre></div></pre>
<p>En este caso, "free" está definido por la FSF y la OSI. Cualquier paquete cuya licencia no se ajuste a estos requisitos no se podrá instalar en su sistema.
</p>
<h2><span class="mw-headline" id="Cuando_Portage_se_queja...">Cuando Portage se queja...</span></h2>
<h3><span class="mw-headline" id="Terminolog.C3.ADa">Terminología</span></h3>
<p>Como mencionamos anteriormente, Portage es muy potente y soporta muchas características de las que carecen otras herramientas de gestión de software. Para comprender esto, explicaremos unos cuantos aspectos de Portage sin profundizar demasiado en los detalles.
</p><p>Con Portage, diferentes versiones de un mismo paquete pueden coexistir en un sistema. Mientras otras distribuciones tienden a renombrar el paquete con sus versiones (por ejemplo freetype and freetype2). Portage usa una tecnología llamada <i>SLOTs (ranuras)</i>. Un ebuild declara un cierto SLOT para su versión. Ebuilds con diferentes SLOTs pueden coexistir en el mismo sistema. Por ejemplo, el paquete freetype tiene ebuilds con SLOT="1" y SLOT="2".
</p><p>También existen paquetes que proporcionan la misma funcionalidad pero están implementados de maneras distintas. Por ejemplo, metalogd, sysklogd y syslog-ng son todos paquetes de registro del sistema. Aplicaciones que necesitan la disponibilidad de un "registrador del sistema" no pueden depender, por ejemplo, de metalogd, ya que el resto de registradores del sistema son igualmente válidos. Portage permite virtuals: cada paquete de registro del sistema se lista como una dependencia "exclusiva" del servicio de registro en el paquete <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/virtual/logger">virtual/logger</a> de la categoría virtual, de esta forma las aplicaciones pueden depender del paquete virtual/logger. Cuando se instala el paquete, se obtendrá el primer paquete de registro mencionado, a menos que ya se haya instalado previamente un paquete que ofrezca el servicio (en este caso, la dependencia virtual ya está satisfecha).
</p><p>Los programas en el árbol Portage puede residir en diferentes ramas. Por defecto, su sistema solamente acepta paquetes que Gentoo considera estables. La mayoría de los paquetes nuevos, cuando son aceptados, ingresan en la rama inestable. Esto implica que necesitan hacerse más pruebas antes de marcarlo como estable. Aunque puede ver los ebuilds de ese software en su árbol de Portage, Portage no los actualizará hasta que sean marcados como estables.
</p><p>Algunos programas solo están disponibles para unas pocas arquitecturas. O los programas no funcionan en otras arquitecturas, o necesitan más pruebas, o el desarrollador que añade el programa a Portage no es capaz de verificar si el paquete funciona en diferentes arquitecturas.
</p><p>Cada instalación de Gentoo adhiere un cierto perfil el cual contiene, entre otra información, la lista de paquetes necesarios para que el sistema funcione normalmente.
</p>
<h3><span class="mw-headline" id="Paquetes_bloqueados">Paquetes bloqueados</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre paquetes bloqueados (con --pretend)</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>[blocks B     ] mail-mta/ssmtp (is blocking mail-mta/postfix-2.2.2-r1)
</pre></div></pre></div>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre paquetes bloqueados (sin --pretend)</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>!!! Error: the mail-mta/postfix package conflicts with another package.
!!!        both can&#39;t be installed on the same system together.
!!!        Please use &#39;emerge --pretend&#39; to determine blockers.
</pre></div></pre></div>
<p>Los Ebuilds contienen campos específicos que informan a Portage sobre sus dependencias. Hay dos posibles dependencias: dependencias de compilación, declaradas en DEPEND y dependencias en tiempo de ejecución, declaradas en RDEPEND. Cuando una de estas dependencias marca explícitamente un paquete o paquete virtual como no compatible, se dispara un bloqueo.
</p><p>Aunque las versiones recientes de Portage son lo suficientemente inteligentes para resolver los bloqueos de menor importancia sin necesidad de la intervención del usuario, ocasionalmente necesitará resolverlo a mano como se explica abajo.
</p><p>Para solucionar un bloqueo, puede elegir no instalar el paquete o desinstalar primero el paquete conflictivo. En el ejemplo anterior, puedes optar por no instalar postfix o eliminar primero ssmtp.
</p><p>También puede ocurrir que vea los paquetes en conflicto con operadores lógicos concretos, como por ejemplo <code>&lt;media-video/mplayer-1.0_rc1-r2</code>. En este caso, actualizar a la versión más reciente del paquete bloqueante debería eliminar el bloqueo.
</p><p>También es posible que dos paquetes que aún no se han instalado se estén bloqueando mutuamente. En este caso (poco frecuente), se debería investigar por que necesitamos instalar ambos. En la mayoría de los casos se puede realizar con uno solo de los paquetes. Si no, por favor envíe un informe de error al sistema de seguimiento de errores de Gentoo.
</p>
<h3><span class="mw-headline" id="Paquetes_enmascarados_.28masked.29">Paquetes enmascarados (masked)</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre paquetes enmascarados</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>!!! all ebuilds that could satisfy &quot;bootsplash&quot; have been masked.
</pre></div></pre></div>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre paquetes enmascarados - razon</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>!!! possible candidates are:
  
- gnome-base/gnome-2.8.0_pre1 (masked by: ~x86 keyword)
- lm-sensors/lm-sensors-2.8.7 (masked by: -sparc keyword)
- sys-libs/glibc-2.3.4.20040808 (masked by: -* keyword)
- dev-util/cvsd-1.0.2 (masked by: missing keyword)
- games-fps/unreal-tournament-451 (masked by: package.mask)
- sys-libs/glibc-2.3.2-r11 (masked by: profile)
- net-im/skype-2.1.0.81 (masked by: skype-eula license(s))
</pre></div></pre></div>
<p>Cuando quiera instalar un paquete que no está disponible para su sistema, recibirá un error de enmascaramiento. Debería probar a instalar una aplicación distinta que este disponible para su sistema o esperar hasta que el paquete este disponible. Siempre hay una razón para que un paquete esté enmascarado:
</p>
<dl><dt>~arch keyword</dt>
<dd>la aplicación no esta probada lo suficiente para ser parte de la rama estable. Espere unos cuantos días o semanas y vuelva a intentarlo.</dd>
<dt>-arch keyword o -* keyword</dt>
<dd>la aplicación no funciona en su arquitectura. Si cree que el paquete funcionará, cree un bug en nuestro sitio web bugzilla.</dd>
<dt>missing keyword</dt>
<dd>la aplicación aún no ha sido probada para su arquitectura. Pida al correspondiente equipo de arquitectura que pruebe el paquete o pruébelo por ellos e informe de su experiencia en nuestro sitio web bugzilla.</dd>
<dt>package.mask</dt>
<dd>implica que el paquete se ha encontrado corrupto, inestable o peor y ha sido marcada deliberadamente para que no se use.</dd>
<dt>profile</dt>
<dd>el paquete no está disponible para su perfil. La aplicación podría romper su sistema si la instala o no es compatible con el perfil que está usando.</dd>
<dt>license</dt>
<dd>la licencia del paquete no es compatible con su ajuste ACCEPT_LICENSE. Debe permitir explícitamente su licencia o grupo de licencias ajustándolo en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> o en <span style="font-family: monospace; font-size: 95%">/etc/portage/package.license</span></dd></dl>
<h3><span class="mw-headline" id="Cambios_necesarios_en_los_ajustes_USE">Cambios necesarios en los ajustes USE</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre necesidad de cambiar un ajuste USE</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>The following USE changes are necessary to proceed:
#required by app-text/happypackage-2.0, required by happypackage (argument)
&gt;=app-text/feelings-1.0.0 test
</pre></div></pre></div>
<p>También puede que se muestre el siguiente mensaje de error, si no se ha habilitado <code>--autounmask</code>:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Error de Portage por ser necesario cambiar un ajuste USE</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>emerge: there are no ebuilds built with USE flags to satisfy &quot;app-text/feelings[test]&quot;.
!!! One of the following packages is required to complete your request:
- app-text/feelings-1.0.0 (Change USE: +test)
(dependency required by &quot;app-text/happypackage-2.0&quot; [ebuild])
(dependency required by &quot;happypackage&quot; [argument])
</pre></div></pre></div>
<p>Esta advertencia y error suceden cuando se quiere instalar un paquete que no solo depende de otro paquete, sino que requiere que ese paquete se haya construido con un ajuste USE en particular (o un conjunto de ajustes USE). En el ejemplo dado, el paquete app-text/feelings necesita construirse con USE="test", sin embargo, este ajuste USE no está habilitado en el sistema.
</p><p>Para resolver esta situación, puede añadir el ajuste USE requerido a sus ajustes globales en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>, o definirlo específicamente para el paquete en <span style="font-family: monospace; font-size: 95%">/etc/portage/package.use</span>.
</p>
<h3><span class="mw-headline" id="Dependencias_perdidas">Dependencias perdidas</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre falta de dependencias</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>emerge: there are no ebuilds to satisfy &quot;&gt;=sys-devel/gcc-3.4.2-r4&quot;.
  
!!! Problem with ebuild sys-devel/gcc-3.4.2-r2
!!! Possibly a DEPEND/*DEPEND problem.
</pre></div></pre></div>
<p>La aplicación que está tratando instalar depende de otro paquete que no esta disponible para su sistema. Por favor, compruebe bugzilla para ver si el problema se conoce o no, en este caso informe de ello. A menos que este mezclando ramas esto no debería ocurrir y lo consideraremos un error.
</p>
<h3><span class="mw-headline" id="Nombre_ambiguo_del_Ebuild">Nombre ambiguo del Ebuild</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre nombres de ebuilds ambiguos</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>[ Results for search key : listen ]
[ Applications found : 2 ]
  
*  dev-tinyos/listen [ Masked ]
      Latest version available: 1.1.15
      Latest version installed: [ Not Installed ]
      Size of files: 10,032 kB
      Homepage:      http://www.tinyos.net/
      Description:   Raw listen for TinyOS
      License:       BSD
  
*  media-sound/listen [ Masked ]
      Latest version available: 0.6.3
      Latest version installed: [ Not Installed ]
      Size of files: 859 kB
      Homepage:      http://www.listen-project.org
      Description:   A Music player and management for GNOME
      License:       GPL-2
  
!!! The short ebuild name &quot;listen&quot; is ambiguous. Please specify
!!! one of the above fully-qualified ebuild names instead.
</pre></div></pre></div>
<p>La aplicación que quiere instalar tiene un nombre que corresponde con más de un paquete. Necesita aportar también el nombre de la categoría. Portage le informará de los posibles casos entre los que puede elegir.
</p>
<h3><span class="mw-headline" id="Dependencias_circulares">Dependencias circulares</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre dependencias circulares</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>!!! Error: circular dependencies: 
  
ebuild / net-print/cups-1.1.15-r2 depends on ebuild / app-text/ghostscript-7.05.3-r1
ebuild / app-text/ghostscript-7.05.3-r1 depends on ebuild / net-print/cups-1.1.15-r2
</pre></div></pre></div>
<p>Dos (o más) paquetes que quiere instalar dependen uno de otro y, por tanto, no pueden instalarse. Esto casi siempre se considera un error en el árbol Portage. Por favor, vuelva a sincronizar después de un tiempo e inténtelo de nuevo. También puede comprobar bugzilla para saber si se tiene conocimiento sobre el tema o si no, en cuyo caso informe sobre ello.
</p>
<h3><span class="mw-headline" id="Fallo_en_la_descarga">Fallo en la descarga</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre error en la descarga</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>!!! Fetch failed for sys-libs/ncurses-5.4-r5, continuing...
(...)
!!! Some fetch errors were encountered.  Please see above for details.
</pre></div></pre></div>
<p>Portage no es capaz de descargar las fuentes para una aplicación específica y tratará de continuar instalando el resto de aplicaciones (si es posible). Este fallo puede deberse a que un servidor réplica no esta bien sincronizado o a que el ebuild apunta a una localización incorrecta. El servidor donde residen las fuentes podría estar caído por alguna razón.
</p><p>Pruebe después de una hora y vea si el problema persiste.
</p>
<h3><span class="mw-headline" id="Protecci.C3.B3n_del_perfil_del_sistema">Protección del perfil del sistema</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Aviso de Portage sobre paquete protegido por el perfil</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>!!! Trying to unmerge package(s) in system profile. &#39;sys-apps/portage&#39;
!!! This could be damaging to your system.
</pre></div></pre></div>
<p>Está intentando eliminar un paquete que es parte fundamental de su sistema. Éste se haya en su perfil y es necesario, por tanto, no debería ser eliminado del sistema.
</p>
<h3><span class="mw-headline" id="Errores_en_la_verificaci.C3.B3n_de_la_integridad_.28digest.29">Errores en la verificación de la integridad (digest)</span></h3>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Error de verificación de integridad</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&gt;&gt;&gt; checking ebuild checksums
!!! Digest verification failed:
</pre></div></pre></div>
<p>Esta es una señal que hay algún problema con el árbol Portage -- muchas veces esto es porque un desarrollador ha cometido una equivocación al ingresar un paquete en el árbol.
</p><p>Cuando falla la verificación de la integridad (digest), no intente recalcularla. El ejecutar <code>ebuild foo manifest</code> no va a resolver el problema; seguramente ¡lo empeorará!
</p><p>En lugar de esto, espere una o dos hora que el árbol estabilice. Es probable que el error haya sido detectado enseguida, pero podrá tomar algún tiempo para que propague la corrección al árbol Portage. Mientras espera, revise Bugzilla a ver si alguien ya ha reportado el problema o pregunte en #gentoo (IRC). Si no, siga adelante y cree un "bug" reportando el paquete roto.
</p><p>Una vez que compruebe que el error ha sido reparado, tal vez quiera re-sincronizar para recoger la suma de control reparada.
</p>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />Esto no implica que vaya re-sincronizar su árbol Portage múltiples veces! Tal como se establece en la directriz de rsync (al ejecutar <code>emerge --sync</code>), los usuarios que sincronicen con demasiada frecuencia ¡serán bloqueados! De hecho, es mejor esperar a su próxima sincronización programada para no sobrecargar los servidores rsync.</div>
<p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Finalizing/es.html" title="Previous part" class="btn btn-default">&#8592; Finalizar</a> <a href="../../es.html" title="Handbook:AMD64/es" class="btn btn-default">Home</a> <a href="../../Working/USE/es.html" title="Next part" class="btn btn-default">Ajustes USE &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Working.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">español</span> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/ワーキング (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Working/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="ru.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/使用Gentoo (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #aaaaaa; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:left;">
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Instalación
</th></tr>
<tr>
<td> <a href="../../Installation/About/es.html" title="Handbook:AMD64/Installation/About/es">Acerca de la instalación</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/es.html" title="Handbook:AMD64/Installation/Media/es">Elegir los medios</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/es.html" title="Handbook:AMD64/Installation/Networking/es">Configurar la red</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/es.html" title="Handbook:AMD64/Installation/Disks/es">Preparar los discos</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/es.html" title="Handbook:AMD64/Installation/Stage/es">Instalar el stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/es.html" title="Handbook:AMD64/Installation/Base/es">Instalar el sistema base</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/es.html" title="Handbook:AMD64/Installation/Kernel/es">Configurar el núcleo</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/es.html" title="Handbook:AMD64/Installation/System/es">Configurar el sistema</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/es.html" title="Handbook:AMD64/Installation/Tools/es">Instalar herramientas</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/es.html" title="Handbook:AMD64/Installation/Bootloader/es">Configurar el cargador de arranque</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/es.html" title="Handbook:AMD64/Installation/Finalizing/es">Terminar</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/es.html" title="Handbook:AMD64/Working/Portage/es">Introducción a Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/es.html" title="Handbook:AMD64/Working/USE/es">Ajustes USE</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/es.html" title="Handbook:AMD64/Working/Features/es">Características de Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/es.html" title="Handbook:AMD64/Working/Initscripts/es">Guiones de inicio</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/es.html" title="Handbook:AMD64/Working/EnvVar/es">Variables de entorno</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/es.html" title="Handbook:AMD64/Portage/Files/es">Archivos y directorios</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/es.html" title="Handbook:AMD64/Portage/Variables/es">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/es.html" title="Handbook:AMD64/Portage/Branches/es">Mezclar ramas de software</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/es.html" title="Handbook:AMD64/Portage/Tools/es">Herramientas adicionales</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/es.html" title="Handbook:AMD64/Portage/CustomTree/es">Árbol de Portage personalizado</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/es.html" title="Handbook:AMD64/Portage/Advanced/es">Características avanzadas</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Configuración de la red
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/es.html" title="Handbook:AMD64/Networking/Introduction/es">Comenzando</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/es.html" title="Handbook:AMD64/Networking/Advanced/es">Configuración avanzada</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/es.html" title="Handbook:AMD64/Networking/Modular/es">Configuración de red modular</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/es.html" title="Handbook:AMD64/Networking/Wireless/es">Redes inalámbricas</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/es.html" title="Handbook:AMD64/Networking/Extending/es">Añadir funcionalidad</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/es.html" title="Handbook:AMD64/Networking/Dynamic/es">Gestión dinámica</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".C2.BFQu.C3.A9_son_los_ajustes_USE.3F">¿Qué son los ajustes USE?</span></h2>
<h3><span class="mw-headline" id="Las_ideas_que_hay_detr.C3.A1s_de_los_ajustes_USE">Las ideas que hay detrás de los ajustes USE</span></h3>
<p>Mientras esté instalando Gentoo (o cualquier otra distribución, incluso otro sistema operativo), tomará varias decisiones dependiendo del entorno en el que esté trabajando. Una instalación para un servidor es distinta a una para una estación de trabajo. También una estación de trabajo dedicada a juegos es diferente a una estación de trabajo que se use para renderizados en 3D.
</p><p>Estas diferencias no solo dependen de los paquetes instalados, si no también de las características para las que ciertos paquetes tienen soporte. Si no necesita OpenGL, ¿para qué molestarse en instalar OpenGL y construir la mayoría de sus aplicaciones con soporte OpenGL? Si no quiere usar KDE, ¿para qué molestarte en compilar paquetes con soporte para KDE si podrían funcionar perfectamente sin él?
</p><p>Para ayudar a los usuarios a decidir qué instalar/activar o no, necesitamos que el usuario especifique su entorno de una manera sencilla. Esto obliga al usuario a decidir que es lo que realmente quiere; además de facilitar a Portage, nuestro sistema de gestión de paquetes, la tarea de tomar decisiones útiles.
</p>
<h3><span class="mw-headline" id="Definici.C3.B3n_de_un_ajuste_USE">Definición de un ajuste USE</span></h3>
<p>Comencemos por definir qué son los ajustes USE. Un ajuste USE es una palabra clave que incorpora información de soporte y dependencias para un concepto en concreto. Si define un determinado ajuste USE, Portage sabrá que el usuario desea soporte para la palabra clave escogida. Por supuesto, también altera las dependencias de un paquete.
</p><p>Veamos un ejemplo específico: la palabra clave kde. Si no la tiene en su variable USE, todos los paquetes que tengan soporte opcional para KDE se construirán <i>sin</i> él. Los que tengan una dependencia opcional con KDE se instalarán sin instalar las librerías de KDE (como dependencia). Si ha definido la palabra clave kde, entonces dichos paquetes sí se construirán <i>con</i> soporte para KDE, y las librería de KDE <i>serán</i> instaladas.
</p><p>Definiendo correctamente las palabras clave, conseguirá un sistema confeccionado específicamente para sus necesidades.
</p>
<h3><span class="mw-headline" id=".C2.BFQu.C3.A9_ajustes_USE_existen.3F">¿Qué ajustes USE existen?</span></h3>
<p>Hay dos tipos de ajustes USE: globales y locales.
</p>
<ul><li> Un <i>ajuste USE global</i> lo usan varios paquetes, en todo el sistema. Es lo que la mayoría de la gente entiende como ajustes USE.</li>
<li> Un <i>ajuste USE local</i> lo utiliza un solo paquete para tomar decisiones específicas para dicho paquete.</li></ul>
<p>Puede encontrar una lista de los ajustes USE globales <a rel="nofollow" class="external text" href="https://www.gentoo.org/dyn/use-index.xml#doc_chap1">en línea</a> o localmente en <span style="font-family: monospace; font-size: 95%">/usr/portage/profiles/use.desc</span>.
</p><p>Se puede encontrar una lista de los ajustes USE locales <a rel="nofollow" class="external text" href="https://www.gentoo.org/dyn/use-index.xml#doc_chap2">en línea</a> o localmente en <span style="font-family: monospace; font-size: 95%">/usr/portage/profiles/use.local.desc</span>.
</p>
<h2><span class="mw-headline" id="Usando_los_ajustes_USE">Usando los ajustes USE</span></h2>
<h3><span class="mw-headline" id="Declarar_ajustes_USE_permanentes">Declarar ajustes USE permanentes</span></h3>
<p>Como ya se ha dicho anteriormente, todos los ajustes USE se declaran dentro de la variable USE. Para simplificar al usuario la tarea de buscar y escoger ajustes USE, ya proporcionamos una configuración predeterminada. Esta configuración es un compendio de ajustes que creemos se utilizan frecuentemente por los usuarios de Gentoo. Dicha configuración predeterminada se declara en los ficheros <span style="font-family: monospace; font-size: 95%">make.defaults</span> que forman parte de su perfil.
</p><p>El perfil al que atiende su sistema lo indica el enlace simbólico <span style="font-family: monospace; font-size: 95%">/etc/portage/make.profile</span>. Cada perfil funciona sobre otro, más extenso, y el resultado final es una suma de todos ellos. El perfil más alto es el perfil base (<span style="font-family: monospace; font-size: 95%">/usr/portage/profiles/base</span>).
</p><p>Para ver los ajustes USE activados (permanentemente), use <code>emerge --info</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --info | grep ^USE</code></div><pre>
USE=&quot;a52 aac acpi alsa branding cairo cdr dbus dts ...&quot;
</pre></div>
<p>Como puede ver, esta variable contiene bastantes palabras clave. No modifique el fichero <span style="font-family: monospace; font-size: 95%">make.defaults</span> para ajustar la variable USE a sus necesidades: ¡los cambios se perderán al actualizar el árbol del Portage!
</p><p>Para modificar esta configuración predeterminada, necesita añadir o eliminar palabras clave a la variable USE. Para llevarlo a cabo, se define la variable USE en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>. En esta variable añada los ajustes USE que necesite o elimine los que no quiera. Para eliminarlos coloque el símbolo menos (<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">-</kbd>) delante.
</p><p>Por ejemplo, para eliminar el soporte para KDE y QT además de añadir soporte para ldap, puede definirse el siguiente ajuste USE en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Modificación de USE en make.conf</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">USE</span><span class="o">=</span><span class="s2">&quot;-kde -qt4 ldap&quot;</span>
</pre></div></pre>
<h3><span class="mw-headline" id="Declarar_ajustes_USE_para_paquetes_espec.C3.ADficos">Declarar ajustes USE para paquetes específicos</span></h3>
<p>A veces le interesará establecer un cierto ajuste USE tan solo para una o dos aplicaciones, pero no para todo el sistema. Para solventar, esto necesitará editar <span style="font-family: monospace; font-size: 95%">/etc/portage/package.use</span>. Esta ruta es generalmente un único fichero pero podria ser un directorio; vea <code>man portage</code> para más información. Los siguientes ejemplos asumirán que <span style="font-family: monospace; font-size: 95%">package.use</span> es un único fichero.
</p><p>Por ejemplo, si no le interesa soporte global para berkdb pero lo quiere para mysql, necesita añadir:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/package.use</code></strong><strong>Habilitar soporte berkdb para MySQL</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>dev-db/mysql berkdb
</pre></div></pre>
<p>Por supuesto también puede desactivar el empleo específico de un ajuste USE para una aplicación en concreto. Por ejemplo si no quiere soporte para java en PHP (pero lo quiere para otros paquetes al declarar ese ajuste USE en <span style="font-family: monospace; font-size: 95%">make.conf</span>):
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/package.use</code></strong><strong>Deshabilitar soporte java en PHP</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>dev-php/php -java
</pre></div></pre>
<h3><span class="mw-headline" id="Declarar_ajustes_USE_temporales">Declarar ajustes USE temporales</span></h3>
<p>A veces necesitará utilizar una cierta configuración de USE tan solo una vez. En lugar de editar <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> dos veces (una para hacer y otra para deshacer los cambios) puede declarar la variable USE como una variable de entorno. Recuerde que, si utiliza este método, cuando vuelva a emerger o actualice este aplicación (tanto si es particular como si forma parte de una actualización del sistema) ¡Perderá los cambios!
</p><p>Como ejemplo, vamos a eliminar temporalmente el ajuste USE java durante la instalación de seamonkey.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>USE="-java" emerge seamonkey</code></div></div>
<h3><span class="mw-headline" id="Precedencia">Precedencia</span></h3>
<p>Por supuesto, hay una determinada precedencia respecto a qué configuración tiene prioridad sobre la configuración del USE. La precedencia para la configuración del USE es (el primero tiene la mínima prioridad):
</p>
<ol><li> Configuración predeterminada de USE declarada en los archivos <span style="font-family: monospace; font-size: 95%">make.defaults</span> de su perfil.</li>
<li> Configuración definida por el usuario en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span></li>
<li> Configuración definida por el usuario en <span style="font-family: monospace; font-size: 95%">/etc/portage/package.use</span></li>
<li> Configuración definida por el usuario como variable de entorno</li></ol>
<p>Para observar el valor final del USE tal y como lo verá Portage, ejecute <code>emerge --info</code>. Se listarán una serie de variables importantes (incluyendo la variable USE) con sus valores correspondientes.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --info</code></div></div>
<h3><span class="mw-headline" id="Adaptar_su_sistema_completamente_a_los_nuevos_ajustes_USE">Adaptar su sistema completamente a los nuevos ajustes USE</span></h3>
<p>Si ha cambiado sus ajustes USE y desea actualizar todo su sistema para que utilice el nuevo ajuste, utilice la opción de <code>emerge</code> llamada <code>--newuse</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --update --deep --newuse @world</code></div></div>
<p>A continuación, ejecute una limpieza completa de Portage para eliminar las dependencias que habían sido instaladas en su "antiguo" sistema pero que han quedado obsoletas por los nuevos ajustes USE.
</p>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Advertencia</strong><br />Ejecutar <code>emerge --depclean</code> es una operación peligrosa y debería tratarse con cuidado. Revise en profundidad la lista de paquetes "obsoletos" y asegúrese de que no elimina ningún paquete que necesite. En el siguiente ejemplo hemos añadido <code>-p</code> para mostrar la lista de paquetes que serían eliminados pero sin eliminarlos físicamente. 
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge -p --depclean</code></div></div>
</div>
<p>Cuando haya finalizado la limpieza, ejecute <code>revdep-rebuild</code> para recompilar las aplicaciones que están enlazadas dinámicamente con los objetos que proporcionaban los paquetes eliminados. <code>revdep-rebuild</code> forma parte del paquete <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-portage/gentoolkit">app-portage/gentoolkit</a>; no olvide instalarlo antes con emerge.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>revdep-rebuild</code></div></div>
<p>Cuando todo esto haya terminado, su sistema estará utilizando la nueva configuración de los ajustes USE.
</p>
<h2><span class="mw-headline" id="Ajuste_USE_espec.C3.ADficos_de_un_paquete">Ajuste USE específicos de un paquete</span></h2>
<h3><span class="mw-headline" id="Viendo_los_ajustes_USE_disponibles">Viendo los ajustes USE disponibles</span></h3>
<p>Veamos el ejemplo de seamonkey: ¿Qué ajustes USE influyen sobre él? Para averiguarlo, usamos <code>emerge</code> con las opciones <code>--pretend</code> (simula llevar a cabo la acción) y <code>--verbose</code> (obtener una salida más detallada):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --pretend --verbose seamonkey</code></div><pre>
These are the packages that I would merge, in order:
  
Calculating dependencies ...done!
[ebuild   R   ] www-client/seamonkey-1.0.7  USE=&quot;crypt gnome java -debug -ipv6
-ldap -mozcalendar -mozdevelop -moznocompose -moznoirc -moznomail -moznopango
-moznoroaming -postgres -xinerama -xprint&quot; 0 kB
</pre></div>
<p><code>emerge</code> no es la única herramienta disponible para esta labor. De hecho, tenemos una herramienta llamada <code>equery</code> dedicada a obtener información sobre los paquetes; la cual se encuentra en el paquete <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-portage/gentoolkit">app-portage/gentoolkit</a>. En primer lugar, instale gentoolkit:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask app-portage/gentoolkit</code></div></div> 
<p>Ahora ejecute equery con el argumento uses para ver los ajustes USE de un paquete en concreto. Por ejemplo, en el caso del paquete gnumeric:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>equery --nocolor uses =gnumeric-1.6.3 -a</code></div><pre>
[ Searching for packages matching =gnumeric-1.6.3... ]
[ Colour Code&#160;: set unset ]
[ Legend&#160;: Left column  (U) - USE flags from make.conf              ]
[       &#160;: Right column (I) - USE flags packages was installed with ]
[ Found these USE variables for app-office/gnumeric-1.6.3 ]
 U I
 - - debug &#160;: Enable extra debug codepaths, like asserts and extra output.
              If you want to get meaningful backtraces see
              http://www.gentoo.org/proj/en/qa/backtraces.xml .
 + + gnome &#160;: Adds GNOME support
 + + python&#160;: Adds support/bindings for the Python language
 - - static&#160;:&#160;!!do not set this during bootstrap!! Causes binaries to be
              statically linked instead of dynamically
</pre></div>
<h2><span class="mw-headline" id="Satisfacer_condiciones_REQUIRED_USE">Satisfacer condiciones REQUIRED_USE</span></h2>
<p>Algunos ebuilds obligan o prohíben ciertas combinaciones en los ajustes USE para funcionar correctamente. Estas se expresan mediante una condicion <code>REQUIRED_USE</code>. Así se asegura que, todas las funciones y dependencias están completas, que la construcción tenga éxito y que todo funcione como se espera. Si alguna condición no se cumple, emerge le avisará y le pedirá que corrija el problema.
</p><p>A continuación se muestran algunas condiciones de ejemplo.
</p>
<table class="table">

<tr style="vertical-align: top; white-space: nowrap;">
<th> Ejemplo
</th>
<th> Descripción
</th></tr>
<tr>
<td> <code>REQUIRED_USE="foo? ( bar )"</code>
</td>
<td> Si se activa <code>foo</code>, se debe activar <code>bar</code>
</td></tr>
<tr>
<td> <code>REQUIRED_USE="foo? (&#160;!bar )"</code>
</td>
<td> Si se activa <code>foo</code>, no se debe activar <code>bar</code>
</td></tr>
<tr>
<td> <code>REQUIRED_USE="foo? ( || ( bar baz ) )"</code>
</td>
<td> Si se activa <code>foo</code>, se debe activar <code>bar</code> o <code>baz</code>
</td></tr>
<tr>
<td> <code>REQUIRED_USE="^^ ( foo bar baz )"</code>
</td>
<td> Se debe activar exactamente uno de los ajustes <code>foo</code> <code>bar</code> o <code>baz</code>
</td></tr>
<tr>
<td> <code>REQUIRED_USE="|| ( foo bar baz )"</code>
</td>
<td> Se debe activar al menos uno de los ajustes <code>foo</code> <code>bar</code> o <code>baz</code>
</td></tr>
<tr>
<td> <code>REQUIRED_USE="?? ( foo bar baz )"</code>
</td>
<td> Se puede activar no mas de uno de los ajustes <code>foo</code> <code>bar</code> o <code>baz</code>
</td></tr></table>
<p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Working/Portage/es.html" title="Previous part" class="btn btn-default">&#8592; Introducción a Portage</a> <a href="../../es.html" title="Handbook:AMD64/es" class="btn btn-default">Inicio</a> <a href="../../Working/Features/es.html" title="Next part" class="btn btn-default"> &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Working.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">español</span> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/ワーキング (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Working/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="ru.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/使用Gentoo (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #aaaaaa; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:left;">
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Instalación
</th></tr>
<tr>
<td> <a href="../../Installation/About/es.html" title="Handbook:AMD64/Installation/About/es">Acerca de la instalación</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/es.html" title="Handbook:AMD64/Installation/Media/es">Elegir los medios</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/es.html" title="Handbook:AMD64/Installation/Networking/es">Configurar la red</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/es.html" title="Handbook:AMD64/Installation/Disks/es">Preparar los discos</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/es.html" title="Handbook:AMD64/Installation/Stage/es">Instalar el stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/es.html" title="Handbook:AMD64/Installation/Base/es">Instalar el sistema base</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/es.html" title="Handbook:AMD64/Installation/Kernel/es">Configurar el núcleo</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/es.html" title="Handbook:AMD64/Installation/System/es">Configurar el sistema</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/es.html" title="Handbook:AMD64/Installation/Tools/es">Instalar herramientas</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/es.html" title="Handbook:AMD64/Installation/Bootloader/es">Configurar el cargador de arranque</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/es.html" title="Handbook:AMD64/Installation/Finalizing/es">Terminar</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/es.html" title="Handbook:AMD64/Working/Portage/es">Introducción a Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/es.html" title="Handbook:AMD64/Working/USE/es">Ajustes USE</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/es.html" title="Handbook:AMD64/Working/Features/es">Características de Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/es.html" title="Handbook:AMD64/Working/Initscripts/es">Guiones de inicio</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/es.html" title="Handbook:AMD64/Working/EnvVar/es">Variables de entorno</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/es.html" title="Handbook:AMD64/Portage/Files/es">Archivos y directorios</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/es.html" title="Handbook:AMD64/Portage/Variables/es">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/es.html" title="Handbook:AMD64/Portage/Branches/es">Mezclar ramas de software</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/es.html" title="Handbook:AMD64/Portage/Tools/es">Herramientas adicionales</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/es.html" title="Handbook:AMD64/Portage/CustomTree/es">Árbol de Portage personalizado</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/es.html" title="Handbook:AMD64/Portage/Advanced/es">Características avanzadas</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Configuración de la red
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/es.html" title="Handbook:AMD64/Networking/Introduction/es">Comenzando</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/es.html" title="Handbook:AMD64/Networking/Advanced/es">Configuración avanzada</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/es.html" title="Handbook:AMD64/Networking/Modular/es">Configuración de red modular</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/es.html" title="Handbook:AMD64/Networking/Wireless/es">Redes inalámbricas</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/es.html" title="Handbook:AMD64/Networking/Extending/es">Añadir funcionalidad</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/es.html" title="Handbook:AMD64/Networking/Dynamic/es">Gestión dinámica</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Caracter.C3.ADsticas_de_Portage">Características de Portage</span></h2>
<p>Portage tiene varias características adicionales que hacen de su experiencia con Gentoo algo mucho mejor. Muchas de estas características residen en ciertas herramientas software que mejoran el rendimiento, la estabilidad, la seguridad, ...
</p><p>Para activar o desactivar ciertas características de Portage necesita editar la variable <var>FEATURES</var> del archivo <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>. Esta variable contiene una lista con las palabras clave de cada característica separadas por un espacio en blanco. En algunos casos necesita además instalar la herramienta que implementa la característica.
</p><p>No todas las características que soporta Portage están aquí reflejadas. Para una consulta completa por favor revise la página de la ayuda referente a <span style="font-family: monospace; font-size: 95%">make.conf</span>
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>man make.conf</code></div></div>
<p>Para conocer qué características están siendo utilizadas por defecto, ejecute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge --info</span> y busque la variable <var>FEATURES</var> o utilice <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grep</span>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>emerge --info | grep ^FEATURES=</code></div></div>
<h2><span class="mw-headline" id="Compilaci.C3.B3n_Distribuida">Compilación Distribuida</span></h2>
<h3><span class="mw-headline" id="Usar_distcc">Usar distcc</span></h3>
<p><span style="font-family: monospace; font-size: 95%; font-weight: bold;">distcc</span> es un programa para distribuir un trabajo de compilación a través de muchas, no necesariamente idénticas, máquinas en una red. Los clientes de distcc envían toda la información necesaria a los servidores DistCC disponibles (corriendo distccd) así pueden compilar trozos de código fuente para el cliente. El resultado final, es un tiempo de compilación más rápido.
</p><p>Puede encontrar información más detallada sobre distcc (e información de como tenerlo funcionando sobre Gentoo) en el artículo sobre <a href="../../../Distcc.html" title="Distcc">Distcc</a>.
</p>
<h3><span class="mw-headline" id="Instalar_distcc">Instalar distcc</span></h3>
<p>Distcc se distribuye con un monitor gráfico para monitorizar las tareas que su computador está enviando para compilar. Esta herramienta es instalada automáticamente si activa <code>USE=gnome</code> o <code>USE=gtk</code>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-devel/distcc</code></div></div> 
<h3><span class="mw-headline" id="Activar_el_soporte_en_Portage">Activar el soporte en Portage</span></h3>
<p>Añada distcc a la variable <var>FEATURES</var> dentro de <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>. Hecho esto, edite la variable <var>MAKEOPTS</var> e incremente a la cantidad de trabajos de compilación en paralelo que su sistema permite. Una pauta conocida para configurarla es poner -jX con X representando el número de CPUs que ejecutan distccd (incluyendo la máquina local) más uno, pero quizá obtenga mejores resultados con otros números.
</p><p>Ahora ejecute <span style="font-family: monospace; font-size: 95%; font-weight: bold;">distcc-config</span> y cree una lista de los servidores distcc disponibles. Para un ejemplo simple, supondremos que los servidores DistCC son 192.168.1.102 (el host local), 192.168.1.103 y 192.168.1.104 (los dos hosts "remotos"):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>distcc-config --set-hosts "192.168.1.102 192.168.1.103 192.168.1.104"</code></div></div>
<p>Por supuesto, no se olvide ejecutar también el demonio distccd:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add distccd default
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/distccd start</code></div></div>
<h2><span class="mw-headline" id="Compilaci.C3.B3n_utilizando_cach.C3.A9">Compilación utilizando caché</span></h2>
<h3><span class="mw-headline" id="Acerca_de_ccache">Acerca de ccache</span></h3>
<p><span style="font-family: monospace; font-size: 95%; font-weight: bold;">ccache</span> es un caché de compilación rápida. Cuando compila un programa, puede guardar resultados intermedios, de forma que, si recompila el mismo programa, el tiempo de compilación se reducirá ampliamente. La primera vez que se ejecuta ccache, ésta será más lenta que una compilación normal. Recompilaciones posteriores deberían ser más rápidas. La herramienta ccache solo es útil si va a recompilar la misma aplicación muchas veces; por lo tanto en la mayoría de los casos es útil únicamente para los desarrolladores de software.
</p><p>Para mas información sobre ccache, visite su <a rel="nofollow" class="external text" href="http://ccache.samba.org/">página principal</a>.
</p>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Advertencia</strong><br />ccache puede causar numerosos fallos de compilación. Algunas veces ccache mantendrá objetos con código obsoleto o ficheros corruptos que pueden llevar a que no se pueda hacer emerge de ciertos paquetes. Si esto ocurre (Si obtiene errores como "File not recognized: File truncated"), intente recompilar la aplicación con ccache deshabilitado (<code>FEATURES="-ccache"</code> en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>) antes de informar del error.</div>
<h3><span class="mw-headline" id="Instalar_ccache">Instalar ccache</span></h3>
<p>Para instalar ccache, ejecute la siguiente orden:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask dev-util/ccache</code></div></div> 
<h3><span class="mw-headline" id="Activar_el_soporte_ccache_en_Portage">Activar el soporte ccache en Portage</span></h3>
<p>Primero, edite el fichero <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> y añada a la variable <var>FEATURES</var> la palabra clave <code>ccache</code>. A continuación, añada una nueva variable llamada <var>CCACHE_SIZE</var> y dele el valor <code>2G</code>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Habilitar soporte para ccache en Portage</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">FEATURES</span><span class="o">=</span><span class="s2">&quot;... ccache ...&quot;</span> <span class="nv">CCACHE_SIZE</span><span class="o">=</span><span class="s2">&quot;2G&quot;</span>
</pre></div></pre>
<p>Para comprobar si ccache funciona, pídale a ccache que te muestre las estadísticas. Ya que Portage utiliza un directorio diferente para guardar los datos, se necesita fijar la variable <var>CCACHE_DIR</var> para reflejar ésto:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>CCACHE_DIR="/var/tmp/ccache" ccache -s</code></div></div>
<p>La ruta  <span style="font-family: monospace; font-size: 95%">/var/tmp/ccache/</span> es el directorio por defecto que emplea Portage para ccache; si quiere cambiar esta variable, configure <var>CCACHE_DIR</var> en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>.
</p><p>Sin embargo, si ejecuta simplemente <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ccache</span>, empleará como directorio por defecto <span style="font-family: monospace; font-size: 95%">${HOME}/.ccache/</span>, que es la razón por la cual necesita configurar la variable <var>CCACHE_DIR</var> cuando se le pide a Portage que muestre las estadísticas de ccache.
</p>
<h3><span class="mw-headline" id="Utilizar_ccache_para_compilaciones_de_C_sin_relaci.C3.B3n_con_Portage">Utilizar ccache para compilaciones de C sin relación con Portage</span></h3>
<p>Si quiere utilizar ccache para compilaciones que no tengan que ver con Portage, añada <span style="font-family: monospace; font-size: 95%">/usr/lib/ccache/bin/</span> al principio de su variable <var>PATH</var> (antes de <span style="font-family: monospace; font-size: 95%">/usr/bin</span>). Esto puede llevarse a cabo editando el fichero <span style="font-family: monospace; font-size: 95%">~/.bash_profile</span> de su directorio home de usuario. <span style="font-family: monospace; font-size: 95%">~/.bash_profile</span> es una de las maneras de definir variables <var>PATH</var>.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">~/.bash_profile</code></strong><strong>Poner la ruta de ccache delante de cualquier otra</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/usr/lib/ccache/bin:/opt/bin:</span><span class="si">${</span><span class="nv">PATH</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div></pre>
<h2><span class="mw-headline" id="Soporte_para_Paquetes_Binarios">Soporte para Paquetes Binarios</span></h2>
<h3><span class="mw-headline" id="Crear_paquetes_binarios">Crear paquetes binarios</span></h3>
<p>Portage soporta la instalación de paquetes precompilados. A pesar de que Gentoo no proporciona paquetes precompilados por sí mismo, Portage puede funcionar perfectamente con paquetes precompilados.
</p><p>Para crear un paquete precompilado puede utilizar <code>quickpkg</code> si el paquete está instado en su sistema, o emerge con las opciones <code>--buildpkg</code> o <code>--buildpkgonly</code>.
</p><p>Si quiere que Portage cree paquetes precompilados de cada paquete individual que instale, añada <code>buildpkg</code> a la variable <var>FEATURES</var>.
</p><p>Puede encontrar mayor soporte para la creación de conjuntos de paquetes precompilados con catalyst. Para más información sobre catalyst, por favor lea las <a href="../../../Project_Catalyst/FAQ.html" title="Project:Catalyst/FAQ">Preguntas frecuentes sobre Catalyst (en inglés)</a>.
</p>
<h3><span class="mw-headline" id="Instalar_Paquetes_Precompilados">Instalar Paquetes Precompilados</span></h3>
<p>A pesar de que Gentoo no proporciona uno, puede crear un repositorio central donde almacene paquetes precompilados. Si quiere utilizar este repositorio, necesita que Portage lo conozca a través de la variable <var>PORTAGE_BINHOST</var> que debe apuntar al repositorio. Por ejemplo, si los paquetes precompilados están en <a rel="nofollow" class="external free" href="ftp://buildhost/gentoo">ftp://buildhost/gentoo</a>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Añadir la localización de PORTAGE_BINHOST</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">PORTAGE_BINHOST</span><span class="o">=</span><span class="s2">&quot;ftp://buildhost/gentoo&quot;</span>
</pre></div></pre>
<p>Cuando quiera instalar un paquete precompilado, añada la opción <code>--getbinpkg</code> a la orden emerge junto a la opción <code>--usepkg</code>. La primera le indica a emerge que descargue el paquete precompilado del servidor definido previamente, mientras que el segundo indica a emerge que intente instalar el paquete precompilado antes de buscar el código fuente y compilarlo.
</p><p>Por ejemplo, para instalar gnumeric a través de paquetes precompilados:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --usepkg --getbinpkg gnumeric</code></div></div>
<p>Más información sobre las opciones para utilizar paquetes precompilados con emerge puede consultarse en la página man de ayuda:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>man emerge</code></div></div>
<h3><span class="mw-headline" id="Distribuir_paquetes_precompilados_a_otros">Distribuir paquetes precompilados a otros</span></h3>
<p>Si distribuye paquetes precompilados a otros, asegúrese que eso está permitido. Compruebe los términos para la distribución del desarrollador del paquete. Por ejemplo, para un paquete publicado bajo GNU GPL, las fuentes deben estar disponibles junto con los binarios.
</p><p>Los ebuilds pueden definir una restricción <code>bindist</code> en su variable <var>RESTRICT</var> si los binarios construidos no son distribuibles. En algunos casos esta restricción está condicionada a uno o mas ajustes USE.
</p><p>Por defecto, Portage no enmascara ningún paquete debido a esta restricción. Esto puede cambiarse globalmente configurando la variable <var>ACCEPT_RESTRICT</var> en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>. Por ejemplo, para enmascarar paquetes que tengan una restricción <code>bindist</code> añada la siguiente línea a <span style="font-family: monospace; font-size: 95%">make.conf</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Aceptar paquetes distribuibles en binario</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">ACCEPT_RESTRICT</span><span class="o">=</span><span class="s2">&quot;* -bindist&quot;</span>
</pre></div></pre>
<p>También es posible modificar el valor de la variable <var>ACCEPT_RESTRICT</var> añadiendo la opción <code>--accept-restrict</code> al comando <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge</span>. Por ejemplo, <code>--accept-restrict=-bindist</code> temporalmente enmascarará paquetes con restricción <code>bindist</code>.
</p><p>Considere también ajustar la variable <var>ACCEPT_LICENSE</var> cuando distribuya paquetes. Vea la <a href="../../Working/Portage/es.html#Licencias" title="Handbook:AMD64/Working/Portage/es">sección Licencias</a> para ello.
</p>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />Es exclusiva responsabilidad del usuario cumplir con los términos de licencia de los paquetes y con las leyes de su país. Las variables de metadatos definidas por los ebuilds como <var>RESTRICT</var> o <var>LICENSE</var> sólo puede dar alguna orientación cuando no se permita la distribución de binarios. <i>No</i> son declaraciones legales, así que no confie en ellas.</div>
<h2><span class="mw-headline" id="Descargar_los_Ficheros">Descargar los Ficheros</span></h2>
<h3><span class="mw-headline" id="Userfetch">Userfetch</span></h3>
<p>Cuando Portage se ejecuta por el usuario root, <code>FEATURES="userfetch"</code> permitirá que Portage ejecute sin los privilegios de superusuario mientras obtiene las fuentes. Este es una pequeña mejora en la seguridad.
</p>
<h2><span class="mw-headline" id="Obtener_instant.C3.A1neas_validadas_del_.C3.A1rbol_de_ebuilds_de_Gentoo">Obtener instantáneas validadas del árbol de ebuilds de Gentoo</span></h2>
<p>Los administradores puede optar por actualizar el árbol de ebuilds de Gentoo con una instantánea del árbol validada criptográficamente tal y como la publica el equipo de infraestructura de Gentoo. Con esto se asegura que ningún otro servidor réplica falso está añadiendo código no deseado u otros paquete al árbol que el sistema está descargando.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Lo siguiente es un método actualizado para poner en marcha y utilizar la forma de sincronizar con emerge-webrsync.</div>
<p>Las claves OpenPGP de los medios publicados por Gentoo están ahora disponibles como un llavero de claves binario que se puede instalar a través del paquete <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-crypt/gentoo-keys">app-crypt/gentoo-keys</a>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask app-crypt/gentoo-keys</code></div></div> 
<p>Esto instalará el llavero en la localización <span style="font-family: monospace; font-size: 95%">/var/lib/gentoo/gkeys/keyrings/gentoo/release</span>.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Habilitar soporte GPG en Portage</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">FEATURES</span><span class="o">=</span><span class="s2">&quot;webrsync-gpg&quot;</span>
<span class="nv">PORTAGE_GPG_DIR</span><span class="o">=</span><span class="s2">&quot;/var/lib/gentoo/gkeys/keyrings/gentoo/release&quot;</span>
</pre></div></pre>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/repos.conf/gentoo.conf</code></strong><strong>Limpiar la variable sync-uri</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="k">[DEFAULT]</span>
<span class="na">main-repo</span> <span class="o">=</span> <span class="s">gentoo</span>
 
<span class="k">[gentoo]</span>
<span class="c1"># Deshabilitar la sincronización limpiando los valores o asignando auto-sync = no</span>
<span class="c1"># ¡No definir los valores de las variables en este fichero de configuración utilizando comillas (&#39;&#39; o &quot;&quot;)!</span>
<span class="c1"># Para portage-2.2.18 utilice &#39;websync&#39;</span>
<span class="c1"># Para portage-2.2.19 y superior utilice &#39;webrsync&#39; (websync se renombró a webrsync)</span>
<span class="na">sync-type</span> <span class="o">=</span> <span class="s">websync</span>
<span class="na">sync-uri</span> <span class="o">=</span> 
<span class="na">auto-sync</span> <span class="o">=</span> <span class="s">yes</span>
</pre></div></pre>
<p>Asegúrese de que ha instalado <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-crypt/gnupg">app-crypt/gnupg</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask app-crypt/gnupg</code></div></div> 
<p>Utilice <span style="font-family: monospace; font-size: 95%; font-weight: bold;">gpg</span> para verificar que las claves del llavero son las correctas:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>gpg --homedir /var/lib/gentoo/gkeys/keyrings/gentoo/release --with-fingerprint --list-keys</code></div></div>
<p>Verifique las huellas digitales de la(s) clave(s) comparándolas con las que se muestran aquí&#160;: <a href="../../../Project_RelEng.html#Release_security_and_signing" title="Project:RelEng">Project:RelEng#Release_security_and_signing</a><br />
Repita la siguiente orden eat the following command for each key you wish to trust. (Substitute the keyid '0x...' for the desired key you wish to trust.)
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>gpg --homedir /var/lib/gentoo/gkeys/keyrings/gentoo/release --edit-key 0xDB6B8C1F96D8BF6D trust</code></div></div>
<p>El sistema está ahora preparado para sincronizar utilizando únicamente instantáneas verificadas mediante OpenPGP/gpg.<br />
Algunas opciones de las órdenes están disponibles para realizar la sincronización.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Únicamente una de las siguientes órdenes es necesaria para sincronizar. Le el Only one of the following commands is needed to sync. Lea el See the <a href="../../../Project_Portage/Sync.html" title="Project:Portage/Sync">artículo wiki de la sincronización de Portage</a> para más información.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --sync</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emaint sync -a</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emaint sync --repo gentoo</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge-webrsync</code></div></div>
<p><b>Instrucciones de instalación y de configuración originales</b>
</p><p>Para configurar Portage de modo que valide las instantáneas, en primer lugar cree un almacén de confianza en el que se puedan almacenar las claves del equipo de infraestructura de Gentoo responsable del firmado de las instantáneas del árbol Portage. Desde luego, esta clave OpenGPG se pueden validar mediante las <a href="../../../GnuPG/es.html#Importar_claves" title="GnuPG/es">instrucciones apropiadas</a> (por ejemplo comprobar la huella digital). La lista de claves OpenGPG usadas por el equipo de ingeniería de lanzamientos está disponible en su <a href="../../../Project_RelEng.html" title="Project:RelEng">página de proyecto</a>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkdir -p /etc/portage/gpg
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>chmod 0700 /etc/portage/gpg</code></div></div>
<p>Asegúrese de que ha instalado <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-crypt/gnupg">app-crypt/gnupg</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask app-crypt/gnupg</code></div></div> 
<p>En el siguiente conjunto de órdenes, sustituya las claves por aquéllas que se mencionab en el sitio de ingeniería de lanzamientos:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>gpg --homedir /etc/portage/gpg --keyserver subkeys.pgp.net --recv-keys 0xDB6B8C1F96D8BF6D
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>gpg --homedir /etc/portage/gpg --edit-key 0xDB6B8C1F96D8BF6D trust</code></div></div>
<p>A continuación, edite <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> y habilite el soporte para la validación de las instantáneas del árbol Portage firmadas (usando <code>FEATURES="webrsync-gpg"</code>) y deshabilite la actualización del árbol Portage usando el método común <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge --sync</span>.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Habilitar el soporte para GPG en Portage</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">FEATURES</span><span class="o">=</span><span class="s2">&quot;webrsync-gpg&quot;</span>
<span class="nv">PORTAGE_GPG_DIR</span><span class="o">=</span><span class="s2">&quot;/etc/portage/gpg&quot;</span>
</pre></div></pre>
<p>En el archivo <span style="font-family: monospace; font-size: 95%">/etc/portage/repos.conf/gentoo.conf</span>, elimine las variables <var>sync-type</var> y <var>sync-uri</var> de modo que <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge --sync</span> ya no funcione (y en consecuencia no pueda descargar ebuilds que pudieran contener código fuente sin validar):
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/repos.conf/gentoo.conf</code></strong><strong>Limpiar las variables sync-type y sync-uri</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="k">[DEFAULT]</span>
<span class="na">main-repo</span> <span class="o">=</span> <span class="s">gentoo</span>
 
<span class="k">[gentoo]</span>
<span class="c1"># Deshabilitar la sincronización limpiando los valores</span>
<span class="c1"># No defina el valor de las variables en este fichero de configuración usando comillas (&#39;&#39; o &quot;&quot;)!</span>
<span class="na">sync-type</span> <span class="o">=</span> 
<span class="na">sync-uri</span> <span class="o">=</span>
</pre></div></pre>
<p>Eso es todo. La próxima vez que lance <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span>, únicamente las instantáneas con una firma válida se expandirán en el sistema de ficheros.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Working/USE/es.html" title="Previous part" class="btn btn-default">&#8592; Ajustes USE</a> <a href="../../../Handbook_AMD64.html" title="Handbook:AMD64" class="btn btn-default">Home</a> <a href="../../Working/Initscripts/es.html" title="Next part" class="btn btn-default">Guiones de inicio &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Working.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">español</span> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/ワーキング (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Working/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="ru.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/使用Gentoo (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #aaaaaa; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:left;">
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Instalación
</th></tr>
<tr>
<td> <a href="../../Installation/About/es.html" title="Handbook:AMD64/Installation/About/es">Acerca de la instalación</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/es.html" title="Handbook:AMD64/Installation/Media/es">Elegir los medios</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/es.html" title="Handbook:AMD64/Installation/Networking/es">Configurar la red</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/es.html" title="Handbook:AMD64/Installation/Disks/es">Preparar los discos</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/es.html" title="Handbook:AMD64/Installation/Stage/es">Instalar el stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/es.html" title="Handbook:AMD64/Installation/Base/es">Instalar el sistema base</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/es.html" title="Handbook:AMD64/Installation/Kernel/es">Configurar el núcleo</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/es.html" title="Handbook:AMD64/Installation/System/es">Configurar el sistema</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/es.html" title="Handbook:AMD64/Installation/Tools/es">Instalar herramientas</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/es.html" title="Handbook:AMD64/Installation/Bootloader/es">Configurar el cargador de arranque</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/es.html" title="Handbook:AMD64/Installation/Finalizing/es">Terminar</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/es.html" title="Handbook:AMD64/Working/Portage/es">Introducción a Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/es.html" title="Handbook:AMD64/Working/USE/es">Ajustes USE</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/es.html" title="Handbook:AMD64/Working/Features/es">Características de Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/es.html" title="Handbook:AMD64/Working/Initscripts/es">Guiones de inicio</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/es.html" title="Handbook:AMD64/Working/EnvVar/es">Variables de entorno</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/es.html" title="Handbook:AMD64/Portage/Files/es">Archivos y directorios</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/es.html" title="Handbook:AMD64/Portage/Variables/es">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/es.html" title="Handbook:AMD64/Portage/Branches/es">Mezclar ramas de software</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/es.html" title="Handbook:AMD64/Portage/Tools/es">Herramientas adicionales</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/es.html" title="Handbook:AMD64/Portage/CustomTree/es">Árbol de Portage personalizado</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/es.html" title="Handbook:AMD64/Portage/Advanced/es">Características avanzadas</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Configuración de la red
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/es.html" title="Handbook:AMD64/Networking/Introduction/es">Comenzando</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/es.html" title="Handbook:AMD64/Networking/Advanced/es">Configuración avanzada</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/es.html" title="Handbook:AMD64/Networking/Modular/es">Configuración de red modular</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/es.html" title="Handbook:AMD64/Networking/Wireless/es">Redes inalámbricas</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/es.html" title="Handbook:AMD64/Networking/Extending/es">Añadir funcionalidad</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/es.html" title="Handbook:AMD64/Networking/Dynamic/es">Gestión dinámica</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Niveles_de_ejecuci.C3.B3n">Niveles de ejecución</span></h2>
<h3><span class="mw-headline" id="Iniciando_su_sistema">Iniciando su sistema</span></h3>
<p>Al iniciar, notará que pasará al frente suyo una gran cantidad de texto. Si pone atención, notará que estos textos son (normalmente) iguales cada vez que reinicie su sistema. La secuencia de todas estas acciones se llama la secuencia de inicio y es (más o menos) definido estáticamente.
</p><p>En primer lugar, su gestor de arranque cargará en memoria la imagen del núcleo que definió en la configuración del gestor de arranque, después de lo cual, se indica a la CPU que debe ejecutar el núcleo. Al ser cargado y luego ejecutado inicializa todas las estructuras y tareas específicas del núcleo e inicia el proceso init.
</p><p>Este proceso asegura que todos los sistemas de archivo (definidos en <span style="font-family: monospace; font-size: 95%">/etc/fstab</span>) estén montados y listos para usar. Luego ejecuta varios guiones en <span style="font-family: monospace; font-size: 95%">/etc/init.d/</span>, correspondientes a los servicios requeridos para tener un sistema correctamente iniciado.
</p><p>Finalmente, al concluir la ejecución de los guiones, init activa los terminales (generalmente solo las consolas virtuales accesibles con <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd>, <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F2</kbd>, etc.) fijándoles un proceso especial denominado <span style="font-family: monospace; font-size: 95%; font-weight: bold;">agetty</span>. Este proceso hará posible que pueda ingresar al sistema a través de uno de estos terminales ejecutando login.
</p>
<h3><span class="mw-headline" id="Guiones_de_inicio_.28init_scripts.29">Guiones de inicio (init scripts)</span></h3>
<p>Ahora bien, init no solamente ejecuta los guiones contenidos en <span style="font-family: monospace; font-size: 95%">/etc/init.d/</span> de manera aleatoria. Aún más, no ejecuta todos los guiones del <span style="font-family: monospace; font-size: 95%">/etc/init.d/</span>, solamente los que han sido seleccionados para ejecutar. Los guiones seleccionados para ejecutar se encuentran dentro del directorio <span style="font-family: monospace; font-size: 95%">/etc/runlevels/</span>.
</p><p>Primero, init ejecuta todos los guiones de <span style="font-family: monospace; font-size: 95%">/etc/init.d/</span> cuyos enlaces simbólicos se encuentran dentro de <span style="font-family: monospace; font-size: 95%">/etc/runlevels/boot/</span>. Usualmente los iniciará en orden alfabético, pero algunos guiones tienen información relativa a dependencias, para lo cual otros guiones deben ser iniciados anteriormente.
</p><p>Cuando se ejecuten todos los guiones referenciados en <span style="font-family: monospace; font-size: 95%">/etc/runlevels/boot/</span>, init continua su trabajo con los guiones en <span style="font-family: monospace; font-size: 95%">/etc/runlevels/default/</span>. Una vez más, usará el orden alfabético, salvo cuando hay dependencias, en cuyo caso es alterado el orden de inicio para realizar una secuencia válida de arranque. Esto último es también la razón por la que durante la instalación de Gentoo Linux se utiliza la opción <code>default</code> (por defecto), como en <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update add sshd default</span>.
</p>
<h3><span class="mw-headline" id=".C2.BFC.C3.B3mo_funciona_Init.3F">¿Cómo funciona Init?</span></h3>
<p>Por supuesto que init no decide todo eso por su cuenta. Requiere un archivo de configuración que especifica las acciones a tomar. Este archivo es <span style="font-family: monospace; font-size: 95%">/etc/inittab</span>.
</p><p>Si recuerda la secuencia de inicio que se ha explicado, recordará que la primera acción de init es montar todos los sistemas de archivo. Esto está definido en la siguiente línea de <span style="font-family: monospace; font-size: 95%">/etc/inittab</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/inittab</code></strong><strong>Orden de inicialización</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>si::sysinit:/sbin/rc sysinit
</pre></div></pre>
<p>Esa línea dice a init que debe ejecutar <span style="font-family: monospace; font-size: 95%; font-weight: bold;">/sbin/rc sysinit</span> al iniciar el sistema. El guión <span style="font-family: monospace; font-size: 95%">/sbin/rc</span> se encargan de la inicialización, con lo que podríamos decir que init no hace mucho, delega la tarea de inicialización del sistema a otro proceso.
</p><p>En segundo lugar, init ejecutó los guiones con enlaces simbólicos en <span style="font-family: monospace; font-size: 95%">/etc/runlevels/boot/</span>. Esto se define en la siguiente línea:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/inittab</code></strong><strong>Invocación de la orden de arranque</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>rc::bootwait:/sbin/rc boot
</pre></div></pre>
<p>Una vez más, el guión rc lleva a cabo las tareas necesarias. Note que la opción de rc (boot) corresponde al subdirectorio usado bajo <span style="font-family: monospace; font-size: 95%">/etc/runlevels/</span>.
</p><p>Ahora init revisa su archivo de configuración para ver que nivel de ejecución debe ejecutar. Para decidirlo, lee la siguiente línea de <span style="font-family: monospace; font-size: 95%">/etc/inittab</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/inittab</code></strong><strong>Selección del nivel de ejecución por defecto</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>id:3:initdefault:
</pre></div></pre>
<p>En este caso (para la mayoría de usuarios Gentoo), el identificador del nivel de ejecución será el 3. Con esta información init revisa qué debe ejecutar para iniciar el nivel de ejecución 3:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/inittab</code></strong><strong>Definición de los niveles de ejecución</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>l0:0:wait:/sbin/rc shutdown
l1:S1:wait:/sbin/rc single
l2:2:wait:/sbin/rc nonetwork
l3:3:wait:/sbin/rc default
l4:4:wait:/sbin/rc default
l5:5:wait:/sbin/rc default
l6:6:wait:/sbin/rc reboot
</pre></div></pre>
<p>La línea que define el nivel 3, de nuevo usa el guión rc para iniciar los servicios (ahora con el parámetro por defecto <code>default</code>). Note una vez más que el parámetro pasado al guión rc corresponde al subdirectorio de <span style="font-family: monospace; font-size: 95%">/etc/runlevels/</span>.
</p><p>Al terminar rc, init decide qué consolas virtuales debe activar y qué órdenes se deben ejecutar para cada una:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/inittab</code></strong><strong>Definición de terminales</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>c1:12345:respawn:/sbin/agetty 38400 tty1 linux
c2:12345:respawn:/sbin/agetty 38400 tty2 linux
c3:12345:respawn:/sbin/agetty 38400 tty3 linux
c4:12345:respawn:/sbin/agetty 38400 tty4 linux
c5:12345:respawn:/sbin/agetty 38400 tty5 linux
c6:12345:respawn:/sbin/agetty 38400 tty6 linux
</pre></div></pre>
<h3><span class="mw-headline" id="Niveles_de_ejecuci.C3.B3n_existentes">Niveles de ejecución existentes</span></h3>
<p>Ha visto que init utiliza un esquema de numeración para decidir cual nivel de ejecución debe activar. Un nivel de ejecución es un estado en el cual su sistema está corriendo y contiene guiones (del nivel de ejecución o initscripts) que serán ejecutados al ingresar o salir del nivel de ejecución.
</p><p>En Gentoo, hay siete niveles de ejecución definidos: tres internos y cuatro definidos por el usuario. Los internos se llaman <i>sysinit</i>, <i>shutdown</i> y <i>reboot</i> y hacen exactamente lo que implican sus nombres: inicialización, apagado y reinicio del sistema.
</p><p>Los niveles de ejecución definidos por el usuario están acompañados de un subdirectorio bajo <span style="font-family: monospace; font-size: 95%">/etc/runlevels/</span>: <i>boot</i>, <i>default</i>, <i>nonetwork</i> y <i>single</i>. El nivel de ejecución boot inicia los servicios necesarios que requieren los demás niveles de ejecución. Los tres niveles de ejecución restantes difieren respecto a los servicios que inician: default es para uso diario, nonetwork en caso de no requerirse la red y single es utilizado en caso de necesitar arreglar el sistema.
</p>
<h3><span class="mw-headline" id="Trabajando_con_los_guiones_de_inicio">Trabajando con los guiones de inicio</span></h3>
<p>Los guiones iniciados por el proceso rc son llamados guiones de inicio o init scripts. Cada guión en <span style="font-family: monospace; font-size: 95%">/etc/init.d/</span> puede ser ejecutado con los parámetros <code>start</code>, <code>stop</code>, <code>restart</code>, <code>zap</code>, <code>status</code>, <code>ineed</code>, <code>iuse</code>, <code>needsme</code>, <code>usesme</code> o <code>broken</code>.
</p><p>Para iniciar, parar o reiniciar un servicio (y sus respectivas dependencias), deben usarse <code>start</code>, <code>stop</code> y <code>restart</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/postfix start</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Solo los servicios que necesiten del servicio nombrado serán parados o reiniciados. Los demás servicios, (aquellos que usen el servicio nombrado, pero que no lo necesiten) continuarán sin ser tocados.</div>
<p>Si desea parar un servicio, pero no los que dependan de el, puede usar la opción <code>--nodeps</code> junto con el parámetro <code>stop</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/postfix --nodeps stop</code></div></div>
<p>Si desea ver el estado de un servicio (iniciado, parado, ...) puede usar el parámetro <code>status</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/postfix status</code></div></div>
<p>Si la respuesta a status indica que el servicio está corriendo, pero realmente no es así, puede reajustarlo manualmente con el parámetro <code>zap</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/postfix zap</code></div></div>
<p>Para preguntar por las dependencias que tiene un servicio, puede usar <code>iuse</code> o <code>ineed</code>. Con <code>ineed</code> puede ver qué servicios son realmente necesarios para el correcto funcionamiento del servicio nombrado. Por otra parte, el parámetro <code>iuse</code> muestra los servicios que pueden ser usados por el servicio nombrado, pero que no son requeridos para su correcto funcionamiento.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/postfix ineed</code></div></div>
<p>De igual manera, puede indagar que servicios requieren el servicio nombrado (<code>needsme</code>) o cuáles pueden usarlo (<code>usesme</code>):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/postfix needsme</code></div></div>
<p>Finalmente, puede indagar qué dependencias son requeridas y están faltando:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/postfix broken</code></div></div>
<h2><span class="mw-headline" id="Actualizando_los_niveles_de_ejecuci.C3.B3n">Actualizando los niveles de ejecución</span></h2>
<h3><span class="mw-headline" id="rc-update">rc-update</span></h3>
<p>El sistema de inicio de Gentoo usa un árbol de dependencias para decidir qué servicios deben iniciarse primero. Como ésta es una tarea tediosa, que no deseamos que nuestros usuarios tengan que hacer manualmente, hemos creado unas herramientas para facilitar la administración de los niveles de ejecución y los guiones de inicio.
</p><p>Con <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update</span> puede añadir o quitar guiones de inicio a un nivel de ejecución. La herramienta <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update</span> automáticamente usará el guión <span style="font-family: monospace; font-size: 95%">depscan.sh</span> para reconstruir el árbol de dependencias.
</p>
<h3><span class="mw-headline" id="A.C3.B1adiendo_y_quitando_servicios">Añadiendo y quitando servicios</span></h3>
<p>En instrucciones anteriores ya hemos agregado guiones de inicio al nivel de ejecución "por defecto" (default). Lo que quiere decir "por defecto" (default) se ha explicado antes en este documento. Junto al nivel de ejecucuión, el guión <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update</span> requiere un segundo parámetro que define la acción a llevar a cabo: <code>add</code>, <code>del</code> o <code>show</code> para agregar, borrar o mostrar.
</p><p>Para añadir o quitar un guión de inicio, use <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update</span> con el parámetro <code>add</code> o <code>del</code>, seguido por el nombre del guión de inicio y el nivel de ejecución, por ejemplo:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update del postfix default</code></div></div>
<p>La orden <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update -v show</span> mostrará todos los guiones de inicio con los niveles de ejecución donde ejecutarán:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update -v show</code></div></div>
<p>Es posible ejecutar también <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update show</span> (sin -v) simplemente para ver los guiones de inicio activos y sus respectivos niveles de ejecución.
</p>
<h2><span class="mw-headline" id="Configuraci.C3.B3n_de_servicios">Configuración de servicios</span></h2>
<h3><span class="mw-headline" id=".C2.BFPor_qu.C3.A9_requerimos_configuraci.C3.B3n_adicional.3F">¿Por qué requerimos configuración adicional?</span></h3>
<p>Los guiones de inicio pueden ser bastante complejos, por lo cual no es interesante que los usuarios modifiquen directamente el guión de inicio, ya que esto puede ser propenso a errores. Sin embargo es importante poder configurar estos servicios, en caso que se quieren dar más opciones al servicio.
</p><p>Una segunda razón para mantener esta información fuera del guión de inicio es para poder actualizar estos guiones sin que los cambios de configuración sean perdidos.
</p>
<h3><span class="mw-headline" id="El_directorio_conf.d">El directorio conf.d</span></h3>
<p>Gentoo provee una manera fácil de configurar estos servicios: cada guión de inicio configurable tiene un archivo dispuesto en <span style="font-family: monospace; font-size: 95%">/etc/conf.d/</span>. Por ejemplo, el guión de inicio <span style="font-family: monospace; font-size: 95%">apache2</span> (llamado <span style="font-family: monospace; font-size: 95%">/etc/init.d/apache2</span>) tiene un archivo de configuración de nombre <span style="font-family: monospace; font-size: 95%">/etc/conf.d/apache2</span>, el cual contiene las opciones a pasar al servidor web Apache 2 en el momento de inicio:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/apache2</code></strong><strong>Ejemplo de opciones para el guión de inicio apache2</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">APACHE2_OPTS</span><span class="o">=</span><span class="s2">&quot;-D PHP5&quot;</span>
</pre></div></pre>
<p>Este tipo de archivo de configuración contiene <i>solamente</i> variables (como en <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>), lo que facilita la configuración de servicios. También nos permite suministrar información adicional acerca de las variables (en forma de comentarios).
</p>
<h2><span class="mw-headline" id="Escribiendo_guiones_de_inicio">Escribiendo guiones de inicio</span></h2>
<h3><span class="mw-headline" id=".C2.BFRealmente_tengo_que_hacerlo.3F">¿Realmente tengo que hacerlo?</span></h3>
<p>Realmente, no. Escribir un guión de inicio normalmente no hace falta, ya que Gentoo provee guiones listos para usar para todos los servicios suministrados. Sin embargo, puede haber instalado un servicio sin usar Portage, en cuyo caso probablemente tenga que crear un guión de inicio.
</p><p>No use el guión de inicio suministrado por el servicio si no está explícitamente escrito para Gentoo: los guiones de inicio de Gentoo ¡no son compatibles con los de las demás distribuciones!
</p>
<h3><span class="mw-headline" id="Esquema">Esquema</span></h3>
<p>El esquema básico de un guión de inicio se muestra a continuación.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Ejemplo de esquema de guión de inicio</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c">#!/sbin/runscript</span>

depend<span class="o">()</span> <span class="o">{</span>
 <span class="o">(</span>Información acerca de las dependencias<span class="o">)</span>
<span class="o">}</span>

start<span class="o">()</span> <span class="o">{</span>
 <span class="o">(</span>Órdenes requeridas para iniciar el servicio<span class="o">)</span>
<span class="o">}</span>

stop<span class="o">()</span> <span class="o">{</span>
 <span class="o">(</span>Órdenes requeridas para parar el servicio<span class="o">)</span>
<span class="o">}</span>
</pre></div></pre></div>
<p>Cualquier guión de inicio requiere la definición de la función start(). Todas las demás son opcionales.
</p>
<h3><span class="mw-headline" id="Dependencias">Dependencias</span></h3>
<p>Existen dos ajustes relacionados con las dependencias que puede definir y que influyen en el arranque o secuenciación de los guiones de inicio: <i>use</i> y <i>need</i>. Aparte de estas dos, existen también dos métodos, llamados <i>before</i> y <i>after</i>, que influyen en el orden . Estos últimos no son dependencias en sí mismos, no provocan el fallo del guión de inicio si el guión seleccionado no está programado para ser iniciado (o falla al iniciar).
</p><p><br />
</p>
<ul><li> Los ajustes <i>use</i> informan al sistema de inicio que este guión utiliza funcionalidad ofrecida por el guión seleccionado, sin embargo no depende directamente de él. Un buen ejemplo sería <i>use logger</i> o <i>use dns</i>. Si estos servicios están disponibles, se usarán de forma correcta, pero aunque no tenga instalado un programa de registro (logger) o servidor DNS, los servicios funcionarán de todos modos. Si estos servicios están presentes en su sistema, entonces se arrancarán antes del guión que los utiliza.</li>
<li> El ajuste <i>need</i> es una dependencia inevitable. Esto significa que el guión que necesita otro guión, no podrá arrancar antes de que el otro guión se arranque de forma correcta. Si el otro guión es reiniciado, entonces el guión que depende de él será reiniciado igualmente.</li>
<li> Cuando se utiliza <i>before</i>, el guión dado es arrancado antes del guión seleccionado si el seleccionado forma parte del nivel de inicio. Por lo tanto, si el guión de inicio xdm define <i>before alsasound</i>, será arrancado antes que el guión alsasound, pero solo si alsasound está también programado para ser arrancado en el mismo nivel de inicio. Si alsasound no está programado para arrancar, entonces este ajuste en particular no tiene efecto y el guión xdm será arrancado cuando el sistema de inicio lo juzgue apropiado.</li>
<li> De modo similar, <i>after</i> informa al sistema de inicio que el guión dado debería ser arrancado antes que el seleccionado si el guión seleccionado forma parte de nivel de inicio. En caso contrario, el ajuste no tiene efecto y el guión será arrancado por el sistema de inicio cuando éste lo juzgue apropiado.</li></ul>
<p>Debería quedar claro una vez leido lo anterior, que <i>need</i> es el único ajuste que define un "auténtica" dependencia ya que afecta al hecho de que el guión sea arrancado o no. Las demás son simplemente apuntes al sistema de inicio para clarificar el orden en el que los guiones deben (o deberían ser arrancados).
</p><p>Si echa un vistazo al muchos de los guiones de inicio disponibles en Gentoo, observará que algunos tienen dependencias de objetos que no son guiones de inicio. Estos "objetos" son los llamados virtuals (virtuales).
</p><p>Una <i>dependencia virtual</i> es una dependencia suministrada por un servicio, pero no únicamente por un servicio en concreto. Su guión de inicio puede depender de un gestor de registro de sistema, habiendo disponibilidad de varios (metalogd, syslog-ng, sysklogd, ...). Como no se necesitan todos (ningún sistema normal tiene todos estos gestores de registro instalados y corriendo) nos aseguramos que todos estos servicios provean una dependencia virtual.
</p><p>A modo de ejemplo examinemos la información de dependencia del servicio postfix:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/init.d/postfix</code></strong><strong>Información de dependencias del servicio poxfix</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>depend<span class="o">()</span> <span class="o">{</span>
 need net
 use logger dns
 provide mta
<span class="o">}</span>
</pre></div></pre>
<p>Como podemos ver, el servicio postfix:
</p>
<ul><li> requiere la dependencia (virtual) net (suministrada, por ejemplo por, <span style="font-family: monospace; font-size: 95%">/etc/init.d/net.eth0</span>)</li>
<li> usa la dependencia (virtual) logger (suministrada, por ejemplo por, <span style="font-family: monospace; font-size: 95%">/etc/init.d/syslog-ng</span>)</li>
<li> usa la dependencia (virtual) dns (suministrada por ejemplo por, <span style="font-family: monospace; font-size: 95%">/etc/init.d/named</span>)</li>
<li> provee la dependencia (virtual) mta (común a todos los servidores de correo electrónico)</li></ul>
<h3><span class="mw-headline" id="Controlando_el_orden">Controlando el orden</span></h3>
<p>Tal y como se ha descrito en la sección anterior, puede indicarle al sistema de inicio qué orden debe seguir para arrancar (o parar) los guiones. Este orden es manejado tanto por los ajustes de dependencia use y need, como por los ajustes de orden before y after. Como ya hemos descrito estos ajustes, echemos un vistazo al servicio portmap como ejemplo de guión de inicio.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/init.d/portmap</code></strong><strong>Información de dependencias del servicio portmap</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>depend<span class="o">()</span> <span class="o">{</span>
 need net
 before inetd
 before xinetd
<span class="o">}</span>
</pre></div></pre>
<p>También puede usar el carácter que engloba "*" para referirse a todos los servicios, aunque no es aconsejable.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Usando el caracter englobador *</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>depend<span class="o">()</span> <span class="o">{</span>
 before *
<span class="o">}</span>
</pre></div></pre></div>
<p>Si su servicio debe escribir a discos locales, debe necesitar localmount. Si escribe algo en <span style="font-family: monospace; font-size: 95%">/var/run/</span> como un archivo pid, entonces debería comenzar después de bootmisc:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Declaración de dependencia que necesita localmount y ejecutarse después de bootmisc</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>depend<span class="o">()</span> <span class="o">{</span>
 need localmount
 after bootmisc
<span class="o">}</span>
</pre></div></pre></div>
<h3><span class="mw-headline" id="Funciones_est.C3.A1ndar">Funciones estándar</span></h3>
<p>Junto con la función <i>depend()</i>, hará falta definir la función <i>start()</i>, que contiene las órdenes necesarias para inicializar su servicio. Es aconsejable usar las funciones <i>ebegin</i> y <i>eend</i> para informarle al usuario acerca de lo que está ocurriendo:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Ejemplo de función start()</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>start<span class="o">()</span> <span class="o">{</span>
 <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">RC_CMD</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;restart&quot;</span> <span class="o">]</span><span class="p">;</span>
 <span class="k">then</span>
  <span class="c"># Hacer algo en caso de que restart requiera algo más que parar y arrancar</span>
 <span class="k">fi</span>

 ebegin <span class="s2">&quot;Arrancando mi_servicio&quot;</span>
 start-stop-daemon --start --exec /path/to/mi_servicio <span class="se">\</span>
  --pidfile /path/to/my_pidfile
 eend <span class="nv">$?</span>
<span class="o">}</span>
</pre></div></pre></div>
<p>Ambos <code>--exec</code> y <code>--pidfile</code> deben usarse en las funciones start y stop. Si el servicio no crea un archivo pid, entonces use <code>--make-pidfile</code> si es posible, aunque debe probar esto para estar seguro. De otra manera, no use archivos pid. Puede también agregar <code>--quiet</code> a las opciones al start-stop-daemon, pero esto no es recomendado a no ser que el el servicio sea extremadamente verboso. Usando <code>--quiet</code> puede interferir con la depuración si el servicio no logra arrancar.
</p><p>Otro ajuste notable usado en el ejemplo anterior es la comprobación del contenido de la variable <code>RC_CMD</code>. Al contrario que el sistema de guiones de inicio anterior, el nuevo sistema openrc no soporta funcionalidad de reinicio específica de los guiones. En lugar de esto, el guión necesita comprobar el contenido de la variable <code>RC_CMD</code> para var si una función (sea start() o stop()) se llama como parte del reinicio o no.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Asegúrese que <code>--exec</code> efectivamente llame a un servicio y no solamente a un guión que lanza un servicio y termina -- después de todo, eso es lo que se espera que haga un guión de inicio.</div>
<p>Si requiere más ejemplos de funciones start(), favor leer directamente las fuentes de los guiones de inicio en su directorio <span style="font-family: monospace; font-size: 95%">/etc/init.d/</span>.
</p><p>Otra función que puede definir es stop(). Sin embargo, ¡No está obligado a definir esta función! Nuestro sistema de inicio es lo suficientemente inteligente para rellenar esta función por sí mismo si utiliza start-stop-daemon.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Ejemplo de función stop()</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>stop<span class="o">()</span> <span class="o">{</span>
 ebegin <span class="s2">&quot;Parando mi_servicio&quot;</span>
 start-stop-daemon --stop --exec /path/to/mi_servicio <span class="se">\</span>
  --pidfile /path/to/my_pidfile
 eend <span class="nv">$?</span>
<span class="o">}</span>
</pre></div></pre></div>
<p>Si el servicio ejecuta otro guión (por ejemplo, Bash, Python o Perl), y este guión cambia posteriormente de nombre (por ejemplo, <span style="font-family: monospace; font-size: 95%">foo.py</span> a foo), entonces hará falta agregar <code>--name</code> al start-stop-daemon. Debe especificar el nombre al cual cambiará el guión. En este ejemplo, un servicio inicia <span style="font-family: monospace; font-size: 95%">foo.py</span>, el cual cambia de nombre a foo:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Ejemplo de definición de un servicio que lanza el guión foo</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>start<span class="o">()</span> <span class="o">{</span>
 ebegin <span class="s2">&quot;Arrancando mi_guion&quot;</span>
 start-stop-daemon --start --exec /path/to/mi_guion <span class="se">\</span>
  --pidfile /path/to/my_pidfile --name foo
 eend <span class="nv">$?</span>
<span class="o">}</span>
</pre></div></pre></div>
<p>El start-stop-daemon tiene una excelente página man si requiere más información:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>man start-stop-daemon</code></div></div>
<p>La sintaxis de los guiones de inicio de Gentoo está basada en el intérprete de comandos POSIX, de manera que es libre de usar construcciones compatibles con sh dentro del guión de inicio. No utilice otras construcciones, por ejemplo las del tipo bash, en los guiones de inicio para asegurarse de que los guiones funcionen en el futuro incluso si se cambia el sistema de inicio de Gentoo.
</p>
<h3><span class="mw-headline" id="A.C3.B1adiendo_opciones_personalizadas">Añadiendo opciones personalizadas</span></h3>
<p>Si desea que su guión de inicio soporte un mayor número de opciones de las que hemos encontrado hasta ahora, debe agregar la opción a la variable extra_commands y crear una función con el mismo nombre que la opción. Por ejemplo, para dar soporte a una opción llamada restartdelay:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Ejemplo de definición de la opción restartdelay</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">extra_commands</span><span class="o">=</span><span class="s2">&quot;restartdelay&quot;</span>

restartdelay<span class="o">()</span> <span class="o">{</span>
 stop
 sleep <span class="m">3</span> <span class="c"># Esperar 3 segundos antes de iniciarse de nuevo</span>
 start
<span class="o">}</span>
</pre></div></pre></div>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />¡La función restart() no puede ser sobreescrita en openrc!</div>
<h3><span class="mw-headline" id="Variables_para_la_configuraci.C3.B3n_de_servicios">Variables para la configuración de servicios</span></h3>
<p>No hay que hacer nada para dar soporte a un archivo de configuración en <span style="font-family: monospace; font-size: 95%">/etc/conf.d/</span>: si su guión de inicio se ejecuta, los siguientes archivos serán automáticamente leídos -sourced- (es decir, las variables estarán disponibles para ser usadas):
</p>
<ul><li> <span style="font-family: monospace; font-size: 95%">/etc/conf.d/YOUR_INIT_SCRIPT</span></li>
<li> <span style="font-family: monospace; font-size: 95%">/etc/conf.d/basic</span></li>
<li> <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span></li></ul>
<p>También, si su guión de inicio provee una dependencia virtual (como net), el archivo asociado a esa dependencia (el <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span>) será leído también.
</p>
<h2><span class="mw-headline" id="Cambiando_el_comportamiento_del_nivel_de_ejecuci.C3.B3n">Cambiando el comportamiento del nivel de ejecución</span></h2>
<h3><span class="mw-headline" id=".C2.BFQui.C3.A9n_puede_beneficiarse_de_esto.3F">¿Quién puede beneficiarse de esto?</span></h3>
<p>Muchos usuarios de equipos portátiles conocen la situación: en casa necesita iniciar net.eth0 mientras que puede no querer iniciar net.eth0 mientras está de viaje (cuando no hay una red disponible). Con Gentoo puede modificar el comportamiento del nivel de ejecución para sus propios propósitos.
</p><p>Por ejemplo puede crear un segundo nivel de ejecución "default" con el cual puede arrancar y que utiliza otros guiones de inicio que le han sido asignados. Puede seleccionar al arrancar que nivel de ejecución quiere utilizar.
</p>
<h3><span class="mw-headline" id="Utilizando_softlevel">Utilizando softlevel</span></h3>
<p>Antes de nada, cree el directorio para su segundo nivel de ejecución "default". Como ejemplo vamos a crear el nivel de ejecución <i>offline</i>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkdir /etc/runlevels/offline</code></div></div>
<p>Añada los guiones de inicio necesarios para el nuevo nivel de ejecución. Por ejemplo, si quiere una copia exacta de su actual "default" pero sin net.eth0:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cd /etc/runlevels/default
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>for service in *; do rc-update add $service offline; done
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update del net.eth0 offline
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update show offline</code></div><pre>
(Partial sample Output)
               acpid | offline
          domainname | offline
               local | offline
            net.eth0 |
</pre></div>
<p>Incluso aunque se haya eliminado net.eth0 del nivel de ejecución offline, puede que udev quiera intentar iniciar cualquier dispositivo que detecte y lanzar los servicios apropiados, una funcionalidad llamada hotplugging (enchufado en caliente). Por defecto Gentoo no habilita esta funcionalidad.
</p><p>Si quiere habilitar el hotplugging pero solo para un conjunto seleccionado de guiones, utilice la variable <code>rc_hotplug</code> en <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/rc.conf</code></strong><strong>Habilitando hotplugging en la interfaz WLAN</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">rc_hotplug</span><span class="o">=</span><span class="s2">&quot;net.wlan !net.*&quot;</span>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />Para más información sobre los servicios iniciados en función de dispositivos, consulte los comentarios del archivo <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span>.</div>
<p>Ahora edite la configuración de su gestor de arranque y añada una nueva entrada para el nivel de ejecución offline. En dicha entrada, añada <code>softlevel=offline</code> como parámetero de arranque.
</p>
<h3><span class="mw-headline" id="Utilizando_bootlevel">Utilizando bootlevel</span></h3>
<p>Utilizar bootlevel es completamente análogo a softlevel. La única diferencia es que se define un segundo nivel de ejecución "boot" en lugar de un segundo "default".
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Working/Features/es.html" title="Previous part" class="btn btn-default">&#8592; </a> <a href="../../es.html" title="Handbook:AMD64/es" class="btn btn-default">Home</a> <a href="../../Working/EnvVar/es.html" title="Next part" class="btn btn-default">Variables de entorno &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Working.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">español</span> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/ワーキング (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Working/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="ru.html" title="Handbook:AMD64/Full/Working (100% translated)" class="mw-pt-progress mw-pt-progress--complete">русский</a> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/使用Gentoo (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #aaaaaa; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:left;">
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Instalación
</th></tr>
<tr>
<td> <a href="../../Installation/About/es.html" title="Handbook:AMD64/Installation/About/es">Acerca de la instalación</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/es.html" title="Handbook:AMD64/Installation/Media/es">Elegir los medios</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/es.html" title="Handbook:AMD64/Installation/Networking/es">Configurar la red</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/es.html" title="Handbook:AMD64/Installation/Disks/es">Preparar los discos</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/es.html" title="Handbook:AMD64/Installation/Stage/es">Instalar el stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/es.html" title="Handbook:AMD64/Installation/Base/es">Instalar el sistema base</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/es.html" title="Handbook:AMD64/Installation/Kernel/es">Configurar el núcleo</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/es.html" title="Handbook:AMD64/Installation/System/es">Configurar el sistema</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/es.html" title="Handbook:AMD64/Installation/Tools/es">Instalar herramientas</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/es.html" title="Handbook:AMD64/Installation/Bootloader/es">Configurar el cargador de arranque</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/es.html" title="Handbook:AMD64/Installation/Finalizing/es">Terminar</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/es.html" title="Handbook:AMD64/Working/Portage/es">Introducción a Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/es.html" title="Handbook:AMD64/Working/USE/es">Ajustes USE</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/es.html" title="Handbook:AMD64/Working/Features/es">Características de Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/es.html" title="Handbook:AMD64/Working/Initscripts/es">Guiones de inicio</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/es.html" title="Handbook:AMD64/Working/EnvVar/es">Variables de entorno</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Trabajar con Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/es.html" title="Handbook:AMD64/Portage/Files/es">Archivos y directorios</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/es.html" title="Handbook:AMD64/Portage/Variables/es">Variables</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/es.html" title="Handbook:AMD64/Portage/Branches/es">Mezclar ramas de software</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/es.html" title="Handbook:AMD64/Portage/Tools/es">Herramientas adicionales</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/es.html" title="Handbook:AMD64/Portage/CustomTree/es">Árbol de Portage personalizado</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/es.html" title="Handbook:AMD64/Portage/Advanced/es">Características avanzadas</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#6E56AF; color: white;"> Configuración de la red
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/es.html" title="Handbook:AMD64/Networking/Introduction/es">Comenzando</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/es.html" title="Handbook:AMD64/Networking/Advanced/es">Configuración avanzada</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/es.html" title="Handbook:AMD64/Networking/Modular/es">Configuración de red modular</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/es.html" title="Handbook:AMD64/Networking/Wireless/es">Redes inalámbricas</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/es.html" title="Handbook:AMD64/Networking/Extending/es">Añadir funcionalidad</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/es.html" title="Handbook:AMD64/Networking/Dynamic/es">Gestión dinámica</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="Variables_de_entorno">Variables de entorno</span></h2>
<h3><span class="mw-headline" id="Introducci.C3.B3n">Introducción</span></h3>
<p>Una variable de entorno es un objeto designado para contener información usada por una o más aplicaciones. Algunos usuarios (especialmente aquellos nuevos en Linux) encuentran esto un poco extraño o inmanejable. Sin embargo esto no es cierto: usando variables de entorno hace que cualquiera pueda cambiar una opción de configuración para una o más aplicaciones fácilmente.
</p>
<h3><span class="mw-headline" id="Ejemplos_Importantes">Ejemplos Importantes</span></h3>
<p>La siguiente tabla muestra un listado de variables de entorno usado por un sistema Linux y describe su uso. Valores de ejemplo se muestran después de la tabla.
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<th> Variable
</th>
<th> Descripción
</th></tr>
<tr>
<td> PATH
</td>
<td> Esta variable contiene una lista de directorios separados por ":" en la cual el sistema buscará los archivos ejecutables. Al introducir el nombre de un ejecutable (como ls, rc-update o emerge) que no se encuentre en alguno de los directorios listados, el sistema no lo encontrará, (a menos que se introduzca la ruta completa, por ejemplo: /bin/ls).
</td></tr>
<tr>
<td> ROOTPATH
</td>
<td> Esta variable tiene la misma función que PATH, pero únicamente contiene los directorios que el sistema debe revisar cuando el usuario root introduce una orden.
</td></tr>
<tr>
<td> LDPATH
</td>
<td> Esta variable contiene una lista de directorios separados por ":" en la cual el enlazador dinámico busca para encontrar una librería.
</td></tr>
<tr>
<td> MANPATH
</td>
<td> Esta variable contiene una lista de directorios separados por ":" en los cuales la orden man buscará las páginas de manual.
</td></tr>
<tr>
<td> INFODIR
</td>
<td> Esta variable contiene una lista de directorios separados por ":" en la cual la orden info buscará las páginas info.
</td></tr>
<tr>
<td> PAGER
</td>
<td> Esta variable contiene la ruta hacia el programa utilizado para mostrar el contenido de los ficheros (como less o more).
</td></tr>
<tr>
<td> EDITOR
</td>
<td> Esta variable contiene la ruta hacia el programa utilizado para modificar el contenido de los archivos (como nano o vi).
</td></tr>
<tr>
<td> KDEDIRS
</td>
<td> Esta variable contiene una lista de directorios separados por ":" los cuales contienen material específico de KDE.
</td></tr>
<tr>
<td> CONFIG_PROTECT
</td>
<td> Esta variable una lista de directorios separados por espacio los cuales deben ser protegidos por Portage durante las actualizaciones.
</td></tr>
<tr>
<td> CONFIG_PROTECT_MASK
</td>
<td> Esta variable una lista de directorios separados por espacio los cuales no deben ser protegidos por Portage durante las actualizaciones.
</td></tr></table>
<p>A continuación puedes encontrar ejemplos de definiciones para todas estas variables:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Ejemplos de asignaciones para las variables mencionadas</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/bin:/usr/bin:/usr/local/bin:/opt/bin:/usr/games/bin&quot;</span>
<span class="nv">ROOTPATH</span><span class="o">=</span><span class="s2">&quot;/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin&quot;</span>
<span class="nv">LDPATH</span><span class="o">=</span><span class="s2">&quot;/lib:/usr/lib:/usr/local/lib:/usr/lib/gcc-lib/i686-pc-linux-gnu/3.2.3&quot;</span>
<span class="nv">MANPATH</span><span class="o">=</span><span class="s2">&quot;/usr/share/man:/usr/local/share/man&quot;</span>
<span class="nv">INFODIR</span><span class="o">=</span><span class="s2">&quot;/usr/share/info:/usr/local/share/info&quot;</span>
<span class="nv">PAGER</span><span class="o">=</span><span class="s2">&quot;/usr/bin/less&quot;</span> <span class="nv">EDITOR</span><span class="o">=</span><span class="s2">&quot;/usr/bin/vim&quot;</span>
<span class="nv">KDEDIRS</span><span class="o">=</span><span class="s2">&quot;/usr&quot;</span>
<span class="nv">CONFIG_PROTECT</span><span class="o">=</span><span class="s2">&quot;/usr/X11R6/lib/X11/xkb /opt/tomcat/conf \</span>
<span class="s2">                /usr/kde/3.1/share/config /usr/share/texmf/tex/generic/config/ \</span>
<span class="s2">                /usr/share/texmf/tex/platex/config/ /usr/share/config&quot;</span>
<span class="nv">CONFIG_PROTECT_MASK</span><span class="o">=</span><span class="s2">&quot;/etc/gconf&quot;</span>
</pre></div></pre></div>
<h2><span class="mw-headline" id="Definiendo_variables_globalmente">Definiendo variables globalmente</span></h2>
<h3><span class="mw-headline" id="El_directorio_.2Fetc.2Fenv.d">El directorio /etc/env.d</span></h3>
<p>Para centralizar la definición de estas variables, Gentoo introduce el directorio <span style="font-family: monospace; font-size: 95%">/etc/env.d/</span>. Dentro de este directorio se encuentran varios ficheros como por ejemplo 00basic, 05gcc, etc. los cuales contienen las variables necesarias para la aplicación de la cual llevan el nombre.
</p><p>Por ejemplo, al instalar gcc, un fichero llamado 05gcc que contiene la definición de las siguientes variables, fue creado por el ebuild:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/env.d/05gcc</code></strong><strong>Variables establecidas por defecto con gcc</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/usr/i686-pc-linux-gnu/gcc-bin/3.2&quot;</span>
<span class="nv">ROOTPATH</span><span class="o">=</span><span class="s2">&quot;/usr/i686-pc-linux-gnu/gcc-bin/3.2&quot;</span>
<span class="nv">MANPATH</span><span class="o">=</span><span class="s2">&quot;/usr/share/gcc-data/i686-pc-linux-gnu/3.2/man&quot;</span>
<span class="nv">INFOPATH</span><span class="o">=</span><span class="s2">&quot;/usr/share/gcc-data/i686-pc-linux-gnu/3.2/info&quot;</span>
<span class="nv">CC</span><span class="o">=</span><span class="s2">&quot;gcc&quot;</span>
<span class="nv">CXX</span><span class="o">=</span><span class="s2">&quot;g++&quot;</span> <span class="nv">LDPATH</span><span class="o">=</span><span class="s2">&quot;/usr/lib/gcc-lib/i686-pc-linux-gnu/3.2.3&quot;</span>
</pre></div></pre>
<p>Otras distribuciones le piden modificar o añadir definiciones de variables de entorno semejantes en <span style="font-family: monospace; font-size: 95%">/etc/profile</span> o en otros sitios. Por otro lado, Gentoo nos hace (y a Portage también) más fácil mantener y manejar las variables de entorno sin tener que prestar atención a los numerosos ficheros que pueden contenerlas.
</p><p>Por ejemplo, cuando gcc es actualizado, también es actualizado el fichero <span style="font-family: monospace; font-size: 95%">/etc/env.d/05gcc</span> sin ser necesaria ninguna interacción por parte del usuario.
</p><p>Esto no solo beneficia a Portage, sino también al usuario. En ocasiones se podrá pedir establecer cierta variable de entorno para todo el sistema. Como ejemplo, tomamos la variable http_proxy. En lugar de perder el tiempo con <span style="font-family: monospace; font-size: 95%">/etc/profile</span>, puede crear el fichero (<span style="font-family: monospace; font-size: 95%">/etc/env.d/99local</span>) e introducir la(s) definición(es) en él:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/env.d/99local</code></strong><strong>Asignando una variable globalmente=bash</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>http_proxy=&quot;proxy.server.com:8080&quot;
</pre></div></pre>
<p>Usando el mismo fichero para todas las variables, se obtiene una visión rápida de las variables que hay definidas para uno mismo.
</p>
<h3><span class="mw-headline" id="El_gui.C3.B3n_env-update">El guión env-update</span></h3>
<p>Varios archivos de <span style="font-family: monospace; font-size: 95%">/etc/env.d/</span> definen la variable PATH. esto no es un error: cuando ejecute <code>env-update</code>, este concatenará las múltiples definiciones antes de actualizar las variables de entorno, haciendo más fácil a los paquetes (o usuarios) añadir sus propias opciones en las variables de entorno sin interferir con los valores ya existentes.
</p><p>El guión env-update concatenará los valores alfabéticamente ordenados por el nombre de los ficheros de <span style="font-family: monospace; font-size: 95%">/etc/env.d/</span>. Los nombres de fichero deben comenzar con dos dígitos decimales.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">CÓDIGO</span> <strong>Orden de actualización usado por env-update</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>         00basic        99kde-env       99local
     +-------------+----------------+-------------+
PATH=&quot;/bin:/usr/bin:/usr/kde/3.2/bin:/usr/local/bin&quot;
</pre></div></pre></div>
<p>La concatenación de variables no siempre funciona, solo con las siguientes variables: ADA_INCLUDE_PATH, ADA_OBJECTS_PATH, CLASSPATH, KDEDIRS, PATH, LDPATH, MANPATH, INFODIR, INFOPATH, ROOTPATH, CONFIG_PROTECT, CONFIG_PROTECT_MASK, PRELINK_PATH, PRELINK_PATH_MASK, PKG_CONFIG_PATH y PYTHONPATH. Para el resto de variables, se utiliza el último valor definido (en orden alfabético de ficheros en <span style="font-family: monospace; font-size: 95%">/etc/env.d/</span>).
</p><p>Puede incluir más variables en esta lista de variables concatenadas añadiendo el nombre de la variable a la variable COLON_SEPARATED o a la variable SPACE_SEPARATED (definidas también en el fichero <span style="font-family: monospace; font-size: 95%">/etc/env.d/</span>).
</p><p>Cuando ejecute <code>env-update</code>, el guión creará todas las variables de entorno y las colocará en <span style="font-family: monospace; font-size: 95%">/etc/profile.env</span> (el cual es usado por <span style="font-family: monospace; font-size: 95%">/etc/profile</span>). Además, también extraerá la información de la variable LDPATH y la usará para crear <span style="font-family: monospace; font-size: 95%">/etc/ld.so.conf</span>. Después de esto, ejecutará <code>ldconfig</code> para recrear el archivo usado por el enlazador dinámico: /etc/ld.so.cache.
</p><p>Si quiere observar el efecto de env-update inmediatamente después de ejecutarlo, ejecute la siguiente orden para actualizar su entorno. Posiblemente, los usuarios que instalaron Gentoo ellos mismos, recordarán estas instrucciones de la instalación:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>env-update &amp;&amp; source /etc/profile</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Nota</strong><br />La orden anterior actualiza únicamente las variables en la terminal actual, en las nuevas consolas y sus hijas. Sabiendo esto, si se está trabajando en X11, necesitará ejecutar <code>source /etc/profile</code> en las nuevas terminales que abra o reiniciar las X para que las nuevas terminales definan las nuevas variables. Si está utilizando un gestor de inicio, conviértase en root y reinicie el servicio  <span style="font-family: monospace; font-size: 95%">/etc/init.d/xdm</span>.</div>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Importante</strong><br />No se pueden utilizar las variables del terminal para definir otras variables. Esto implica que cosas como FOO="$BAR" (donde $BAR es otra variable) están prohibidas.</div>
<h2><span class="mw-headline" id="Definiendo_variables_locales">Definiendo variables locales</span></h2>
<h3><span class="mw-headline" id="Espec.C3.ADficas_de_usuario">Específicas de usuario</span></h3>
<p>No siempre queremos definir variables de entorno globales. Por ejemplo, podríamos querer añadir <span style="font-family: monospace; font-size: 95%">/home/mi_usuario/bin</span> y el directorio de trabajo actual (en el cual nos encontramos), a la variable PATH, pero no queremos que todos los usuarios de nuestro sistema lo tengan en su PATH. Si queremos definir una variable localmente, debemos usar <span style="font-family: monospace; font-size: 95%">~/.bashrc</span> o <span style="font-family: monospace; font-size: 95%">~/.bash_profile</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">ARCHIVO</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">~/.bashrc</code></strong><strong>Extendiendo PATH para uso local</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c"># Dos puntos sin incluir después un directorio son tratados como el directorio de trabajo actual</span>
<span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PATH</span><span class="si">}</span><span class="s2">:/home/mi_usuario/bin:&quot;</span>
</pre></div></pre>
<p>Cuando vuelva a iniciar la sesión, su variable PATH será actualizada.
</p>
<h3><span class="mw-headline" id="Espec.C3.ADficas_de_sesi.C3.B3n">Específicas de sesión</span></h3>
<p>En ocasiones, se requieren definiciones aún más estrictas. Puede querer usar binarios de un directorio temporal que ha creado sin tener que usar la trayectoria completa a los binarios o sin editar <span style="font-family: monospace; font-size: 95%">~/.bashrc</span>. Para estos momentos necesitará esto.
</p><p>En este caso, puede definir la variable PATH en su sesión activa usando la orden <code>export</code>. Mientras no cierre la sesión, la variable PATH usará los valores temporales.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export PATH="${PATH}:/home/my_user/tmp/usr/bin"</code></div></div>
<p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Working/Initscripts/es.html" title="Previous part" class="btn btn-default">&#8592; Guiones de inicio</a> <a href="../../es.html" title="Handbook:AMD64/es" class="btn btn-default">Home</a> <a href="../../Portage/Files/es.html" title="Next part" class="btn btn-default">Archivos y directorios &#8594;</a></div>
<p><br />
</p><p><br />
<span class="error"><strong>Warning:</strong> Display title "Gentoo Linux amd64 Manual de Gentoo: Trabajar con Gentoo" overrides earlier display title "Handbook:AMD64/Full/Working/es".</span>
</p><p><br />
</p>
<!-- 
NewPP limit report
Cached time: 20160112143648
Cache expiry: 86400
Dynamic content: false
CPU time usage: 1.984 seconds
Real time usage: 2.274 seconds
Preprocessor visited node count: 10247/1000000
Preprocessor generated node count: 7606/1000000
Post‐expand include size: 559110/2097152 bytes
Template argument size: 49694/2097152 bytes
Highest expansion depth: 17/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00% 1625.929      1 - Handbook:Parts/Full/Working/es
100.00% 1625.929      1 - -total
 32.49%  528.319      1 - Handbook:AMD64/Working/Portage/es
 32.31%  525.338      1 - Handbook:Parts/Working/Portage/es
 24.40%  396.675     51 - Template:RootCmd
 23.17%  376.796     61 - Template:GenericCmd
 21.48%  349.223      5 - Handbook:Parts/TOC/es
 20.00%  325.237      1 - Handbook:AMD64/Working/Features/es
 19.81%  322.034      1 - Handbook:Parts/Working/Features/es
 19.21%  312.410     48 - Template:PreBox
-->

<!-- Saved in parser cache with key gentoo-wiki:pcache:idhash:108990-0!*!0!!en!*!* and timestamp 20160112143646 and revision id 263618
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Working/es&amp;oldid=263618">http://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Working/es&amp;oldid=263618</a>"</div>
															<div id='catlinks' class='catlinks catlinks-allhidden'></div>														<!-- end content -->

													</div>
					</div>
				</div>
			</div>
		</div>

			<footer>
		<div class="container">
			<div class="row">
				<div class="col-xs-12 col-md-offset-2 col-md-7">
											<div class="spacer"></div>
						<ul id="f-list">
																							<li id="lastmod"> This page was last modified on 11 February 2015, at 16:33.</li>
																															<li id="privacy"><a href="../../../Gentoo_Wiki_Privacy_policy.html" title="Gentoo Wiki:Privacy policy">Privacy policy</a></li>
																							<li id="about"><a href="../../../Gentoo_Wiki_About.html" title="Gentoo Wiki:About">About Gentoo Wiki</a></li>
																							<li id="disclaimer"><a href="../../../Gentoo_Wiki_General_disclaimer.html" title="Gentoo Wiki:General disclaimer">Disclaimers</a></li>
													</ul>
									</div>
				<div class="col-xs-12 col-md-3">
					<!-- No questions or comments, the Wiki has enough information on how to contact us. -->
				</div>
			</div>
			<div class="row">
				<div class="col-xs-3 col-md-2">
					<ul class="footerlinks three-icons">
						<li><a href="https://twitter.com/gentoo" title="@Gentoo on Twitter"><span class="fa fa-twitter fa-fw"></span></a></li>
						<li><a href="https://plus.google.com/+Gentoo" title="+Gentoo on Google+"><span class="fa fa-google-plus fa-fw"></span></a></li>
						<li><a href="https://www.facebook.com/gentoo.org" title="Gentoo on Facebook"><span class="fa fa-facebook fa-fw"></span></a></li>
					</ul>
				</div>
				<div class="col-xs-9 col-md-9">
					<strong>&copy; 2001&ndash;2016 Gentoo Foundation, Inc.</strong><br />
					<small>
						Gentoo is a trademark of the Gentoo Foundation, Inc.
						The contents of this document, unless otherwise expressly stated, are licensed under the
						<a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">CC-BY-SA-3.0</a> license.
						The <a href="https://www.gentoo.org/inside-gentoo/foundation/name-logo-guidelines.html">Gentoo Name and Logo Usage Guidelines</a> apply.
					</small>
				</div>
			</div>
		</div>
	</footer>
	
		<script>
			window.RLQ = window.RLQ || []; window.RLQ.push( function () {
				$.getScript("https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.js");
			} );
		</script>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.skinning.content.externallinks&amp;only=styles&amp;skin=tyrian" />
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.load(["ext.smw.tooltips","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.uls.pt"]);
} );</script><script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['setDocumentTitle', "Handbook:AMD64/Full/Working/es"]);
  _paq.push(['setIgnoreClasses', 'image']);
  _paq.push(['trackPageView']);
  _paq.push(['disableCookies']);
  _paq.push(['enableLinkTracking']);
  
  (function() {
    var u="http://piwik.gentoo.org//";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="http://piwik.gentoo.org//piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":2523});
} );</script></body>
<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:AMD64/Full/Working/es by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:32 GMT -->
</html>