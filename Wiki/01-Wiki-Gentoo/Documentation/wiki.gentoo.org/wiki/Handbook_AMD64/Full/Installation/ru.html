<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation/ru by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Gentoo Linux amd64 Настольная книга: Установка Gentoo - Gentoo Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"Handbook","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":560,"wgPageName":"Handbook:AMD64/Full/Installation/ru","wgTitle":"AMD64/Full/Installation/ru","wgCurRevisionId":229888,"wgRevisionId":229888,"wgArticleId":77388,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"ru","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],"wgMonthNamesShort":["","янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],"wgRelevantPageName":"Handbook:AMD64/Full/Installation/ru","wgRelevantArticleId":77388,
"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],"sfgAutocompleteOnAllChars":!1,"sfgFieldProperties":[],"sfgCargoFields":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/extensions/SemanticForms","edgValues":null,"sfgEDSettings":null,"wgWikiEditorEnabledModules":{"toolbar":!0,"dialogs":!0,"preview":!0,"publish":!1},"wgULSAcceptLanguageList":["en","*"],"wgULSCurrentAutonym":"English","wgTranslatePageTranslation":"translation"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["ext.translate","ext.smw.style","mediawiki.page.startup","mediawiki.legacy.wikibits","ext.uls.init"]);
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cext.uls.nojs%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.tyrian.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=ext.smw.style%7Cext.smw.tooltip.styles&amp;only=styles&amp;skin=tyrian" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.css" />
<link rel="stylesheet" href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/tyrian.min.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=tyrian" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=tyrian"></script>
<meta name="generator" content="MediaWiki 1.26.2-gentoo" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="theme-color" content="#54487a" />
<link rel="ExportRDF" type="application/rdf+xml" title="Handbook:AMD64/Full/Installation/ru" href="https://wiki.gentoo.org/index.php?title=Special:ExportRDF/Handbook:AMD64/Full/Installation/ru&amp;xmlmime=rdf" />
<link rel="shortcut icon" href="https://wiki.gentoo.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.gentoo.org/opensearch_desc.php" title="Gentoo Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.gentoo.org/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Gentoo Wiki Atom feed" href="https://wiki.gentoo.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-560 ns-subject page-Handbook_AMD64_Full_Installation_ru skin-tyrian action-view">
	<div class="mw-jump sr-only">
		Jump to:		<a href="#top">content</a>
	</div>
	<header>
		<div class="site-title">
			<div class="container">
				<div class="row">
					<div class="site-title-buttons">
						<div class="btn-group btn-group-sm">
							<a href="https://get.gentoo.org/" role="button" class="btn get-gentoo"><span class="fa fa-fw fa-download"></span> <strong>Get Gentoo!</strong></a>
							<div class="btn-group btn-group-sm">
								<a class="btn gentoo-org-sites dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">
									<span class="fa fa-fw fa-map-o"></span> <span class="hidden-xs">gentoo.org sites</span> <span class="caret"></span>
								</a>
								<ul class="dropdown-menu dropdown-menu-right">
									<li><a href="https://www.gentoo.org/" title="Main Gentoo website"><span class="fa fa-home fa-fw"></span> gentoo.org</a></li>
									<li><a href="https://wiki.gentoo.org/" title="Find and contribute documentation"><span class="fa fa-file-text-o fa-fw"></span> Wiki</a></li>
									<li><a href="https://bugs.gentoo.org/" title="Report issues and find common issues"><span class="fa fa-bug fa-fw"></span> Bugs</a></li>
									<li><a href="https://forums.gentoo.org/" title="Discuss with the community"><span class="fa fa-comments-o fa-fw"></span> Forums</a></li>
									<li><a href="https://packages.gentoo.org/" title="Find software for your Gentoo"><span class="fa fa-hdd-o fa-fw"></span> Packages</a></li>
									<li class="divider"></li>
									<li><a href="https://planet.gentoo.org/" title="Find out what's going on in the developer community"><span class="fa fa-rss fa-fw"></span> Planet</a></li>
									<li><a href="https://archives.gentoo.org/" title="Read up on past discussions"><span class="fa fa-archive fa-fw"></span> Archives</a></li>
									<li><a href="https://sources.gentoo.org/" title="Browse our source code"><span class="fa fa-code fa-fw"></span> Sources</a></li>
									<li class="divider"></li>
									<li><a href="https://infra-status.gentoo.org/" title="Get updates on the services provided by Gentoo"><span class="fa fa-server fa-fw"></span> Infra Status</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="logo">
						<a href="https://wiki.gentoo.org/" title="Back to the homepage" class="site-logo"><object data="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.svg" type="image/svg+xml">
							<img src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.png" alt="Gentoo Linux Logo">
						</object></a>
						<span class="site-label">Wiki</span>
					</div>
				</div>
			</div>
		</div>
		<nav class="tyrian-navbar" role="navigation">
			<div class="container">
				<div class="row">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse navbar-main-collapse">
						<ul class="nav navbar-nav">
							<li id="n-mainpage-description"><a href="../../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../../../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-help"><a href="../../../Special_MyLanguage/Help_Contents.html" title="The place to find out">Help</a></li>			<li class="dropdown">
				<a href="../../../Gentoo_Wiki_Menu-Gentoo.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Gentoo <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Projects"><a href="../../../Project_Gentoo.html">Gentoo Projects</a></li>				</ul>
			</li>
					<li class="dropdown">
				<a href="../../../Gentoo_Wiki_Menu-Documentation.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
		<li id="n-Gentoo-Handbook"><a href="../../../Handbook_Main_Page.html">Gentoo Handbook</a></li><li id="n-Gentoo-FAQ"><a href="../../../FAQ.html">Gentoo FAQ</a></li><li id="n-Featured-Documents"><a href="../../../Project_Documentation/Overview.html">Featured Documents</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Topics</li><li id="n-Core-system"><a href="../../../Category_Core_system.html">Core system</a></li><li id="n-Hardware"><a href="../../../Category_Hardware.html">Hardware</a></li><li id="n-Software"><a href="../../../Category_Software.html">Software</a></li><li id="n-Desktop"><a href="../../../Category_Desktop.html">Desktop</a></li><li id="n-Server-.26-Security"><a href="../../../Category_Server_and_Security.html">Server &amp; Security</a></li><li id="n-Project-.26-Community"><a href="../../../Category_Project_and_Community.html">Project &amp; Community</a></li>				</ul>
			</li>
								</ul>
						<ul class="nav navbar-nav navbar-right hidden-xs">
									<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cog"></i> Tools <span class="caret"></span></a>
			<ul class="dropdown-menu" role="menu">
				<li id="t-whatlinkshere"><a href="../../../Special_WhatLinksHere/Handbook_AMD64/Full/Installation/ru.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../../../Special_RecentChangesLinked/Handbook_AMD64/Full/Installation/ru.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../../../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Installation/ru&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Installation/ru&amp;oldid=229888" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Installation/ru&amp;action=info" title="More information about this page">Page information</a></li><li id="t-smwbrowselink"><a href="../../../Special_Browse/Handbook_AMD64-2FFull-2FInstallation-2Fru.html" rel="smw-browse">Browse properties</a></li>			</ul>
		</li>
			<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
				<span class="glyphicon glyphicon-user" aria-label="Personal tools"></span>
				User				<span class="caret"></span>
			</a>
			<ul class="dropdown-menu" role="menu">
				<li id="pt-createaccount"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AAMD64%2FFull%2FInstallation%2Fru&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://wiki.gentoo.org/index.php?title=Special:UserLogin&amp;returnto=Handbook%3AAMD64%2FFull%2FInstallation%2Fru" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>			</ul>
		</li>
								</ul>
					</div>
				</div>
			</div>
		</nav>
		
		<nav class="navbar navbar-grey navbar-stick" id="wiki-actions" role="navigation">
			<div class="container"><div class="row">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#gw-toolbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<div class="collapse navbar-collapse" id="gw-toolbar">
					<ul class="nav navbar-nav">
					<li id="ca-nstab-handbook" class="selected active"><a href="ru.html">Handbook</a></li><li id="ca-talk" class="new"><a href="https://wiki.gentoo.org/index.php?title=Handbook_Talk:AMD64/Full/Installation/ru&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>					</ul>
							<form action="https://wiki.gentoo.org/index.php" id="searchform" class="navbar-form navbar-right" role="search">
			<input type='hidden' name="title" value="Special:Search"/>

				<div class="input-group">
					<input type="search" name="search" placeholder="Search" title="Search Gentoo Wiki [f]" accesskey="f" id="searchInput" class="form-control" />					<div class="input-group-btn"><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton btn btn-default" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton btn btn-default" /></div>
				</div>
		</form>
						<ul class="nav navbar-nav navbar-right hidden-xs">
					<li id="ca-viewsource"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Installation/ru&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">more <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
					<li id="ca-history"><a href="https://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Installation/ru&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>							</ul>
						</li>
					</ul>
				</div>
			</div></div>
		</nav>
		</header>
	
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div id="content" class="mw-body" role="main">
						<a id="top"></a>
						
						<h1 id="firstHeading" class="first-header" lang="ru">
							<span dir="auto">Gentoo Linux amd64 Настольная книга: Установка Gentoo</span>
						</h1>

						<div id="bodyContent" class="mw-body-content">
							<div id="siteSub">From Gentoo Wiki</div>
							<div id="contentSub">
								<span class="subpages"><a href="../../../Special_MyLanguage/Handbook_AMD64.html" title="Special:MyLanguage/Handbook:AMD64">Handbook:AMD64</a> | <a href="../../../Special_MyLanguage/Handbook_AMD64/Full.html" title="Special:MyLanguage/Handbook:AMD64/Full">Full</a></span>							</div>
																					<div id="jump-to-nav" class="mw-jump">
								Jump to:								<a href="#column-one">navigation</a>, 								<a href="#searchInput">search</a>
							</div>

							<!-- start content -->
							<div id="mw-content-text" lang="ru" dir="ltr" class="mw-content-ltr"><div class="mw-translate-page-info" lang="en" dir="ltr">This page is a <span class="plainlinks"><a rel="nofollow" class="external text" href="http://wiki.gentoo.org/index.php?title=Special:Translate&amp;group=page-Handbook%3AAMD64%2FFull%2FInstallation&amp;action=page&amp;filter=&amp;language=ru">translated version</a></span> of the page <a href="../Installation.html" title="Handbook:AMD64/Full/Installation">Handbook:AMD64/Full/Installation</a> and the translation is 100% complete.</div>
<hr /><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.94.D0.BE.D0.B1.D1.80.D0.BE_.D0.BF.D0.BE.D0.B6.D0.B0.D0.BB.D0.BE.D0.B2.D0.B0.D1.82.D1.8C"><span class="tocnumber">1.1</span> <span class="toctext">Добро пожаловать</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.BE.D1.80.D0.B3.D0.B0.D0.BD.D0.B8.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B0_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0.3F"><span class="tocnumber">1.2</span> <span class="toctext">Как организована установка?</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA.D0.BE.D0.B2.D1.8B_.D0.B2.D0.B0.D1.80.D0.B8.D0.B0.D0.BD.D1.82.D1.8B"><span class="tocnumber">1.3</span> <span class="toctext">Каковы варианты</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B"><span class="tocnumber">1.4</span> <span class="toctext">Проблемы</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D1.8B.D0.B5_.D1.82.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"><span class="tocnumber">2</span> <span class="toctext">Аппаратные требования</span></a></li>
<li class="toclevel-1"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D1.8B.D0.B9_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B0.D0.BA.D1.82-.D0.B4.D0.B8.D1.81.D0.BA_Gentoo"><span class="tocnumber">3</span> <span class="toctext">Установочный компакт-диск Gentoo</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9C.D0.B8.D0.BD.D0.B8.D0.BC.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D1.8B.D0.B9_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B0.D0.BA.D1.82-.D0.B4.D0.B8.D1.81.D0.BA_Gentoo"><span class="tocnumber">3.1</span> <span class="toctext">Минимальный установочный компакт-диск Gentoo</span></a></li>
<li class="toclevel-2"><a href="#.D0.92.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D1.8B.D0.B9_Gentoo_LiveDVD"><span class="tocnumber">3.2</span> <span class="toctext">Возможный Gentoo LiveDVD</span></a></li>
<li class="toclevel-2"><a href="#.D0.A7.D1.82.D0.BE_.D1.82.D0.B0.D0.BA.D0.BE.D0.B5_.D1.81.D1.82.D0.B0.D0.B4.D0.B8.D0.B8.3F"><span class="tocnumber">3.3</span> <span class="toctext">Что такое стадии?</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A1.D0.BA.D0.B0.D1.87.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B8_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D1.8C_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0"><span class="tocnumber">4</span> <span class="toctext">Скачивание и запись установочного диска</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A1.D0.BA.D0.B0.D1.87.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BE.D0.B1.D1.80.D0.B0.D0.B7.D0.B0"><span class="tocnumber">4.1</span> <span class="toctext">Скачивание образа</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D1.81.D0.BA.D0.B0.D1.87.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2"><span class="tocnumber">4.2</span> <span class="toctext">Проверка скачанных файлов</span></a>
<ul>
<li class="toclevel-3"><a href="#.D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.BD.D0.B0_Microsoft_Windows"><span class="tocnumber">4.2.1</span> <span class="toctext">Проверка на Microsoft Windows</span></a></li>
<li class="toclevel-3"><a href="#.D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.BD.D0.B0_Linux"><span class="tocnumber">4.2.2</span> <span class="toctext">Проверка на Linux</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D0.B6.D0.B8.D0.B3"><span class="tocnumber">4.3</span> <span class="toctext">Прожиг</span></a>
<ul>
<li class="toclevel-3"><a href="#.D0.9F.D1.80.D0.BE.D0.B6.D0.B8.D0.B3_.D0.B2_Microsoft_Windows"><span class="tocnumber">4.3.1</span> <span class="toctext">Прожиг в Microsoft Windows</span></a></li>
<li class="toclevel-3"><a href="#.D0.9F.D1.80.D0.BE.D0.B6.D0.B8.D0.B3_.D0.B2_Linux"><span class="tocnumber">4.3.2</span> <span class="toctext">Прожиг в Linux</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.81_CD"><span class="tocnumber">5</span> <span class="toctext">Загрузка с CD</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.81_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B0.D0.BA.D1.82-.D0.B4.D0.B8.D1.81.D0.BA.D0.B0"><span class="tocnumber">5.1</span> <span class="toctext">Загрузка с установочного компакт-диска</span></a></li>
<li class="toclevel-2"><a href="#.D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BE.D0.B1.D0.BE.D1.80.D1.83.D0.B4.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"><span class="tocnumber">5.2</span> <span class="toctext">Дополнительная настройка оборудования</span></a></li>
<li class="toclevel-2"><a href="#.D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A3.D1.87.D0.B5.D1.82.D0.BD.D1.8B.D0.B5_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D0.B8_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D0.B5.D0.B9"><span class="tocnumber">5.3</span> <span class="toctext">Дополнительно: Учетные записи пользователей</span></a></li>
<li class="toclevel-2"><a href="#.D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D0.B4.D0.BE.D0.BA.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.86.D0.B8.D0.B8_.D0.B2.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D1.8F_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B8"><span class="tocnumber">5.4</span> <span class="toctext">Дополнительно: Просмотр документации во время установки</span></a></li>
<li class="toclevel-2"><a href="#.D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.B4.D0.B5.D0.BC.D0.BE.D0.BD.D0.B0_SSH"><span class="tocnumber">5.5</span> <span class="toctext">Дополнительно: Запуск демона SSH</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B5_.D0.BE.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.BE.D0.B2_.D1.81.D0.B5.D1.82.D0.B8"><span class="tocnumber">6</span> <span class="toctext">Автоматическое определение параметров сети</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D1.80.D0.BE.D0.BA.D1.81.D0.B8"><span class="tocnumber">6.1</span> <span class="toctext">Дополнительно: Настройка прокси</span></a></li>
<li class="toclevel-2"><a href="#.D0.A2.D0.B5.D1.81.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B8"><span class="tocnumber">6.2</span> <span class="toctext">Тестирование сети</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8"><span class="tocnumber">7</span> <span class="toctext">Автоматическая конфигурация сети</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_net-setup"><span class="tocnumber">7.1</span> <span class="toctext">По умолчанию: использование net-setup</span></a></li>
<li class="toclevel-2"><a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_PPP"><span class="tocnumber">7.2</span> <span class="toctext">Альтернатива: использование PPP</span></a></li>
<li class="toclevel-2"><a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_PPTP"><span class="tocnumber">7.3</span> <span class="toctext">Альтернатива: использование PPTP</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8"><span class="tocnumber">8</span> <span class="toctext">Ручная конфигурация сети</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D1.85_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B5.D0.B9"><span class="tocnumber">8.1</span> <span class="toctext">Загрузка сетевых модулей</span></a></li>
<li class="toclevel-2"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_DHCP"><span class="tocnumber">8.2</span> <span class="toctext">Использование DHCP</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D0.BE.D0.B4.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B1.D0.B5.D1.81.D0.BF.D1.80.D0.BE.D0.B2.D0.BE.D0.B4.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.B0"><span class="tocnumber">8.3</span> <span class="toctext">Подготовка беспроводного доступа</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D0.B0.D1.8F_.D1.82.D0.B5.D1.80.D0.BC.D0.B8.D0.BD.D0.BE.D0.BB.D0.BE.D0.B3.D0.B8.D1.8F"><span class="tocnumber">8.4</span> <span class="toctext">Сетевая терминология</span></a></li>
<li class="toclevel-2"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_ifconfig_.D0.B8_route"><span class="tocnumber">8.5</span> <span class="toctext">Использование ifconfig и route</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2_.D0.B1.D0.BB.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"><span class="tocnumber">9</span> <span class="toctext">Введение в блочные устройства</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.91.D0.BB.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"><span class="tocnumber">9.1</span> <span class="toctext">Блочные устройства</span></a>
<ul>
<li class="toclevel-3"><a href="#.D0.A0.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D1.8B"><span class="tocnumber">9.1.1</span> <span class="toctext">Разделы</span></a></li>
<li class="toclevel-3"><a href="#MBR"><span class="tocnumber">9.1.2</span> <span class="toctext">MBR</span></a></li>
<li class="toclevel-3"><a href="#GPT"><span class="tocnumber">9.1.3</span> <span class="toctext">GPT</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#GPT_.D0.B8.D0.BB.D0.B8_MBR"><span class="tocnumber">9.2</span> <span class="toctext">GPT или MBR</span></a></li>
<li class="toclevel-2"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_UEFI"><span class="tocnumber">9.3</span> <span class="toctext">Использование UEFI</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D0.B4.D0.B2.D0.B8.D0.BD.D1.83.D1.82.D0.BE.D0.B5_.D1.85.D1.80.D0.B0.D0.BD.D0.B8.D0.BB.D0.B8.D1.89.D0.B5"><span class="tocnumber">9.4</span> <span class="toctext">Продвинутое хранилище</span></a></li>
<li class="toclevel-2"><a href="#.D0.94.D0.B5.D1.84.D0.BE.D0.BB.D1.82.D0.BD.D0.B0.D1.8F_.D1.81.D1.85.D0.B5.D0.BC.D0.B0_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"><span class="tocnumber">9.5</span> <span class="toctext">Дефолтная схема разделов</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A0.D0.B0.D0.B7.D1.80.D0.B0.D0.B1.D0.B0.D1.82.D1.8B.D0.B2.D0.B0.D0.B5.D0.BC_.D1.81.D1.85.D0.B5.D0.BC.D1.83_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"><span class="tocnumber">10</span> <span class="toctext">Разрабатываем схему разделов</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A1.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B8_.D0.BA.D0.B0.D0.BA.D0.B8.D1.85_.D0.B8.D0.BC.D0.B5.D0.BD.D0.BD.D0.BE.3F"><span class="tocnumber">10.1</span> <span class="toctext">Сколько и каких именно?</span></a></li>
<li class="toclevel-2"><a href="#.D0.9E_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D1.80.D0.B0.D0.BD.D1.81.D1.82.D0.B2.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.87.D0.BA.D0.B8.3F"><span class="tocnumber">10.2</span> <span class="toctext">О пространстве подкачки?</span></a></li>
<li class="toclevel-2"><a href="#.D0.A7.D1.82.D0.BE_.D1.82.D0.B0.D0.BA.D0.BE.D0.B5_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BE.D1.87.D0.BD.D1.8B.D0.B9_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB_BIOS.3F"><span class="tocnumber">10.3</span> <span class="toctext">Что такое загрузочный раздел BIOS?</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_parted_.D0.B4.D0.BB.D1.8F_.D1.81.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0"><span class="tocnumber">11</span> <span class="toctext">По умолчанию: Использование parted для создания разделов диска</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D1.82.D0.B5.D0.BA.D1.83.D1.89.D0.B5.D0.B9_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.82.D0.BA.D0.B8_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_parted"><span class="tocnumber">11.1</span> <span class="toctext">Просмотр текущей разметки разделов с помощью parted</span></a></li>
<li class="toclevel-2"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BC.D0.B5.D1.82.D0.BA.D0.B8_GPT"><span class="tocnumber">11.2</span> <span class="toctext">Установка метки GPT</span></a></li>
<li class="toclevel-2"><a href="#.D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D1.81.D0.B5.D1.85_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_parted"><span class="tocnumber">11.3</span> <span class="toctext">Удаление всех разделов с помощью parted</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"><span class="tocnumber">11.4</span> <span class="toctext">Создание разделов</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_fdisk_.D0.B4.D0.BB.D1.8F_.D1.81.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0"><span class="tocnumber">12</span> <span class="toctext">Альтернатива: Использование fdisk для создания разделов диска</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D1.82.D0.B5.D0.BA.D1.83.D1.89.D0.B5.D0.B9_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.82.D0.BA.D0.B8_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"><span class="tocnumber">12.1</span> <span class="toctext">Просмотр текущей разметки разделов</span></a></li>
<li class="toclevel-2"><a href="#.D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D1.81.D0.B5.D1.85_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_fdisk"><span class="tocnumber">12.2</span> <span class="toctext">Удаление всех разделов с помощью fdisk</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0_BIOS"><span class="tocnumber">12.3</span> <span class="toctext">Создание загрузочного раздела BIOS</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0"><span class="tocnumber">12.4</span> <span class="toctext">Создание загрузочного раздела</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.87.D0.BA.D0.B8"><span class="tocnumber">12.5</span> <span class="toctext">Создание раздела подкачки</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BA.D0.BE.D1.80.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0"><span class="tocnumber">12.6</span> <span class="toctext">Создание коревого раздела</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.BE.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.82.D0.BA.D0.B8_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"><span class="tocnumber">12.7</span> <span class="toctext">Сохранение разметки разделов</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC"><span class="tocnumber">13</span> <span class="toctext">Создание файловых систем</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_2"><span class="tocnumber">13.1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-2"><a href="#.D0.A4.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"><span class="tocnumber">13.2</span> <span class="toctext">Файловые системы</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"><span class="tocnumber">13.3</span> <span class="toctext">Создание файловой системы</span></a></li>
<li class="toclevel-2"><a href="#.D0.90.D0.BA.D1.82.D0.B8.D0.B2.D0.B0.D1.86.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.87.D0.BA.D0.B8"><span class="tocnumber">13.4</span> <span class="toctext">Активация раздела подкачки</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.9C.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"><span class="tocnumber">14</span> <span class="toctext">Монтирование</span></a></li>
<li class="toclevel-1"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B0_stage"><span class="tocnumber">15</span> <span class="toctext">Установка архива stage</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8_.D0.B8_.D0.B4.D0.B0.D1.82.D1.8B"><span class="tocnumber">15.1</span> <span class="toctext">Установка времени и даты</span></a></li>
<li class="toclevel-2"><a href="#.D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B0_stage"><span class="tocnumber">15.2</span> <span class="toctext">Загрузка архива stage</span></a></li>
<li class="toclevel-2"><a href="#.D0.A0.D0.B0.D1.81.D0.BF.D0.B0.D0.BA.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B0_stage"><span class="tocnumber">15.3</span> <span class="toctext">Распаковка архива stage</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.BE.D0.B2_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B8.D0.BB.D1.8F.D1.86.D0.B8.D0.B8"><span class="tocnumber">16</span> <span class="toctext">Настройка параметров компиляции</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_3"><span class="tocnumber">16.1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-2"><a href="#CFLAGS_.D0.B8_CXXFLAGS"><span class="tocnumber">16.2</span> <span class="toctext">CFLAGS и CXXFLAGS</span></a></li>
<li class="toclevel-2"><a href="#MAKEOPTS"><span class="tocnumber">16.3</span> <span class="toctext">MAKEOPTS</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0_.D1.81.D1.82.D0.B0.D1.80.D1.82.2C_.D0.B2.D0.BD.D0.B8.D0.BC.D0.B0.D0.BD.D0.B8.D0.B5.2C_.D0.BC.D0.B0.D1.80.D1.88"><span class="tocnumber">16.4</span> <span class="toctext">На старт, внимание, марш</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BA.D0.BE.D1.80.D0.BD.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BA.D0.B0.D1.82.D0.B0.D0.BB.D0.BE.D0.B3.D0.B0_.28chrooting.29"><span class="tocnumber">17</span> <span class="toctext">Изменение корневого каталога (chrooting)</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9D.D0.B5.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.B7.D0.B5.D1.80.D0.BA.D0.B0.D0.BB.D0.B0"><span class="tocnumber">17.1</span> <span class="toctext">Необязательно: Выбор зеркала</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.BE.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D0.B8_.D0.BE_DNS"><span class="tocnumber">17.2</span> <span class="toctext">Копирование информации о DNS</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D0.BE.D0.B1.D1.85.D0.BE.D0.B4.D0.B8.D0.BC.D1.8B.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC"><span class="tocnumber">17.3</span> <span class="toctext">Подключение необходимых файловых систем</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D0.B5.D1.80.D0.B5.D1.85.D0.BE.D0.B4_.D0.B2_.D0.BD.D0.BE.D0.B2.D0.BE.D0.B5_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">17.4</span> <span class="toctext">Переход в новое окружение</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_Portage"><span class="tocnumber">18</span> <span class="toctext">Настройка Portage</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.81.D0.BD.D0.B8.D0.BC.D0.BA.D0.B0_Portage"><span class="tocnumber">18.1</span> <span class="toctext">Установка снимка Portage</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B5.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.9E.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B4.D0.B5.D1.80.D0.B5.D0.B2.D0.B0_Portage"><span class="tocnumber">18.2</span> <span class="toctext">Необязательно: Обновление дерева Portage</span></a></li>
<li class="toclevel-2"><a href="#.D0.A7.D1.82.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.BE.D0.B2.D0.BE.D1.81.D1.82.D0.B5.D0.B9"><span class="tocnumber">18.3</span> <span class="toctext">Чтение новостей</span></a></li>
<li class="toclevel-2"><a href="#.D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BF.D0.BE.D0.B4.D1.85.D0.BE.D0.B4.D1.8F.D1.89.D0.B5.D0.B3.D0.BE_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F"><span class="tocnumber">18.4</span> <span class="toctext">Выбор подходящего профиля</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_USE_.D0.BF.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D0.BE.D0.B9"><span class="tocnumber">18.5</span> <span class="toctext">Настройка USE переменной</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.9D.D0.B5.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_systemd"><span class="tocnumber">19</span> <span class="toctext">Необязательно: Использование systemd</span></a></li>
<li class="toclevel-1"><a href="#.D0.A7.D0.B0.D1.81.D0.BE.D0.B2.D0.BE.D0.B9_.D0.BF.D0.BE.D1.8F.D1.81"><span class="tocnumber">20</span> <span class="toctext">Часовой пояс</span></a></li>
<li class="toclevel-1"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D0.B5.D0.B9"><span class="tocnumber">21</span> <span class="toctext">Настройка локалей</span></a></li>
<li class="toclevel-1"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B8.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D1.8B.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2"><span class="tocnumber">22</span> <span class="toctext">Установка исходных файлов</span></a></li>
<li class="toclevel-1"><a href="#.D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D0.BD.D0.BE.D0.B9_.D0.B2.D0.B0.D1.80.D0.B8.D0.B0.D0.BD.D1.82:_.D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"><span class="tocnumber">23</span> <span class="toctext">Основной вариант: Ручная настройка</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_4"><span class="tocnumber">23.1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-2"><a href="#.D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B0.D0.B5.D0.BC_.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5_.D0.BE.D0.BF.D1.86.D0.B8.D0.B8"><span class="tocnumber">23.2</span> <span class="toctext">Включаем обязательные опции</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.8F.D0.B4.D1.80.D0.B0.2C_.D1.81.D0.BF.D0.B5.D1.86.D0.B8.D1.84.D0.B8.D1.87.D0.BD.D0.B0.D1.8F_.D0.B4.D0.BB.D1.8F_.D0.B0.D1.80.D1.85.D0.B8.D1.82.D0.B5.D0.BA.D1.82.D1.83.D1.80.D1.8B"><span class="tocnumber">23.3</span> <span class="toctext">Настройка ядра, специфичная для архитектуры</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.BE.D0.BC.D0.BF.D0.B8.D0.BB.D1.8F.D1.86.D0.B8.D1.8F_.D0.B8_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"><span class="tocnumber">23.4</span> <span class="toctext">Компиляция и установка</span></a></li>
<li class="toclevel-2"><a href="#.D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A1.D0.BE.D0.B1.D0.B8.D1.80.D0.B0.D0.B5.D0.BC_initramfs"><span class="tocnumber">23.5</span> <span class="toctext">Опционально: Собираем initramfs</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.BD.D0.BE:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_genkernel"><span class="tocnumber">24</span> <span class="toctext">Альтернативно: Используя genkernel</span></a></li>
<li class="toclevel-1"><a href="#.D0.9C.D0.BE.D0.B4.D1.83.D0.BB.D0.B8_.D1.8F.D0.B4.D1.80.D0.B0"><span class="tocnumber">25</span> <span class="toctext">Модули ядра</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B5.D0.B9"><span class="tocnumber">25.1</span> <span class="toctext">Настройка модулей</span></a></li>
<li class="toclevel-2"><a href="#.D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.BF.D1.80.D0.BE.D1.88.D0.B8.D0.B2.D0.BA.D0.B8"><span class="tocnumber">25.2</span> <span class="toctext">Опционально: Установка файлов прошивки</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.98.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F_.D0.BE_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B5"><span class="tocnumber">26</span> <span class="toctext">Информация о файловой системе</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9E_.D1.84.D0.B0.D0.B9.D0.BB.D0.B5_fstab"><span class="tocnumber">26.1</span> <span class="toctext">О файле fstab</span></a></li>
<li class="toclevel-2"><a href="#.D0.A0.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0_fstab"><span class="tocnumber">26.2</span> <span class="toctext">Редактирование файла fstab</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.98.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F_.D0.BE_.D1.81.D0.B5.D1.82.D0.B8"><span class="tocnumber">27</span> <span class="toctext">Информация о сети</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.98.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F_.D0.BE_.D1.85.D0.BE.D1.81.D1.82.D0.B5_.D0.B8_.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.B5"><span class="tocnumber">27.1</span> <span class="toctext">Информация о хосте и домене</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B8"><span class="tocnumber">27.2</span> <span class="toctext">Настройка сети</span></a></li>
<li class="toclevel-2"><a href="#.D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"><span class="tocnumber">27.3</span> <span class="toctext">Автоматический запуск сетевого подключения при загрузке системы</span></a></li>
<li class="toclevel-2"><a href="#.D0.A4.D0.B0.D0.B9.D0.BB_hosts"><span class="tocnumber">27.4</span> <span class="toctext">Файл hosts</span></a></li>
<li class="toclevel-2"><a href="#.D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.BF.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B0_PCMCIA_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2"><span class="tocnumber">27.5</span> <span class="toctext">Опционально: поддержка PCMCIA устройств</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D0.B0.D1.8F_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"><span class="tocnumber">28</span> <span class="toctext">Системная информация</span></a>
<ul>
<li class="toclevel-2"><a href="#Root_.D0.BF.D0.B0.D1.80.D0.BE.D0.BB.D1.8C"><span class="tocnumber">28.1</span> <span class="toctext">Root пароль</span></a></li>
<li class="toclevel-2"><a href="#Init_and_boot_configuration"><span class="tocnumber">28.2</span> <span class="toctext">Init and boot configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B9_.D0.B6.D1.83.D1.80.D0.BD.D0.B0.D0.BB"><span class="tocnumber">29</span> <span class="toctext">Системный журнал</span></a></li>
<li class="toclevel-1"><a href="#.D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_Cron_.D0.B4.D0.B5.D0.BC.D0.BE.D0.BD"><span class="tocnumber">30</span> <span class="toctext">Опционально: Cron демон</span></a></li>
<li class="toclevel-1"><a href="#.D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.98.D0.BD.D0.B4.D0.B5.D0.BA.D1.81.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2"><span class="tocnumber">31</span> <span class="toctext">Опционально: Индексирование файлов</span></a></li>
<li class="toclevel-1"><a href="#O.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF"><span class="tocnumber">32</span> <span class="toctext">Oпционально: Удаленный доступ</span></a></li>
<li class="toclevel-1"><a href="#.D0.A3.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B_.D0.B4.D0.BB.D1.8F_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC"><span class="tocnumber">33</span> <span class="toctext">Утилиты для файловых систем</span></a></li>
<li class="toclevel-1"><a href="#.D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.B5_.D1.83.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B"><span class="tocnumber">34</span> <span class="toctext">Сетевые утилиты</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_DHCP_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D0.B0"><span class="tocnumber">34.1</span> <span class="toctext">Установка DHCP клиента</span></a></li>
<li class="toclevel-2"><a href="#O.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_PPPoE_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D0.B0"><span class="tocnumber">34.2</span> <span class="toctext">Oпционально: Установка PPPoE клиента</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA.D0.B0"><span class="tocnumber">35</span> <span class="toctext">Выбор загрузчика</span></a></li>
<li class="toclevel-1"><a href="#.D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_GRUB2"><span class="tocnumber">36</span> <span class="toctext">По умолчанию: Использование GRUB2</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_GRUB2"><span class="tocnumber">36.1</span> <span class="toctext">Установка GRUB2</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_GRUB2"><span class="tocnumber">36.2</span> <span class="toctext">Настройка GRUB2</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.BD.D1.8B.D0.B9_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_LILO"><span class="tocnumber">37</span> <span class="toctext">Альтернативный метод: использование LILO</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_LILO"><span class="tocnumber">37.1</span> <span class="toctext">Установка LILO</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_LILO"><span class="tocnumber">37.2</span> <span class="toctext">Настройка LILO</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.BD.D1.8B.D0.B9_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_efibootmgr"><span class="tocnumber">38</span> <span class="toctext">Альтернативный метод: Использование efibootmgr</span></a></li>
<li class="toclevel-1"><a href="#.D0.9F.D0.B5.D1.80.D0.B5.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"><span class="tocnumber">39</span> <span class="toctext">Перезагрузка системы</span></a></li>
<li class="toclevel-1"><a href="#.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.83.D1.87.D0.B5.D1.82.D0.BD.D1.8B.D0.BC.D0.B8_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D1.8F.D0.BC.D0.B8"><span class="tocnumber">40</span> <span class="toctext">Управление учетными записями</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.83.D1.87.D0.B5.D1.82.D0.BD.D0.BE.D0.B9_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D0.B8_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.BE.D0.B2.D1.81.D0.B5.D0.B4.D0.BD.D0.B5.D0.B2.D0.BD.D0.BE.D0.B9_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B"><span class="tocnumber">40.1</span> <span class="toctext">Добавление учетной записи для повседневной работы</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.9E.D1.87.D0.B8.D1.81.D1.82.D0.BA.D0.B0_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0"><span class="tocnumber">41</span> <span class="toctext">Очистка диска</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A3.D0.B4.D0.B0.D0.BB.D1.8F.D0.B5.D0.BC_tar-.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D1.8B"><span class="tocnumber">41.1</span> <span class="toctext">Удаляем tar-архивы</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A7.D1.82.D0.BE_.D0.B4.D0.B5.D0.BB.D0.B0.D1.82.D1.8C_.D0.B4.D0.B0.D0.BB.D1.8C.D1.88.D0.B5"><span class="tocnumber">42</span> <span class="toctext">Что делать дальше</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.94.D0.BE.D0.BA.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.86.D0.B8.D1.8F"><span class="tocnumber">42.1</span> <span class="toctext">Документация</span></a></li>
<li class="toclevel-2"><a href="#Gentoo_.D0.B2_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.BD.D0.B5.D1.82.D0.B5"><span class="tocnumber">42.2</span> <span class="toctext">Gentoo в интернете</span></a></li>
</ul>
</li>
</ul>
</div>

<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5">Введение</span></h2>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.B1.D1.80.D0.BE_.D0.BF.D0.BE.D0.B6.D0.B0.D0.BB.D0.BE.D0.B2.D0.B0.D1.82.D1.8C">Добро пожаловать</span></h3>
<p>Прежде всего, добро пожаловать в Gentoo. Вы на пороге мира больших возможностей и высокой производительности. Gentoo весь пропитан идеей свободы выбора. При установке Gentoo вы не раз убедитесь в этом: пользователи могут выбрать объем самостоятельной компиляции, способ установки Gentoo, службу журналирования системы и т.д.
</p><p>Gentoo - это быстрый современный метадистрибутив, обладающий большой чистотой и гибкостью. Gentoo основан на свободном программном обеспечении, и не скрывает от пользователя, "что под капотом". Portage, система управления пакетами Gentoo, написана на языке Python, что позволяет легко просматривать и изменять ее исходный код. Cборка Gentoo также выполняется из исходных текстов (хотя есть и поддержка бинарных пакетов), а настройка Gentoo выполняется с помощью обычных текстовых файлов. Другими словами - везде сплошная открытость.
</p><p>Важно понимать, что Gentoo развивается именно благодаря свободе выбора. Мы стараемся ничего вам не навязывать. А если вам покажется обратное - пожалуйста, <a rel="nofollow" class="external text" href="https://bugs.gentoo.org/">сообщите нам</a> об этой оплошности (англ.).
</p>
<h3><span class="mw-headline" id=".D0.9A.D0.B0.D0.BA_.D0.BE.D1.80.D0.B3.D0.B0.D0.BD.D0.B8.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B0_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0.3F">Как организована установка?</span></h3>
<p>Установка Gentoo рассматривается как последовательность из 10 шагов, которым соответствуют следующий набор глав. Каждый шаг приводит к определенному состоянию:
</p>
<table class="table-condensed table-striped">

<tr>
<th scope="col" width="15%"> Step </th>
<th> Result
</th></tr>
<tr>
<td> 1 </td>
<td> Пользователь находится в рабочей среде, готовой к установке Gentoo.
</td></tr>
<tr>
<td> 2 </td>
<td> Подключение к интернету готово для установки Gentoo.
</td></tr>
<tr>
<td> 3 </td>
<td> Жесткие диски готовы к установке Gentoo.
</td></tr>
<tr>
<td> 4 </td>
<td> Подготовлена установочная среда, и пользователь готов переключиться (chroot) в новую среду.
</td></tr>
<tr>
<td> 5 </td>
<td> Развернуты основные пакеты, общие для всех систем Gentoo.
</td></tr>
<tr>
<td> 6 </td>
<td> Установлено ядро Linux.
</td></tr>
<tr>
<td> 7 </td>
<td> Пользователь настроил большую часть конфигурационных файлов системы Gentoo.
</td></tr>
<tr>
<td> 8 </td>
<td> Установлены необходимые системные средства.
</td></tr>
<tr>
<td> 9 </td>
<td> Установлен и настроен выбранный начальный загрузчик.
</td></tr>
<tr>
<td> 10 </td>
<td> Вы можете начинать изучение только что установленной среды Gentoo.
</td></tr></table>
<p>Если вам будет предложен какой-либо выбор, настольная книга попытается объяснить плюсы и минусы каждого варианта. Хотя далее текст продолжается с использованием выбора по умолчанию (он помечен как "По умолчанию:" в заголовке), другие возможности также документируются (помечаются как "Альтернатива:" в заголовке). Не думайте, что то, что выбрано по умолчанию является рекомендацией Gentoo. Однако это тот вариант, который, как мы думаем, будет использовать наибольшее число пользователей.
</p><p>Иногда есть возможность выполнить необязательный шаг. Такие шаги помечены как	"Необязательно: ", и не требуются для установки Gentoo. Однако, некоторые из них будут зависеть от ранее принятого решения. Мы будем сообщать об этом, как в момент выбора, так и непосредственно перед описанием необязательных шагов.
</p>
<h3><span class="mw-headline" id=".D0.9A.D0.B0.D0.BA.D0.BE.D0.B2.D1.8B_.D0.B2.D0.B0.D1.80.D0.B8.D0.B0.D0.BD.D1.82.D1.8B">Каковы варианты</span></h3>
<p>Gentoo можно установить разными способами. Можно скачать и запустить один из установочных компакт-дисков, установить с уже установленного дистрибутива, с загрузочного CD не-Gentoo (например, Knoppix), из сетевой загрузочной среды, с дискеты аварийного восстановления и т.д.
</p><p>В этом руководстве описывается установка с установочного диска Gentoo, и, в некоторых случаях, с помощью сетевой загрузки (netboot).
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Для помощи по другим вариантам установки, включая использование не-Gentoo CD-дисков, прочитайте статью <a href="../../../Installation_alternatives/ru.html" title="Installation alternatives/ru">Альтернативные варианты установки</a>.</div>
<p>У нас также есть документ <a href="../../../Gentoo_installation_tips_and_tricks/ru.html" title="Gentoo installation tips and tricks/ru">Полезные советы по установке Gentoo</a>, который может быть полезен.
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B">Проблемы</span></h3>
<p>Если при установке вы столкнулись с проблемой (или с ошибкой в документации по установке), посетите нашу <a rel="nofollow" class="external text" href="https://bugs.gentoo.org/">систему распределения запросов (англ.)</a> и проверьте, возможно об этой ошибке уже известно. Если это не так, то создайте отчет об ошибке, чтобы мы о ней позаботились. Не бойтесь разработчиков, которым выпадает работа над вашими ошибками - людей они (обычно) не едят.
</p><p>Обратите внимание, что хотя руководство, которое вы сейчас читаете, посвящено определенной архитектуре, в нем могут упоминаться и другие архитектуры. Это связано с тем, что значительная часть текста настольной книги Gentoo является общей для всех архитектур (чтобы не дублировать работу, а также из-за острой нехватки разработчиков). Во избежание путаницы, мы стараемся сократить такие упоминания до минимума.
</p><p>Если вы не уверены, пользовательская ли у вас ошибка (какую-то ошибку совершили вы, хотя внимательно прочитали документацию), или программная (какую-то ошибку совершили мы, хотя тщательно тестировали установку/документацию), то не стесняйтесь, заходите на канал <span style="font-family: monospace; font-size: 95%;"><a rel="nofollow" class="external text" href="irc://irc.gentoo.org/gentoo">#gentoo</a></span> сервера irc.freenode.net. Разумеется, мы будем вам рады и по любому другому поводу, так как наш канал освещает все, что связано с Gentoo.
</p><p>Именно поэтому, если у вас есть вопрос, касающийся Gentoo, сначала загляните в список <a href="../../../FAQ/ru.html" title="FAQ/ru">распространенных вопросов (FAQ)</a>, входящий в состав <a href="../../../Main_Page.html" title="Main Page">Gentoo Wiki</a>. Также <a rel="nofollow" class="external text" href="https://forums.gentoo.org/viewforum.php?f=40">список распространенных вопросов</a> существует на <a rel="nofollow" class="external text" href="https://forums.gentoo.org/">Форумах Gentoo</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Содержание</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Media/ru.html" title="Следующая часть" class="btn btn-default">Выбор подходящего источника для установки &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D1.8B.D0.B5_.D1.82.D1.80.D0.B5.D0.B1.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F">Аппаратные требования</span></h2>
<p>Прежде чем начать, перечислим аппаратные требования, необходимые для успешной установки Gentoo на вашем компьютере amd64.
</p><p><br />
</p>
<table class="table" style="text-align: left;">

<tr>
<td>
</td>
<th> Минимальный CD
</th>
<th> LiveDVD
</th></tr>
<tr>
<th> Центральный процессор
</th>
<td colspan="2"> Любой процессор AMD64 или <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/EMT64#Intel_64">EM64T</a> (процессоры Core 2 Duo &amp; Quad являются EM64T)
</td></tr>
<tr>
<th> Память
</th>
<td> 256 Мб
</td>
<td> 512 Мб
</td></tr>
<tr>
<th> Дисковое пространство
</th>
<td colspan="2">2.5 Гб (исключая пространство подкачки)
</td></tr>
<tr>
<th> Пространство подкачки
</th>
<td colspan="2">Не менее 256 Мб
</td></tr></table>
<p>На <a href="../../../Project_AMD64.html" title="Project:AMD64"> странице проекта Gentoo AMD64</a> - вы сможете получить больше информации по поводу поддержки <b><span style="font-family: monospace; font-size: 95%; color: #54487a">amd64</span></b> в Gentoo.
</p><p><br />
</p>
<h2><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D1.8B.D0.B9_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B0.D0.BA.D1.82-.D0.B4.D0.B8.D1.81.D0.BA_Gentoo">Установочный компакт-диск Gentoo</span></h2>
<h3><span class="mw-headline" id=".D0.9C.D0.B8.D0.BD.D0.B8.D0.BC.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D1.8B.D0.B9_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B0.D0.BA.D1.82-.D0.B4.D0.B8.D1.81.D0.BA_Gentoo">Минимальный установочный компакт-диск Gentoo</span></h3>
<p>Минимальный установочный компакт-диск - это загрузочный диск, содержащий самодостаточную среду Gentoo. Он позволяет загружать Linux прямо с компакт-диска. При запуске определяются ваши устройства и загружаются соответствующие драйверы. Этот диск сопровождается разработчиками Gentoo и позволяет вам установить Gentoo при наличии активного Интернет-соединения.
</p><p>Минимальный установочный диск называется <span style="font-family: monospace; font-size: 95%">install-amd64-minimal-&lt;release&gt;.iso</span>.
</p>
<h3><span class="mw-headline" id=".D0.92.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D1.8B.D0.B9_Gentoo_LiveDVD">Возможный Gentoo LiveDVD</span></h3>
<p>Иногда проектом Gentoo 10 выпускается специальный DVD который тоже может использоваться для установки Gentoo. Инструкции, описанные ниже подразумевают что вы используете минимальный установочный CD, поэтому в случае DVD могут быть немного неверными. Однако LiveDVD (или любое другое загружаемое окружение Linux) поддерживает выход в командую строку просто командой <span style="font-family: monospace; font-size: 95%; font-weight: bold;">sudo su -</span> или <span style="font-family: monospace; font-size: 95%; font-weight: bold;">sudo -i</span> в терминале.
</p>
<h3><span class="mw-headline" id=".D0.A7.D1.82.D0.BE_.D1.82.D0.B0.D0.BA.D0.BE.D0.B5_.D1.81.D1.82.D0.B0.D0.B4.D0.B8.D0.B8.3F">Что такое стадии?</span></h3>
<p>Архив третьей стадии (stage3) - это файл, содержащий минимальную среду Gentoo, пригодную для продолжения установки Gentoo в соответствии с инструкциями, данными в этом руководстве. Когда-то в настольной книге Gentoo описывались варианты установки с использованием файла любой из трех существующих стадий создания системы. Несмотря на то, что в Gentoo до сих представлены файлы stage1 и stage2, в официальном способе установки используется архив stage3. Если вас интересует установка Gentoo из файлов stage1 или stage2, пожалуйста, обратитесь к сборнику распространенных вопросов по Gentoo, раздел <a href="../../../FAQ/ru.html#.D0.9A.D0.B0.D0.BA_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D1.82.D1.8C_Gentoo_.D1.81_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5.D0.BC_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B0_stage1_.D0.B8.D0.BB.D0.B8_stage2.3F" title="FAQ/ru">Как установть Gentoo с использованием архива stage1 или stage2?</a>
</p><p>Архивы stage3 можно загрузить из <span style="font-family: monospace; font-size: 95%">releases/amd64/autobuilds/</span> или с любого из <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/mirrors/">официальных зеркал Gentoo</a>, на LiveDVD они не поставляются.
</p>
<h2><span class="mw-headline" id=".D0.A1.D0.BA.D0.B0.D1.87.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B8_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D1.8C_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0">Скачивание и запись установочного диска</span></h2>
<h3><span class="mw-headline" id=".D0.A1.D0.BA.D0.B0.D1.87.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BE.D0.B1.D1.80.D0.B0.D0.B7.D0.B0">Скачивание образа</span></h3>
<p>Минимальный источник для установки, используемый Gentoo Linux - это <i>минимальный установочный компакт-диск</i>, на котором находится загружаемое, очень маленькое окружение Linux с необходимыми для установки Gentoo Linux инструментами. Сами образы компакт-диска можно скачать с одного из многих существующих <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/mirrors/">зеркал</a>.
</p><p>На данных зеркалах, минимальные установочные компакт диски можно найти следующим образом:
</p>
<ol><li> Перейдите в каталог <span style="font-family: monospace; font-size: 95%">releases/</span></li>
<li> Выберите правильную архитектуру, например архитектуру <span style="font-family: monospace; font-size: 95%">amd64/</span></li>
<li> Выберите каталог <span style="font-family: monospace; font-size: 95%">autobuilds/</span></li>
<li> Выберите каталог <span style="font-family: monospace; font-size: 95%">current-iso/</span></li></ol>
<p>В этом каталоге находится файл устаночного компакт-диска, который оканчивается на <span style="font-family: monospace; font-size: 95%">.iso</span>. Например, посмотрите на следующий список:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Примерный список скачиваемых файлов в каталоге releases/amd64/autobuilds/current-iso/</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>[DIR] hardened/                                          05-Dec-2014 01:42    -   
[   ] install-amd64-minimal-20141204.iso                 04-Dec-2014 21:04  208M  
[   ] install-amd64-minimal-20141204.iso.CONTENTS        04-Dec-2014 21:04  3.0K  
[   ] install-amd64-minimal-20141204.iso.DIGESTS         04-Dec-2014 21:04  740   
[TXT] install-amd64-minimal-20141204.iso.DIGESTS.asc     05-Dec-2014 01:42  1.6K  
[   ] stage3-amd64-20141204.tar.bz2                      04-Dec-2014 21:04  198M  
[   ] stage3-amd64-20141204.tar.bz2.CONTENTS             04-Dec-2014 21:04  4.6M  
[   ] stage3-amd64-20141204.tar.bz2.DIGESTS              04-Dec-2014 21:04  720   
[TXT] stage3-amd64-20141204.tar.bz2.DIGESTS.asc          05-Dec-2014 01:42  1.5K
</pre></div></pre></div>
<p>В вышеприведенном примере, файл <span style="font-family: monospace; font-size: 95%">install-amd64-minimal-20141204.iso</span> это сам минимальный установочный компакт-диск. Но как можно видеть, существуют и другие связанные с ним файлы:
</p>
<ul><li> Файл <span style="font-family: monospace; font-size: 95%">.CONTENTS</span>, который является текстовым файлом, который содержит список всех файлов на установочном компакт-диске. Данный файл может использоваться для проверки того, существует ли конкретная прошивка или конкретный драйвер на установочном компакт-диске без его скачивания.</li>
<li> Файл <span style="font-family: monospace; font-size: 95%">.DIGESTS</span>, который содержит хэши файла ISO, с использованием различных форматов/алгоритмов хэширования. Данный файл можно использовать для проверки, поврежден ли скачанный файл ISO.</li>
<li> Файл <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> не только содержит хэши файла ISO (как файл <span style="font-family: monospace; font-size: 95%">.DIGESTS</span>), но и криптографическую цифровую подпись данного файла. Это может использоваться как для проверки того, поврежден ли скачанный файл ISO, так и для проверки того, что данная закачка действительно предоставлена командой Gentoo Release Engineering, и не была исправлена.</li></ul>
<p>Пока не обращайте внимания на остальные файлы, находящиеся в данном каталоге - про них мы поговорим, когда установка продолжится. Скачайте файл <span style="font-family: monospace; font-size: 95%">.ISO</span>, и, если вы хотите проверить скачанный файл, также скачайте файл <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> для необходимого файла ISO. Файл <span style="font-family: monospace; font-size: 95%">.CONTENTS</span> скачивать необязательно, так как инструкции по установке не описывают его использования, и файл <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> должен содержать ту же информацию, что и файл <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> кроме того, что последний также содержит в себе цифровую подпись.
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D1.81.D0.BA.D0.B0.D1.87.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2">Проверка скачанных файлов</span></h3>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Это необязательный шаг и не требуется для установки Gentoo Linux. Однако его рекомендуется выполнить, чтобы удостовериться, что скачанный файл не поврежден и действительно был предоставлен командой Gentoo Infrastructure.</div>
<p>При наличии файлов <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> и <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> можно проверить целостность файла ISO с использованием различных программ. Данная проверка обычно делается в две стадии:
</p>
<ol><li> Сначала проверяется криптографическая подпись, чтобы удостовериться, что данный установочный файл предоставлен командой Gentoo Release Engineering</li>
<li> Если криптографическая подпись верна, то проверяется контрольная сумма, чтобы удостовериться, что сам скачанный файл не поврежден</li></ol>
<h4><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.BD.D0.B0_Microsoft_Windows">Проверка на Microsoft Windows</span></h4>
<p>На системе Microsoft Windows шансы на то, что у вас уже установлен набор инструментов для проверки контрольных сумм и криптографических подписей достаточно мал.
</p><p>Чтобы вначале проверить криптографическую подпись, можно использовать такие программы, как <a rel="nofollow" class="external text" href="http://www.gpg4win.org/">GPG4Win</a>. После установки необходимо импортировать открытые ключи команды Gentoo Release Engineering. Список ключей находится на <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/signatures/">странице сигнатур</a>. После импорта пользователь может проверить подпись, указанную в файле <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.
</p>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Важно</strong><br />Это не удостоверяет, что файл <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> является верным, только файл <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>. Это также значит, что контрольную сумму необходимо проверять со значениями, взятыми из файла <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>. Именно поэтому инструкции, данные выше, просят скачать только файл <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.</div>
<p>Сама контрольная сумма может быть проверена с использованием <a rel="nofollow" class="external text" href="http://www.sinf.gr/en/hashcalc.html">приложения Hashcalc</a>, хотя существуют и многие другие. Большинство из данных приложений покажут пользователю вычисленную контрольную сумму, а пользователю необходимо будет проверить, что данная контрольная сумма совпадает со значением, данным в файле <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.
</p>
<h4><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.BD.D0.B0_Linux">Проверка на Linux</span></h4>
<p>На системе с Linux, самый частоиспользуемый метод для проверки криптографической подписи - это использовать программу <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-crypt/gnupg">app-crypt/gnupg</a>. После установки данного пакета, можно использовать следующие команды для проверки криптографической подписи, указанной в файле <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>.
</p><p>Сначала скачайте правильный набор ключей со <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/signatures/">страницы сигнатур</a>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>gpg --recv-keys 0xBB572E0E2D182910</code></div><pre>
gpg: requesting key 0xBB572E0E2D182910 from hkp server pool.sks-keyservers.net
gpg: key 0xBB572E0E2D182910: &quot;Gentoo Linux Release Engineering (Automated Weekly Release Key) &lt;releng@gentoo.org&gt;&quot; 1 new signature
gpg: 3 marginal(s) needed, 1 complete(s) needed, classic trust model
gpg: depth: 0  valid:   3  signed:  20  trust: 0-, 0q, 0n, 0m, 0f, 3u
gpg: depth: 1  valid:  20  signed:  12  trust: 9-, 0q, 0n, 9m, 2f, 0u
gpg: next trustdb check due at 2018-09-15
gpg: Total number processed: 1
gpg:         new signatures: 1
</pre></div>
<p>Далее проверьте криптографическую подпись, данную в файле <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>gpg --verify install-amd64-minimal-20141204.iso.DIGESTS.asc</code></div><pre>
gpg: Signature made Fri 05 Dec 2014 02:42:44 AM CET
gpg:                using RSA key 0xBB572E0E2D182910
gpg: Good signature from &quot;Gentoo Linux Release Engineering (Automated Weekly Release Key) &lt;releng@gentoo.org&gt;&quot; [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 13EB BDBE DE7A 1277 5DFD  B1BA BB57 2E0E 2D18 2910
</pre></div>
<p>Чтобы быть абсолютно уверенным в том, что все верно, проверьте указанные отпечатки с отпечатками на <a rel="nofollow" class="external text" href="https://www.gentoo.org/downloads/signatures/">странице сигнатур Gentoo</a>.
</p><p>После проверки сигнатуры проверите контрольную сумму, что бы убедиться, что загруженный ISO файл не поврежден. Файл <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> содержит несколько алгоритмов хеширования, правильным является любой из приглянувшихся вам. Например, чтобы получить контрольную сумму SHA512:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>grep -A 1 -i sha512 install-amd64-minimal-20141204.iso.DIGESTS.asc</code></div><pre>
# SHA512 HASH
364d32c4f8420605f8a9fa3a0fc55864d5b0d1af11aa62b7a4d4699a427e5144b2d918225dfb7c5dec8d3f0fe2cddb7cc306da6f0cef4f01abec33eec74f3024  install-amd64-minimal-20141204.iso
--
# SHA512 HASH
0719a8954dc7432750de2e3076c8b843a2c79f5e60defe43fcca8c32ab26681dfb9898b102e211174a895ff4c8c41ddd9e9a00ad6434d36c68d74bd02f19b57f  install-amd64-minimal-20141204.iso.CONTENTS
</pre></div>
<p>В выводе выше показаны две контрольные суммы SHA512 - одна для файла <span style="font-family: monospace; font-size: 95%">install-amd64-minimal-20141204.iso</span> и одна для сопровождающего его файла <span style="font-family: monospace; font-size: 95%">.CONTENTS</span>. Нас интересует только первая контрольная сумма, так как ее надо сравнить с рассчитываемой контрольной суммой SHA512, которую можно получить так:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>sha512sum install-amd64-minimal-20141204.iso</code></div><pre>
364d32c4f8420605f8a9fa3a0fc55864d5b0d1af11aa62b7a4d4699a427e5144b2d918225dfb7c5dec8d3f0fe2cddb7cc306da6f0cef4f01abec33eec74f3024  install-amd64-minimal-20141204.iso
</pre></div>
<p>Если контрольные суммы совпадают, то файл не поврежден и можно продолжать установку.
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B6.D0.B8.D0.B3">Прожиг</span></h3>
<p>Конечно с ISO файла, который вы загрузили, установка Gentoo Linux не может быть запущена. Файл ISO необходимо записать на CD для загрузки с него, но таким образом, чтобы записать содержимое файла, а не как файл сам по себе. Ниже есть несколько распространенных способов, более  подробные инструкции можно найти в <a href="../../../FAQ/ru.html#.D0.9A.D0.B0.D0.BA_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D0.B0.D1.82.D1.8C_.D1.84.D0.B0.D0.B9.D0.BB_ISO.3F" title="FAQ/ru">FAQ по записи ISO файлов</a>.
</p>
<h4><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B6.D0.B8.D0.B3_.D0.B2_Microsoft_Windows">Прожиг в Microsoft Windows</span></h4>
<p>В Microsoft Windows существует ряд инструментов для записи файлов ISO на CD.
</p>
<ul><li> В EasyCD Creator, в меню <span style="font-family: monospace; font-size: 95%">File</span>,  выберите <span style="font-family: monospace; font-size: 95%">Record CD from CD image</span>. Затем измените <span style="font-family: monospace; font-size: 95%">Files of type</span> на <i>ISO image file</i>. Затем откройте ISO файл с помощью <span style="font-family: monospace; font-size: 95%">Open</span>. После проверки нажмите на <span style="font-family: monospace; font-size: 95%">Start recording</span> ISO образ будет записан на CD-R.</li>
<li> В Nero Burning ROM откажитесь от автоматического мастера и выберите <span style="font-family: monospace; font-size: 95%">Burn Image</span> и меню <span style="font-family: monospace; font-size: 95%">File</span>. Выберите образ для записи и нажмите <span style="font-family: monospace; font-size: 95%">Open</span>. Теперь нажмите кнопку <span style="font-family: monospace; font-size: 95%">Burn</span> и подождите пока новый CD диск запишется.</li></ul>
<h4><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B6.D0.B8.D0.B3_.D0.B2_Linux">Прожиг в Linux</span></h4>
<p>В Linux файл ISO можно записать на CD командой <span style="font-family: monospace; font-size: 95%; font-weight: bold;">cdrecord</span>, из пакета <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-cdr/cdrtools">app-cdr/cdrtools</a>.
</p><p>На пример, что бы прожечь файл ISO на CD в устройстве <span style="font-family: monospace; font-size: 95%">/dev/sr0</span> (это первое устройство для CD в системе - измените на правильное, если необходимо):
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>cdrecord dev=/dev/sr0 install--minimal-20141204.iso</code></div></div>
<p>Пользователи, которые предпочитают графический интерфейс, могут использовать K3B, из пакета <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-cdr/k3b">app-cdr/k3b</a>. В K3B перейдите в раздел <span style="font-family: monospace; font-size: 95%">Tools</span> и выберите <span style="font-family: monospace; font-size: 95%">Burn CD Image</span>. Затем следуйте инструкциям K3B.
</p>
<h2><span class="mw-headline" id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.81_CD">Загрузка с CD</span></h2>
<h3><span class="mw-headline" id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.81_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B0.D0.BA.D1.82-.D0.B4.D0.B8.D1.81.D0.BA.D0.B0">Загрузка с установочного компакт-диска</span></h3>
<p>Записав установочный компакт-диск, пора его загрузить. Уберите все компакт-диски из своих приводов CD, перезагрузите компьютер и войдите в BIOS. В зависимости от BIOS, для этого обычно нужно нажать <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">DEL</kbd>, <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd> или <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">ESC</kbd>. В BIOS измените порядок загрузки так, чтобы обращение к CD-ROM выполнялось до обращения к жесткому диску. Если порядок загрузки не изменить, система просто перезагрузится с жесткого диска, игнорируя CD-ROM.
</p>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Важно</strong><br />При установке Gentoo с использованием UEFI вместо BIOS, рекомендуется загрузиться сразу же с UEFI. Если этого не сделать, то может понадобиться создать загрузочную UEFI-флешку (или другой носитель информации) перед окончанием установки Gentoo Linux.</div>
<p>Теперь поместите установочный диск в привод CD-ROM и перезагрузитесь. Должно	появиться загрузочное приглашение. Здесь можно просто нажать <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>, чтобы запустить процесс загрузки с параметрами по умолчанию, или загрузить установочный диск по-своему: указать ядро, потом загрузочные параметры, а затем нажать <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>.
</p><p>Когда вы увидите подсказку, у вас есть выбор — показать все доступные ядра (<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd>) и загрузочные опции (<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F2</kbd>). Если вы не сделаете выбор в течение 15 секунд (не запросите отображение информации или использование ядра), то LiveDVD продолжит загрузку с диска. Это позволяет установке перезагружаться и пробовать установленное окружение без необходимости удалять CD из привода (что очень хорошо для удаленных установок).
</p><p>Мы упомянули, что можно задавать ядро. На нашем установочном CD существует несколько ядер. По умолчанию загружается <i>gentoo</i>. Другие ядра нужны для специфического железа, и варианты <i>-nofb</i> с отключенным фреймбуфером.
</p><p>Нижеследующая таблица дает краткий обзор доступных вариантов ядра:
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<th> Ядро
</th>
<th> Описание
</th></tr>
<tr>
<td> gentoo
</td>
<td> Ядро по умолчанию с поддержкой процессоров K8 (включая поддержку NUMA) и EM64T
</td></tr>
<tr>
<td> gentoo-nofb
</td>
<td> Аналогично <i>gentoo</i>, но без поддержки кадрового буфера
</td></tr>
<tr>
<td> memtest86
</td>
<td> Для выявления ошибок локальной оперативной памяти
</td></tr></table>
<p>Кроме выбора ядра, с помощью загрузочных опций можно дополнительно изменить процесс загрузки. 
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<th colspan="2"> Опции железа
</th></tr>
<tr>
<td> acpi=on
</td>
<td> Это загружает поддержку ACPI, а также запускает демон acpid при загрузке. Это необходимо только если ваша система требует ACPI для нормальной работы. Это не необходимо для поддержки Hyperthreading.
</td></tr>
<tr>
<td> acpi=off
</td>
<td> Полностью отключает ACPI. Это полезно на некоторых старых системах, а также необходимо для использования APM. Это также отключит любую поддержку HyperThreading вашего процессора.
</td></tr>
<tr>
<td> console=X
</td>
<td> Эта опция устанавливает доступ по последовательной консоли. Первая опция это устройство, обычно ttyS0 на x86, за которой следуют любые опции соединения, разделенные запятами. Опции по умолчанию 9600,8,n,1.
</td></tr>
<tr>
<td> dmraid=X
</td>
<td>  Это позволяет передавать опции в устройство-распределяющую RAID-подсистему. Опции должны находиться в кавычках.
</td></tr>
<tr>
<td> doapm
</td>
<td> Это загружает поддержку APM драйвера. Для этого вы также должны использовать <code>acpi=off</code>.
</td></tr>
<tr>
<td> dopcmcia
</td>
<td> Это загружает поддержку для PCMCIA и железа Cardbus, а также запускает cardmgr для PCMCIA при загрузке. Это необходимо только при загрузке с устройств PCMCIA/Cardbus.
</td></tr>
<tr>
<td> doscsi
</td>
<td> Это загружает поддержку для большинства SCSI-контроллеров. Также это требование для загрузки большинства USB-устройств, так как они используют подсистему SCSI ядра.
</td></tr>
<tr>
<td> sda=stroke
</td>
<td> Это позволяет вам распределять место на всем жестком диске, даже если BIOS не поддерживает большие диски. Данная опция используется только на машинах со старым BIOS. Замените sda на устройство, для которого нужно включить данную опцию.
</td></tr>
<tr>
<td> ide=nodma
</td>
<td> Это заставляет отключить DMA в ядре, что необходимо некоторым чипсетам IDE, а также некоторым устройствам CDROM. Если ваша система испытывает трудности при чтении с вашего IDE CDROM, попробуйте данную опцию. Кроме того, это также отключает выполнение настроек hdparm по умолчанию.
</td></tr>
<tr>
<td> noapic
</td>
<td> Это отключает Advanced Programmable Interrupt Controller (APIC), который присутствует на новых материнских платах. Известно, что это вызывает некоторые проблемы на старом железе.
</td></tr>
<tr>
<td> nodetect
</td>
<td> Это отключает все автоопределение, проводимое при загрузке с CD, включая автоопределение устройств и опрос DHCP. Это полезно для выполнения отладки неработающего CD или драйвера.
</td></tr>
<tr>
<td> nodhcp
</td>
<td> Это отключает опрос DHCP на найденных сетевых картах. Это полезно в сетях только со статическими адресами.
</td></tr>
<tr>
<td> nodmraid
</td>
<td> Отключает поддержку устройство-распределителя RAID, такого, который используется для IDE/SATA RAID-контроллеров.
</td></tr>
<tr>
<td> nofirewire
</td>
<td> Это отключает загрузку модулей Firewire. Это должно быть необходимо только если ваше железо FireWire вызывает проблемы при загрузке с CD.
</td></tr>
<tr>
<td> nogpm
</td>
<td> Это отключает поддежку мыши в консоли, gpm.
</td></tr>
<tr>
<td> nohotplug
</td>
<td> Это отключает загрузку инициализационных скриптов hotplug и coldplug при загрузке. Это полезно для выполнения отладки неработающего CD или	драйвера.
</td></tr>
<tr>
<td> nokeymap
</td>
<td> Это отключает выбор раскладки клавиатуры, используемой для выбора не-US раскладок.
</td></tr>
<tr>
<td> nolapic
</td>
<td> Это отключает локальный APIC на однопроцессорных ядрах.
</td></tr>
<tr>
<td> nosata
</td>
<td> Это отключает загрузку модулей Serial ATA. Это используется, если ваша система испытывает проблемы с подсистемой SATA.
</td></tr>
<tr>
<td> nosmp
</td>
<td> Это отключает SMP, или Symmetric Multiprocessing, на ядрах, которые поддерживают SMP. Это полезно для отладки проблем, связанных с SMP на некоторых драйверах и материнских платах.
</td></tr>
<tr>
<td> nosound
</td>
<td> Это отключает поддержку звука и настроек громкости. Это полезно для систем где поддержка звука вызывает проблемы.
</td></tr>
<tr>
<td> nousb
</td>
<td> Это отключает автозагрузку USB-модулей. Это полезно для отладки проблем с USB.
</td></tr>
<tr>
<td> slowusb
</td>
<td> Это добавляет некоторые дополнительные паузы в процесс загрузки для медленных USB-CDROM'ов, например в IBM BladeCenter.
</td></tr>
<tr>
<th colspan="2"> Работа с томом/устройством
</th></tr>
<tr>
<td> dolvm
</td>
<td> Данная опция включает поддержку Linux's Logical Volume Management (LVM).
</td></tr>
<tr>
<th colspan="2"> Другие опции
</th></tr>
<tr>
<td> debug
</td>
<td> Включает отладочный код. Это может стать проблемой, так как выводит множество данных на экран.
</td></tr>
<tr>
<td> docache
</td>
<td> Это кэширует всю запускаемую часть CD в ОЗУ, что позволяет вам размонтировать /mnt/cdrom, и смонтировать другой CDROM. Данная опция требует, чтобы у вас было по крайней мере в два раза больше памяти, чем размер CD.
</td></tr>
<tr>
<td> doload=X
</td>
<td> Это заставляет начальный рамдиск загрузить любой обозначенный модуль, а также его зависимости. Замените X на имя модуля. Несколько модулей можно задать через запятую.
</td></tr>
<tr>
<td> dosshd
</td>
<td> Запускает при загрузке sshd, что полезно для автоматических установок.
</td></tr>
<tr>
<td> passwd=foo
</td>
<td> Устанавливает то, что следует за знаком равенства как пароль root, что необходимо для dosshd, так как по умолчанию выбирается случайный пароль root.
</td></tr>
<tr>
<td> noload=X
</td>
<td> Это заставляет начальный рамдиск пропустить загрузку любого обозначенного модуля который может вызывать проблемы. Синтаксис совпадает с опцией doload.
</td></tr>
<tr>
<td> nonfs
</td>
<td> Отключает запуск portmap/nfsmount при загрузке.
</td></tr>
<tr>
<td> nox
</td>
<td> Это заставляет LiveCD, в котором есть X-сервер не запускать X автоматически, а перейти в командную строку.
</td></tr>
<tr>
<td> scandelay
</td>
<td> Это заставляет CD остановиться на 10 секунд в некоторых местах загрузочного процесса, чтобы позволить медленным устройствам инициализироваться и быть доступными для использования.
</td></tr>
<tr>
<td> scandelay=X
</td>
<td> Это позволяет вам задать некоторую задержку, в секундах, которую нужно добавить в некоторые места загрузочного процесса, чтобы позволить медленным устройствам инициализироваться и быть доступными для использования. Замените X на число секунд для паузы.
</td></tr></table>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Компакт-диск будет проверять опции <code>no*</code> до опций <code>do*</code>, так что опции можно задавать в порядке, в котором они приведены выше.</div>
<p>Теперь загрузите систему с компакт-диска, выбрав ядро (если вас не устраивает ядро по умолчанию <code>gentoo</code>) и указав дополнительные параметры. В качестве примера мы покажем, как загрузить ядро <code>gentoo</code> с параметром <code>dopcmcia</code>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">boot:</code><span class="tripleclick-separator"></span><code>gentoo dopcmcia</code></div></div>
<p>Появится заставка с полосой индикатора загрузки. Если вы устанавливаете Gentoo на машину с неамериканской раскладкой клавиатуры, нужно немедленно нажать <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd>, чтобы переключиться в подробный режим, и следовать появившимся указаниям. Если ничего не выбрано в течение 10 секунд, устанавливается раскладка по умолчанию (клавиатура США), а загрузка продолжается. По окончании загрузки для вас будет выполнен автоматический вход в "живой" Gentoo Linux в качестве "root" (администратора). В текущей консоли должно появиться прилашение root ("#"). Также можно переключаться в другие консоли, нажимая <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F2</kbd>, <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F3</kbd> и <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F4</kbd>. Вернуться в первоначальную консоль можно нажатием <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd>.
</p><p><br />
</p>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BE.D0.B1.D0.BE.D1.80.D1.83.D0.B4.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F">Дополнительная настройка оборудования</span></h3>
<p>При загрузке с установочного диска определяются все аппаратные устройства и загружаются соответствующие модули ядра для их поддержки. В подавляющем большинстве случаев этого достаточно. Тем не менее в некоторых случаях может не происходить автоматической загрузки модулей ядра, необходимых для системы. Если авто определение PCI пропустило некоторые аппаратные части системы, соответствующие модули можно загрузить вручную.
</p><p>В следующем пример загружается модуль 8139too (который поддерживает определенные виды сетевых интерфейсов):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>modprobe 8139too</code></div></div> 
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A3.D1.87.D0.B5.D1.82.D0.BD.D1.8B.D0.B5_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D0.B8_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D0.B5.D0.B9">Дополнительно: Учетные записи пользователей</span></h3>
<p>Если другие люди должны иметь доступ к среде установки, или есть необходимость запускать команды, как не root пользователь на установочном CD (например, общаться с помощью <span style="font-family: monospace; font-size: 95%; font-weight: bold;">irssi</span>, без root привилегий, по соображениям безопасности), то должна быть создана дополнительная учетная запись пользователя, а пользователю root задан сложный пароль.
</p><p>Для изменения пароля root используйте утилиту <span style="font-family: monospace; font-size: 95%; font-weight: bold;">passwd</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>passwd</code></div><pre>
New password: (Enter the new password)
Re-enter password: (Re-enter the password)
</pre></div>
<p>Для создания учетной записи пользователя, сначала введите учетные данные, следом задайте аккаунту пароль. Для этой задачи используйте команды <span style="font-family: monospace; font-size: 95%; font-weight: bold;">useradd</span> и <span style="font-family: monospace; font-size: 95%; font-weight: bold;">passwd</span>.
</p><p>В следующем примере создаем пользователя с именем <i>john</i>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>useradd -m -G users john
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>passwd john</code></div><pre>
New password: (Enter john's password)
Re-enter password: (Re-enter john's password)
</pre></div>
<p>Для переключения с (текущего) пользователя <i>root</i> на вновь созданный аккаунт пользователя используйте команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">su</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>su - john</code></div></div>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D0.B4.D0.BE.D0.BA.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.86.D0.B8.D0.B8_.D0.B2.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D1.8F_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B8">Дополнительно: Просмотр документации во время установки</span></h3>
<p>Для просмотра Руководства Gentoo во время установки, необходимо с начала создать учетную запись пользователя, как описано выше. Нажмите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F2</kbd> для перехода в новое окно терминала.
</p><p>Во время установки, команда <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span> может быть использована для просмотра Руководства Gentoo - конечно, только с того момента, как заработает подключение к Интернет.
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>links <a rel="nofollow" class="external free" href="../../../Handbook_AMD64.html">https://wiki.gentoo.org/wiki/Handbook:AMD64</a></code></div></div>
<p>Чтобы вернуться к первоначальному терминалу, нажмите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Alt</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">F1</kbd>.
</p>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.B4.D0.B5.D0.BC.D0.BE.D0.BD.D0.B0_SSH">Дополнительно: Запуск демона SSH</span></h3>
<p>Чтобы разрешить другим пользователям доступ к системе во время установки (возможно, для поддержки во время установки, или даже сделать ее удаленно), учетная запись пользователя должна быть создана (как описывалось ранее) и SSH демон должен быть запущен.
</p><p>Чтобы запустить демон SSH, выполните следующую команду:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/etc/init.d/sshd start</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если пользователи входят в систему, они получают сообщение, что ключ хоста для этой системы должен быть подтержден (через то, что называется отпечатком). Этого следует ожидать при первом входе в систему. Тем не менее, позднее, когда система будет установлена и кто-то входил на создаваемую систему, клиент SSH предупредит, что ключ хоста был изменен. Это по тому, что пользователь входит - для SSH - на другой сервер (а именно на недавно установленную систему Gentoo, а не среды, используемой в текущий момент для установки). Следуйте инструкциям, приведенным на экране, а затем замените ключ хоста на клиентской системе.</div>
<p>Для того, чтобы использование sshd было доступно, сеть должна функционировать должным образом. Продолжение в главе <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</p><p><br /> 
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/About/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Об установке Gentoo Linux</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Networking/ru.html" title="Следующая часть" class="btn btn-default">Настройка сети &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B5_.D0.BE.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.BE.D0.B2_.D1.81.D0.B5.D1.82.D0.B8">Автоматическое определение параметров сети</span></h2>
<p>Может быть, всё уже работает?
</p><p>Если система подключена к сети Ethernet, в которой есть DHCP-сервер, весьма вероятно, что конфигурация сетевых настроек была уже выполнена автоматически. Если это так, то различные сетевые команды с установочного компакт-диска (например, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ssh</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">scp</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ping</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">irssi</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">wget</span>, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span> и многие другие) сразу же будут работать.
</p><p>Если сеть была настроена, команда <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span> должна отобразить несколько сетевых интерфейсов кроме lo, например, <span style="font-family: monospace; font-size: 95%">eth0</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ifconfig</code></div><pre>
(...)
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11 Base address:0xe800 
</pre></div>
<p>Название интерфейса может отличаться от <span style="font-family: monospace; font-size: 95%">eth0</span>. В последних установочных носителях сетевые интерфейсы могут отображаться по-другому, например <span style="font-family: monospace; font-size: 95%">eno0</span>, <span style="font-family: monospace; font-size: 95%">ens1</span> или <span style="font-family: monospace; font-size: 95%">enp5s0</span>. Просто поищите в выводе команды <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span> IP-адрес, связанный с локальной сетью.
</p><p>В оставшейся части документа мы будем считать, что интерфейс имеет имя <span style="font-family: monospace; font-size: 95%">eth0</span>.
</p>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D1.80.D0.BE.D0.BA.D1.81.D0.B8">Дополнительно: Настройка прокси</span></h3>
<p>Если доступ к Интернету осуществляется через прокси-сервер, необходимо указать нужные настройки во время установки. Указать прокси очень просто: просто определите переменную, содержащую информацию о прокси-сервере.
</p><p>В большинстве случаев, достаточно указать переменные с использованием имени сервера. В этом примере мы предположим, что прокси-сервер называется proxy.gentoo.org и доступен по порту 8080.
</p><p>Настраиваем HTTP-прокси (для HTTP- и HTTPS-трафика):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export http_proxy="<a rel="nofollow" class="external free" href="http://proxy.gentoo.org:8080/">http://proxy.gentoo.org:8080</a>"</code></div></div>
<p>Настраиваем FTP-прокси
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export ftp_proxy="<a rel="nofollow" class="external free" href="ftp://proxy.gentoo.org:8080/">ftp://proxy.gentoo.org:8080</a>"</code></div></div>
<p>Настраиваем RSYNC-прокси:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export RSYNC_PROXY="proxy.gentoo.org:8080"</code></div></div>
<p>Если для прокси требуется имя пользователя и пароль, используйте следующий синтаксис:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Добавление имени пользователя/пароля к настройкам прокси variable</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>http://username:password@proxy.gentoo.org:8080
</pre></div></pre></div>
<h3><span class="mw-headline" id=".D0.A2.D0.B5.D1.81.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B8">Тестирование сети</span></h3>
<p>Попробуйте проверить DNS-сервер своего провайдера (его адрес можно найти в <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span>) и любой веб-сайт. Эта проверка покажет, что сеть функционирует в полном объеме, и сетевые пакеты достигают сети, разрешение имён работает правильно и так далее.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ping -c 3 www.gentoo.org</code></div></div>
<p>Если всё работает правильно, то оставшуюся часть главы можно пропустить и перейти сразу к следующему шагу (<a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">подготовке дисков</a>).
</p>
<h2><span class="mw-headline" id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8">Автоматическая конфигурация сети</span></h2>
<p>Если сеть не работает с первого раза, то в некоторых установочных носителях есть утилиты <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> (для обычных и беспроводных сетей), <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pppoe-setup</span> (для пользователей ADSL) или <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pptp</span> (для пользователей PPTP).
</p><p>Если же в установочном носителе нет этих утилит, продолжите с <a href="#.D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8">ручной конфигурации сети</a>.
</p>
<ul><li> Пользователям обычной сети Ethernet следует продолжить с раздела <a href="#.D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_net-setup">По умолчанию: использование net-setup</a></li>
<li> Пользователям ADSL следует продолжить с раздела <a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_PPP">Альтернатива: использование PPP</a></li>
<li> Пользователям PPTP следует продолжить с раздела <a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_PPTP">Альтернатива: использование PPTP</a></li></ul>
<h3><span class="mw-headline" id=".D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_net-setup">По умолчанию: использование net-setup</span></h3>
<p>Простейшим способом настроить сеть (если она уже не была настроена автоматически) является запуск сценария <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>net-setup eth0</code></div></div>
<p><span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> задаст несколько вопросов о сетевом окружении. Когда всё будет готово, сетевое подключение должно работать. Проверьте подключение, как это было показано выше. Если все проверки успешны, поздравляем! Пропустите оставшуюся часть раздела и продолжите с <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">подготовки дисков</a>.
</p><p>Если сеть всё равно не работает, продолжите с <a href="#.D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8">ручной конфигурации сети</a>.
</p>
<h3><span class="mw-headline" id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_PPP">Альтернатива: использование PPP</span></h3>
<p>Предполагается, что PPPoE необходим для подключения к Интернету, установочный CD (любой версии) сделан так, чтобы легко было его использовать, включая ppp. Используйте скрипт <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pppoe-setup</span> для настройки подключения. Во время установки будет запрошено устройство Ethernet, к которому подключен ваш ADSL модем, имя и пароль, IP-адреса ДНС серверов и, если требуется, базовая настройка брандмауэра.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>pppoe-setup
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>pppoe-start</code></div></div>
<p>Если что то не так, то повторно проверьте правильность имени и пароля в файлах <span style="font-family: monospace; font-size: 95%">etc/ppp/pap-secrets</span> или <span style="font-family: monospace; font-size: 95%">/etc/ppp/chap-secrets</span> и убедитесь, что используете правильное устройство Ethernet. Если Ethernet устройство не создано, то проверьте, загружены ли необходимые сетевые модули. В этом случае перейдите к <a href="#.D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8">Ручной конфигурации сети</a>, чтобы понять как загрузить соответствующие сетевые модули.
</p><p>Если все работает, то продолжите с <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовки дисков</a>.
</p>
<h3><span class="mw-headline" id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_PPTP">Альтернатива: использование PPTP</span></h3>
<p>Если необходима поддержка PPTP, используйте скрипт <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pptpclient</span> с установочного CD. Но сначала убедитесь, что конфигурация правильная. Отредактируйте <span style="font-family: monospace; font-size: 95%">/etc/ppp/pap-secrets</span> или <span style="font-family: monospace; font-size: 95%">/etc/ppp/chap-secrets</span> так, что бы в них была правильная комбинация имени и пароля:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/ppp/chap-secrets</code></div></div>
<p>При необходимости проверьте <span style="font-family: monospace; font-size: 95%">/etc/ppp/options.pptp</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/ppp/options.pptp</code></div></div>
<p>Когда все будет сделано, запустите <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pptp</span> (вместе с параметрами, которые могут быть установлены в <span style="font-family: monospace; font-size: 95%">options.pptp</span>) для подключения к серверу:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>pptp &lt;server ip&gt;</code></div></div>
<p>Продолжайте с <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовки дисков</a>.
</p>
<h2><span class="mw-headline" id=".D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B5.D1.82.D0.B8">Ручная конфигурация сети</span></h2>
<h3><span class="mw-headline" id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D1.85_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B5.D0.B9">Загрузка сетевых модулей</span></h3>
<p>При загрузке с установочного CD он пытается обнаружить все аппаратные устройства и загрузить подходящие модули ядра (драйверы) для их поддержки. В подавляющем большинстве случаев этого достаточно. Тем не менее, в некоторых случаях, это может не сработать - необходимые модули не загрузятся.
</p><p>Если <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> или <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pppoe-setup</span> не помогли, то возможно, что сетевая карта не была найдена. Это означает, что возможно придется загрузить соответствующие модули ядра вручную.
</p><p>Чтобы узнать, какие есть модули ядра для сетей, используйте команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ls</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /lib/modules/`uname -r`/kernel/drivers/net</code></div></div>
<p>Если драйвер сетевого устройства присутствует, то для загрузки его используйте <span style="font-family: monospace; font-size: 95%; font-weight: bold;">modprobe</span>. На пример для загрузки модуля <span style="font-family: monospace; font-size: 95%">pcnet32</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>modprobe pcnet32</code></div></div>
<p>Чтобы проверить, определилась ли сетевая карта, наберите <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span>. Если сетевая карта определилась, то результат будет выглядеть так (опять же, eth0 это только пример):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ifconfig eth0</code></div><pre>
eth0      Link encap:Ethernet  HWaddr FE:FD:00:00:00:00  
          BROADCAST NOARP MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
</pre></div>
<p>Если показано сообщение об ошибке, то сетевая карта не определена:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ifconfig eth0</code></div><pre>
eth0: error fetching interface information: Device not found
</pre></div>
<p>Имена доступных сетевых устройств в системе можно увидеть через файловую систему <span style="font-family: monospace; font-size: 95%">/sys</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /sys/class/net</code></div><pre>
dummy0  eth0  lo  sit0  tap0  wlan0
</pre></div>
<p>В примере выше найдено 6 интерфейсов. <span style="font-family: monospace; font-size: 95%">eth0</span> скорее всего (проводной) Ethernet адаптер, а <span style="font-family: monospace; font-size: 95%">wlan0</span> - беспроводной.
</p><p>Предполагаем, что сетевая карта была обнаружена, повторите <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span> или <span style="font-family: monospace; font-size: 95%; font-weight: bold;">pppoe-setup</span> снова (скорее всего они будут работать), но, для тех кто хочет сделать все сам, мы опишем, как настроить сеть вручную.
</p><p>Выберите один из следующих разделов, в зависимости от настроек сети:
</p>
<ul><li> <a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_DHCP">Использование DHCP</a> для автоматической настройки IP</li>
<li> <a href="#.D0.9F.D0.BE.D0.B4.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B1.D0.B5.D1.81.D0.BF.D1.80.D0.BE.D0.B2.D0.BE.D0.B4.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.B0">Подготовка беспроводного доступа</a> если используется беспроводная сеть</li>
<li> <a href="#.D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D0.B0.D1.8F_.D1.82.D0.B5.D1.80.D0.BC.D0.B8.D0.BD.D0.BE.D0.BB.D0.BE.D0.B3.D0.B8.D1.8F">Сетевая терминология</a> объясняет основы о сети</li>
<li> <a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_ifconfig_.D0.B8_route">Использование ifconfig и route</a> объясняет, как настроить сеть вручную</li></ul>
<h3><span class="mw-headline" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_DHCP">Использование DHCP</span></h3>
<p>DHCP (Dynamic Host Configuration Protocol, протокол динамической настройки хоста) позволяет автоматически получать данные о сети (IP-адрес, маску сети, широковещательный адрес, шлюз, сервера имен и т.д.). Это работает, только если DHCP-сервер находится в сети (или, если поставщик услуг Интернета предоставляет службы DHCP). Чтобы сетевой интерфейс получал эти сведения автоматически, используйте <span style="font-family: monospace; font-size: 95%; font-weight: bold;">dhcpcd</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>dhcpcd eth0</code></div></div>
<p>Некоторые сетевые администраторы требуют, чтобы имя хоста и домена, назначенное сервером DHCP использовались в системе. В этом случае, используйте:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>dhcpcd -HD eth0</code></div></div>
<p>Если это сработало (попробуйте попинговать сервер в интеренете, например Google), то все установлено и можно проложать. Пропустите оставшуюся часть раздела и приступайте к <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовке дисков</a>.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B1.D0.B5.D1.81.D0.BF.D1.80.D0.BE.D0.B2.D0.BE.D0.B4.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.B0">Подготовка беспроводного доступа</span></h3>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Поддержка команды <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span> может быть архитектурно-зависимой. Если команда недоступна, проверьте доступен ли пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-wireless/wireless-tools">net-wireless/wireless-tools</a> для данной архитектуры. Команда <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span> будет не доступна, если пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-wireless/wireless-tools">net-wireless/wireless-tools</a> не был установлен.</div>
<p>При использовании беспроводных (802.11) карт, их настройка должны быть сделана прежде, чем идти дальше. Чтобы увидеть текущие настройки карты, можно использовать <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span>. Запуск <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span> может показать что-то вроде:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>iwconfig eth0</code></div><pre>
eth0      IEEE 802.11-DS  ESSID:&quot;GentooNode&quot;                                   
          Mode:Managed  Frequency:2.442GHz  Access Point: 00:09:5B:11:CC:F2    
          Bit Rate:11Mb/s   Tx-Power=20 dBm   Sensitivity=0/65535               
          Retry limit:16   RTS thr:off   Fragment thr:off                       
          Power Management:off                                                  
          Link Quality:25/10  Signal level:-51 dBm  Noise level:-102 dBm        
          Rx invalid nwid:5901 Rx invalid crypt:0 Rx invalid frag:0 Tx          
          excessive retries:237 Invalid misc:350282 Missed beacon:84            
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Некоторые беспроводные карты могут иметь имена  <span style="font-family: monospace; font-size: 95%">wlan0</span> или <span style="font-family: monospace; font-size: 95%">ra0</span> вместо <span style="font-family: monospace; font-size: 95%">eth0</span>. Запустите <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span> без параметров, чтобы определить правильное имя устройства.</div>
<p>Для большинства пользователей, необходимо только два параметра, которые могут быть важны для настройки, ESSID (названия беспроводной сети) или ключ WEP. Если ESSID и адрес точки доступа уже являются теми что надо и среда не использует WEP, то беспроводная конфигурация уже работает.
</p><p>Для изменения ESSID и добавления ключа WEP используйте следующие команды.
</p>
<ul><li> Для установки имени сети в  <i>GentooNode</i>:</li></ul>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>iwconfig eth0 essid GentooNode</code></div></div>
<ul><li> Для установки hex ключа WEP:</li></ul>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>iwconfig eth0 key 1234123412341234abcd</code></div></div>
<ul><li> Для установки ASCII ключа WEP, используйте префикс <code>s:</code>:</li></ul>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>iwconfig eth0 key s:some-password</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если в беспроводной сети установлены WPA или WPA2, то необходимо использовать <span style="font-family: monospace; font-size: 95%; font-weight: bold;">wpa_supplicant</span>. Больше информации по настройке беспроводной сети в Gentoo Linux можно прочитать в <a href="../../Networking/Wireless.html" title="Handbook:AMD64/Networking/Wireless"> раздел Беспроводная сеть</a> в Руководстве Gentoo.</div>
<p>Для подтверждения беспроводных настроек используйте повторно <span style="font-family: monospace; font-size: 95%; font-weight: bold;">iwconfig</span>. Как только беспроводная сеть заработает, продолжите настройку сетевых параметров уровня IP, как описано в следующем разделе (<a href="#.D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D0.B0.D1.8F_.D1.82.D0.B5.D1.80.D0.BC.D0.B8.D0.BD.D0.BE.D0.BB.D0.BE.D0.B3.D0.B8.D1.8F">Сетевая терминология</a>) или используя инструмент <span style="font-family: monospace; font-size: 95%; font-weight: bold;">net-setup</span>, как описано ранее.
</p>
<h3><span class="mw-headline" id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D0.B0.D1.8F_.D1.82.D0.B5.D1.80.D0.BC.D0.B8.D0.BD.D0.BE.D0.BB.D0.BE.D0.B3.D0.B8.D1.8F">Сетевая терминология</span></h3>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если вы знаете что такое IP адрес, широковещательный адрес, сетевая маска и сервера имен, пропустите этот раздел продолжайте с <a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_ifconfig_.D0.B8_route">Использование <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span> и <span style="font-family: monospace; font-size: 95%; font-weight: bold;">route</span></a>.</div>
<p>Если выше перечисленные попытки были неудачными, то необходимо настроить сеть вручную. Это совсем не трудно. Все же, некоторые знания в области сетевой терминологии и основных понятий может быть необходимо. После прочтения этого раздела, пользователи будут знать, что такое шлюз, зачем нужна сетевая маска, как формируется широковещательный адрес и почему системе нужны серверы имен.
</p><p>В сети, хосты идентифицируются по их IP-адресам (Internet Protocol адрес). Такой адрес воспринимается как сочетание четырех чисел от 0 до 255. По крайней мере, при использовании IPv4 (IP версии 4). В действительности IPv4-адрес состоит из 32 бит (единиц и нулей). Давайте рассмотрим пример:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Пример IPv4 адреса</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>IP Адрес (numbers):   192.168.0.2
IP Адрес (bits):      11000000 10101000 00000000 00000010
                      -------- -------- -------- --------
                         192      168       0        2
</pre></div></pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Приемником IPv4, IPv6, используется 128 бит (единиц и нулей). В этой секции фокус на адресации IPv4.</div>
<p>Такой IP-адрес уникален для узла в рамках всех доступных сетей (то есть каждый узел, который хочет быть в состоянии связываться, должен иметь уникальный IP-адрес). Для того, чтобы различать узлы, находящиеся внутри и извне сети, IP-адрес состоит из двух частей: сетевой части и части хоста.
</p><p>Разделение записывается с помощью маски сети, набор единиц и следующих за ними набор нулей. Часть IP адреса, которая может быть отображена на единицы является сетевой частью, другая часть хоста. Обычно, маска сети записываться в виде IP-адреса.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Пример разделения сети/узла</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>IP адрес:    192      168      0         2
           11000000 10101000 00000000 00000010
Маска:     11111111 11111111 11111111 00000000
             255      255     255        0
          +--------------------------+--------+
                   Network              Host
</pre></div></pre></div>
<p>Другими словами, 192.168.0.14 является частью сети, однако 192.168.1.2 таковым не является.
</p><p>Широковещательный адрес - это IP-адрес у которого сетевая часть такая же, как у сети, а в хост часть записаны единицы. Каждый хост в сети слушает этот IP-адрес. Он предназначен для широковещательной рассылки пакетов.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Широковещательный адрес</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>IP address:    192      168      0         2
            11000000 10101000 00000000 00000010
Broadcast:  11000000 10101000 00000000 11111111
               192      168      0        255
           +--------------------------+--------+
                     Network             Host
</pre></div></pre></div>
<p>Чтобы иметь возможность путешествовать по Интернету, каждый компьютер в сети должен знать, через какой узел происходит подключение к интернету. Этот узел называется шлюзом. Так как это обычный узел, у него есть обычный IP адрес (например 192.168.0.1).
</p><p>Ранее мы говорили, что каждый хост имеет свой собственный IP адрес. Для того, чтобы связываться с узлом по имени (вместо IP адреса) нам нужен сервис, который переводит имя (например, dev.gentoo.org) в IP адрес (например, 64.5.62.82). Такая услуга называется <i> служба имен </i>. Чтобы использовать такую услугу, необходимо, чтобы сервера имен были определены в <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span>.
</p><p>В некоторых случаях, шлюз также служит в качестве сервера имен. В противном случае сервера имен, предоставляемые провайдером должны быть введены в этом файле.
</p><p>Подведем итог, следующая информация необходима для продолжения:
</p>
<table class="table-condensed table-striped" style="text-align: left;">

<tr>
<th scope="col" width="20%"> Сетевой параметр
</th>
<th> Пример
</th></tr>
<tr>
<td> Системный адрес IP
</td>
<td> 192.168.0.2
</td></tr>
<tr>
<td> Сетевая маска
</td>
<td> 255.255.255.0
</td></tr>
<tr>
<td> Широковещательный адрес
</td>
<td> 192.168.0.255
</td></tr>
<tr>
<td> Шлюз
</td>
<td> 192.168.0.1
</td></tr>
<tr>
<td> Сервер(а) имен
</td>
<td> 195.130.130.5, 195.130.130.133
</td></tr></table>
<h3><span class="mw-headline" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_ifconfig_.D0.B8_route">Использование ifconfig и route</span></h3>
<p>Настройка сети состоит из следующих шагов.
</p>
<ol><li> Привязка IP-адреса, используя <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ifconfig</span></li>
<li> Настройка маршрутизации, используя <span style="font-family: monospace; font-size: 95%; font-weight: bold;">route</span></li>
<li> Закончите путем размещения IP-адресов серверов имен в <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span></li></ol>
<p>Чтобы назначить IP-адрес необходимо сам IP-адрес, широковещательный адрес и маска сети. Выполните следующую команду, заменив <var>${IP_ADDR}</var> на правильный IP-адрес, <var>${BROADCAST}</var> на широковещательный адрес и <var>${NETMASK}</var> на маску сети:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ifconfig eth0 ${IP_ADDR} broadcast ${BROADCAST} netmask ${NETMASK} up</code></div></div>
<p>Настройте маршрут, используя <span style="font-family: monospace; font-size: 95%; font-weight: bold;">route</span>. Подставьте вместо <var>${GATEWAY}</var> IP адрес шлюза:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>route add default gw ${GATEWAY}</code></div></div>
<p>Откройте <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/resolv.conf</code></div></div>
<p>Заполните сервера имен, используя следующее в качестве шаблона. Убедитесь, что заменили <var>${NAMESERVER1}</var> и <var>${NAMESERVER2}</var> на соответствующие адреса серверов:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Шаблон по умолчанию, используемый для /etc/resolv.conf</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>nameserver ${NAMESERVER1}
nameserver ${NAMESERVER2}
</pre></div></pre></div>
<p>Вот и все. Теперь проверьте сеть, сделав пинг сервера в интернете (например Google). Если все работает, то поздравляем вас. Продолжайте с <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовки дисков</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Media/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Выбор подходящего источника для установки</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Disks/ru.html" title="Следующая часть" class="btn btn-default">Подготовка дисков &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2_.D0.B1.D0.BB.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0">Введение в блочные устройства</span></h2>
<h3><span class="mw-headline" id=".D0.91.D0.BB.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0">Блочные устройства</span></h3>
<p>Теперь мы взглянем на аспекты работы Gentoo Linux и Linux в общем, связанные с дисковой подсистемой, включая файловые системы Linux, разделы и блочные устройства. Как только основные понятия о дисках и файловых системах будут изучены, мы приступим к созданию разделов и файловых систем для установки Gentoo Linux.
</p><p>Для начала, рассмотрим блочные устройства. Наиболее известным блочным устройством можно считать первый диск в системе Linux, именуемый <span style="font-family: monospace; font-size: 95%">/dev/sda</span>. И SCSI-, и Serial ATA-диски обозначаются как <span style="font-family: monospace; font-size: 95%">/dev/sd*</span>; благодаря новому фреймворку ядра libata даже IDE-диски обозначаются как <span style="font-family: monospace; font-size: 95%">/dev/sd*</span>. Если же используется старый фреймворк устройств, первым IDE-диском будет <span style="font-family: monospace; font-size: 95%">/dev/hda</span>.
</p><p>Вышеназванные блочные устройства представляют абстрактный интерфейс к диску. Пользовательские приложения могут использовать их для взаимодействия с диском, не заботясь о том, какой это диск — IDE, SCSI или ещё какой-либо. Программа просто адресует пространство на диске как совокупность следующих друг за другом 512-байтных блоков с произвольным доступом.
</p><p><br />
</p>
<h4><span class="mw-headline" id=".D0.A0.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D1.8B">Разделы</span></h4>
<p>Не смотря на то, что теоретически возможно использовать весь диск для размещения вашей Linux системы, этого почти никогда не случается на практике. Вместо этого все большое блочное устройство (диск) разбивается на меньшие, более удобные для обращения, блочные устройства.  В системах amd64 , они называются разделами.  Есть в настоящее время есть две стандартных технологии: MBR и GPT.
</p>
<h4><span class="mw-headline" id="MBR">MBR</span></h4>
<p><i>MBR (Master Boot Record, главная загрузочная запись)</i> использует 32-битные идентификаторы для начала сектора и длинны раздела, и поддерживает три типа разделов:  основные, расширеные и логические.Информация о расположении основных разделов хранится в самой главной загрузочной записи - очень небольшом (обычно 512 байт) месте в самом начале диска. В связи с этим небольшим размером поддерживаются только четыре основных раздела (например, от <span style="font-family: monospace; font-size: 95%">/dev/sda1</span> до <span style="font-family: monospace; font-size: 95%">/dev/sda4</span>).
</p><p>Для поддержки большего количества разделов один из основных может быть помечен как расширенный раздел. Этот раздел может содержать логические разделы (разделы внутри раздела).
</p><p>Каждый раздел имеет ограничение размера в 2 ТБ (в связи с 32-битными идентификаторами). Кроме того, MBR не обеспечивает резервного копирования главной загрузочной записи, так что если пользователь или приложение перезапишет MBR, то вся информация о разделах теряется.
</p>
<h4><span class="mw-headline" id="GPT">GPT</span></h4>
<p><i>GPT (GUID Partition table, таблица разделов GUID)</i> использует 64-битные идентификаторы разделов. Место, в котором храниться информация о разделах также гораздо больше, чем 512 байт в MBR, и нет никаких ограничений на количество разделов. Также предельный размер раздела гораздо больше (почти 8 ЗБ - да, зеттабайт).
</p><p>Когда программным интерфейсом системы между операционной системой и прошивкой является UEFI (вместо BIOS), GPT является почти обязательным, так как с MBR будут возникать проблемы совместимости.
</p><p>Так же преимуществом GPT является наличие резервной GPT в конце диска, которая может быть использована для восстановления поврежденной основной GPT. GPT также содержит контрольные суммы CRC32 для обнаружения ошибок в заголовке и таблице разделов.
</p>
<h3><span class="mw-headline" id="GPT_.D0.B8.D0.BB.D0.B8_MBR">GPT или MBR</span></h3>
<p>Из приведенного выше описания, можно подумать, что использование GPT должно быть априори рекомендуемым. Но существует несколько оговорок.
</p><p>GPT можно использовать на компьютерах с BIOS, но тогда может не работать двойная загрузка с операционными системами Microsoft Windows. Причина в том, что Microsoft Windows системы будут загружаться в режиме EFI, если обнаружат метку GPT раздела.
</p><p>С некоторыми ранними версиями BIOS и EFI, настраиваемых на загрузку в режимах BIOS/CSM/legacy, также могут возникать проблемы с загрузкой с дисков помеченных GPT. Если это так, то можено обойти проблему путем добавления флага загрузки/активности на защищенном разделе MBR, который должен быть сделан через <code>fdisk</code> с параметром <code>-t dos</code>, чтобы заставить их прочитать таблицу разделов, используя формат MBR.
</p><p>В этом случае, запустите <code>fdisk</code> и переключите флаг, используя <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">a</kbd>, на первом разделе (<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">1</kbd>). Затем запишите изменения на диск (<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">w</kbd>) и выйдите из приложения <code>fdisk</code>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">user $</code><span class="tripleclick-separator"></span><code>fdisk -t dos /dev/sda</code></div><pre>
Welcome to fdisk (util-linux 2.24.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.
  
Command (m for help): a
Partition number (1-4): 1
  
Command (m for help): w
</pre></div>
<h3><span class="mw-headline" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_UEFI">Использование UEFI</span></h3>
<p>При установке Gentoo на систему использующую UEFI для загрузки операционной системы (вместо BIOS) важно, что бы был создан системный раздел EFI. Расположенные ниже инструкции для <code>parted</code> содержат эту информацию.
</p><p>Системный раздел EFI также должен быть разделом FAT32 (или <i>vfat</i>, по скольку это Linux система). Инструкции в конце этой главы используют <i>ext2</i> в качестве примера для файловой системы <span style="font-family: monospace; font-size: 95%">/boot/</span> раздела. Удостоверьтесь, что использовали <i>vfat</i>, примерно так:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkfs.vfat /dev/sda2</code></div></div>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Предупреждение</strong><br />Если загрузочный раздел не будет содержать файловую систему FAT32 (vfat), то системная прошивка UEFI будет не в состоянии найти ядро Linux и загрузить систему!</div>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B4.D0.B2.D0.B8.D0.BD.D1.83.D1.82.D0.BE.D0.B5_.D1.85.D1.80.D0.B0.D0.BD.D0.B8.D0.BB.D0.B8.D1.89.D0.B5">Продвинутое хранилище</span></h3>
<p>Установочный CD amd64 предоставляет поддержку LVM2. LVM2 увеличивает гибкость в создании разделов. Во время инструкций по установке мы будем фокусироваться на "регулярных" разделах, но все же хорошо знать, что LVM2 также поддерживается.
</p>
<h3><span class="mw-headline" id=".D0.94.D0.B5.D1.84.D0.BE.D0.BB.D1.82.D0.BD.D0.B0.D1.8F_.D1.81.D1.85.D0.B5.D0.BC.D0.B0_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2">Дефолтная схема разделов</span></h3>
<p>Везде по ходу руководства используется следующая схема разделов. Если это достаточно, то читатель может сразу перейти к <a href="#.D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_parted_.D0.B4.D0.BB.D1.8F_.D1.81.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0"> По умолчанию: Использование parted для создания разделов диска</a> или <a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_fdisk_.D0.B4.D0.BB.D1.8F_.D1.81.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0">Альтернатива: Использование fdisk для создания разделов диска</a>. Это инструменты для создания разделов, <code>fdisk</code> широко известен, стабилен и рекомендован для создания разделов MBR, а <code>parted</code> более нов и рекомендован для создания разделов GPT.
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<th> Раздел
</th>
<th> Файловая система
</th>
<th> Размер
</th>
<th> Описание
</th></tr>
<tr>
<td> /dev/sda1
</td>
<td> (bootloader)
</td>
<td> 2M
</td>
<td> BIOS boot partition
</td></tr>
<tr>
<td> /dev/sda2
</td>
<td> ext2 (or vfat)
</td>
<td> 128M
</td>
<td> Boot partition
</td></tr>
<tr>
<td> /dev/sda3
</td>
<td> (swap)
</td>
<td> 512M or higher
</td>
<td> Swap partition
</td></tr>
<tr>
<td> /dev/sda4
</td>
<td> ext4
</td>
<td> Rest of the disk
</td>
<td> Root partition
</td></tr></table>
<p>Прежде чем переходит к инструкциям по созданию разделов опишем более подробно какие могут быть схемы разделов и каковы распространенные ошибки при их создании.
</p>
<h2><span class="mw-headline" id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B0.D0.B1.D0.B0.D1.82.D1.8B.D0.B2.D0.B0.D0.B5.D0.BC_.D1.81.D1.85.D0.B5.D0.BC.D1.83_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2">Разрабатываем схему разделов</span></h2>
<h3><span class="mw-headline" id=".D0.A1.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B8_.D0.BA.D0.B0.D0.BA.D0.B8.D1.85_.D0.B8.D0.BC.D0.B5.D0.BD.D0.BD.D0.BE.3F">Сколько и каких именно?</span></h3>
<p>Количество разделов очень сильно зависит от назначения системы. Например, если у вас много пользователей, вам, скорее всего, захочется отделить <span style="font-family: monospace; font-size: 95%">/home/</span> для повышения безопасности и упрощения резервного копирования. Если вы устанавливаете Gentoo в роли почтового сервера, следует отделить <span style="font-family: monospace; font-size: 95%">/var/</span>, т.к. вся почта хранится в <span style="font-family: monospace; font-size: 95%">/var/</span>. Затем, правильно выбрав файловую систему, вы добьетесь максимальной производительности. Для игровых серверов потребуется отдельный раздел <span style="font-family: monospace; font-size: 95%">/opt/</span>, так как большинство программ для их работы устанавливается туда. Причины	выделения те же, что и для <span style="font-family: monospace; font-size: 95%">/home/</span>: безопасность и резервное копирование. Определенно не помешает побольше места для <span style="font-family: monospace; font-size: 95%">/usr/</span>: не только потому, что там хранится большинство приложений, а еще из-за того, что лишь дерево Portage, не считая размещенных в нем архивов с исходными кодами, занимает около 500 Мб.
</p><p>Как видите, все зависит от того, чего хочет достигнуть администратор. Наличие отдельных разделов или томов имеет следующие плюсы:
</p>
<ul><li> Можно выбрать наиболее подходящую файловую систему для каждого раздела или тома.</li>
<li> Свободное место во всей системе не кончится "вдруг" из-за того, что одна-единственная сбойная программа постоянно записывает файлы в раздел или том.</li>
<li> Необходимая проверка файловых систем будет занимать меньше времени, т.к. проверка разных разделов может выполняться параллельно (еще больший выигрыш времени дает использование нескольких физических дисков).</li>
<li> Можно повысить безопасность системы, монтируя часть разделов в режиме read-only (только для чтения), <code>nosuid</code> (игнорируется бит setuid), <code>noexec</code> (игнорируется бит исполнения) и т.д.</li></ul>
<p>Однако у множества разделов также есть недостатки. Если они не настроены правильно, у вас будет система с огромным количеством свободного места на одном разделе и отсутствием его на другой. Другой проблемой является то, что отдельные разделы, особенно для важных точек монтирования, например <span style="font-family: monospace; font-size: 95%">/usr/</span> или <span style="font-family: monospace; font-size: 95%">/var/</span>, часто требуют загрузки некоторого кода в ОЗУ, чтобы смонтировать разделы прежде чем запустятся другие загрузочные скрипты. Это не всегда является проблемой, так что результаты могут быть разные.
</p><p>Также существует лимит в 15 разделов для SCSI и SATA, если только вы не используете метки GPT.
</p>
<h3><span class="mw-headline" id=".D0.9E_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D1.80.D0.B0.D0.BD.D1.81.D1.82.D0.B2.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.87.D0.BA.D0.B8.3F">О пространстве подкачки?</span></h3>
<p>Не существует идеального значения для раздела подкачки. Целью пространства подкачки является предоставление дискового пространства ядру, когда оперативная память (ОЗУ) сильно используется. Пространство подкачки позволяет ядру переносить страницы памяти, которые, скорее всего, не будут использоваться в ближайшее время, на диск (что называется своп, или page-out), освобождая память. Конечно, если эта память, вдруг, неожиданно понадобится, эти страницы должны быть помещены обратно в память (page-in), что займет некоторое время (так как диски - это очень медленные устройства, если сравнивать их с оперативной памятью).
</p><p>Если вы не собираетесь запускать приложения, требовательные к памяти, либо у вас очень много памяти, то, скорее всего, вам не нужно много пространства подкачки. Однако раздел подкачки также используется для сохранения всей памяти в случае гибернации. Если вы планируете использовать гибернацию, вам будет нужно большее пространство подкачки, хотя бы равное количеству оперативной памяти, которое у вас есть в системе.
</p><p><br />
</p>
<h3><span class="mw-headline" id=".D0.A7.D1.82.D0.BE_.D1.82.D0.B0.D0.BA.D0.BE.D0.B5_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BE.D1.87.D0.BD.D1.8B.D0.B9_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB_BIOS.3F">Что такое загрузочный раздел BIOS?</span></h3>
<p>Загрузочный раздел BIOS очень маленький (1-2 Мб), в него загрузчики, такие как GRUB2, могут поместить дополнительные данные, которые не помещаются в выделенное хранилище (несколько сотен байтов в случае MBR) и не могут быть помещены в другое место.
</p><p>Такие разделы не всегда необходимы, но, учитывая небольшой размер занимаемого пространства и трудностей с документированием большого количества разделов, рекомендуется создать его в любом случае.
</p><p>Для полноты картины загрузочный раздел BIOS необходим, когда GPT разметка разделов используется совместно с GRUB2, или когда MBR разметка разделов используется совместно с GRUB2 когда начало первого раздела находится ранее 1Мб на диске.
</p>
<h2><span class="mw-headline" id=".D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_parted_.D0.B4.D0.BB.D1.8F_.D1.81.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0">По умолчанию: Использование parted для создания разделов диска</span></h2>
<p>В этой главе, пример разметки разделов, упомянутый ранее в инструкции, будет использоваться такой:
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<th> Раздел
</th>
<th> Описание
</th></tr>
<tr>
<td> /dev/sda1
</td>
<td> BIOS boot partition
</td></tr>
<tr>
<td> /dev/sda2
</td>
<td> Boot partition
</td></tr>
<tr>
<td> /dev/sda3
</td>
<td> Swap partition
</td></tr>
<tr>
<td> /dev/sda4
</td>
<td> Root partition
</td></tr></table>
<p>Измените структуру разделов в соответствии с личными предпочтениями. 
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D1.82.D0.B5.D0.BA.D1.83.D1.89.D0.B5.D0.B9_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.82.D0.BA.D0.B8_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_parted">Просмотр текущей разметки разделов с помощью parted</span></h3>
<p>Приложение <code>parted</code> предлагает простой интерфейс для разбиения диской и поддерживает очень большие разделы (более 2 ТБ). Указывайте для <code>parted</code> диск (например используйте <span style="font-family: monospace; font-size: 95%">/dev/sda</span>). Рекомендуется также для <code>parted</code> указывать оптимальное выравнивание разделов:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>parted -a optimal /dev/sda</code></div><pre>
GNU Parted 2.3
Using /dev/sda
Welcome to GNU Parted! Type 'help' to view a list of commands.
</pre></div>
<p>Выравнивание разделов означает, что разделы будут начинаться с известных границ, в пределах диска, гарантируя, что операции на диске от уровня операционной системы (извлечения страниц с диска) будут использовать наименьшее количество внутренних операций диска. Невыровненные разделы могут потребовать извлечения двух страниц, даже если операционная система запросила только одну.
</p><p>Чтобы узнать обо всех опциях, поддерживаемых <code>parted</code> введите <code>help</code>.
</p>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BC.D0.B5.D1.82.D0.BA.D0.B8_GPT">Установка метки GPT</span></h3>
<p>Большинство дисков на системах x86/amd64 подготовлено для использования метки <i>msdos</i>. Используя <code>parted</code> для размещения метки <i>GPT</i> на диске используйте команду <code>mklabel gpt</code>:
</p>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Предупреждение</strong><br />Изменение типа разделов удалит все разделы на диске. Вся информация на диске будет потеряна.</div>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mklabel gpt</code></div></div>
<p>Чтобы сделать структуру разделов <i>MBR</i> используйте команду <code>mklabel msdos</code>.
</p>
<h3><span class="mw-headline" id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D1.81.D0.B5.D1.85_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_parted">Удаление всех разделов с помощью parted</span></h3>
<p>Если это не было сделано ранее (например через операцию <code>mklabel</code>, или если диск был недавно отформатирован), сначала удалите все существующие разделы на диске. Введите <code>print</code>, чтобы посмотреть текущие разделы и <code>rm NUMBER</code>, где <i>NUMBER</i> - номер раздела для удаления.
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>rm 2</code></div></div>
<p>Сделайте то же для всех других разделов, в которых не необходимости. Однако, убедитесь, чтобы не сделали ошибок - <i>parted</i> применяет изменения немедленно (в отличии от <code>fdisk</code>, где пользователю дается возможность отменить изменения перед сохранением или выходом).
</p>
<h3><span class="mw-headline" id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2">Создание разделов</span></h3>
<p>Теперь создаем разделы. Создать разделы с помощью <code>parted</code> не сложно - все, что мы должны сделать, это передать <code>parted</code> следующие параметры:
</p>
<ul><li> Используемый тип раздела. Обычно это <i>основной</i> раздел. Если используется для разделов метка msdos, то учтите, что основныр разделов может быть только 4. Если необходимо больше чем 4 раздела, то необходимо сначала создать <i>расширенный</i> раздел, а затем создать внутри него <i>логические</i>.</li>
<li> Начальная позиция раздела (которая может быть выражена в MB, GB, ...)</li>
<li> Конечная позиция раздела (которая может быть выражена в MB, GB, ...)</li></ul>
<p>Во-первых, необходимо сказать <i>parted</i>, что единицы, с которыми мы работаем мегабайты (на самом деле мебибайты, сокращенно MiB, являющиеся "стандартом" обозначения, но мы будем использовать MB в тексте, поскольку это намного более распространено):
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>unit mib</code></div></div>
<p>Теперь создайте 2МБ раздел, который будет использоваться для загрущика <i>GRUB2</i>. Используйте команду <code>mkpart</code> и передайте <code>parted</code> о начале в 1 МБ и конце в 3 МБ (для создания раздела размером 2 МБ).
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mkpart primary 1 3
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>name 1 grub
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>set 1 bios_grub on
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>print</code></div><pre>
Model: Virtio Block Device (virtblk)
Disk /dev/sda: 20480MiB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
  
Number   Start      End      Size     File system  Name   Flags
 1       1.00MiB    3.00MiB  2.00MiB               grub   bios_grub
</pre></div>
<p>Сделайте тоже самое для загрузочного раздела (128 Мб), раздела подкачки (в примере 512 МБ) и корневого раздела, который занимает все оставшееся пространство (для него конец помечается как -1, что означает конец диска минус один МБ, это подходит для последнего раздела).
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mkpart primary 3 131
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>name 2 boot
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mkpart primary 131 643
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>name 3 swap
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>mkpart primary 643 -1
</code></div><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>name 4 rootfs</code></div></div>
<p>При использовании интерфейса UEFI для загрузки системы (вместо BIOS), помете загрузочный раздел как системный раздел EFI. <code>Parted</code> делает это автоматически, когда устанавливается опция <i>boot</i> у раздела:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>set 2 boot on</code></div></div>
<p>Конечный результат выглядит так:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">(parted)</code><span class="tripleclick-separator"></span><code>print</code></div><pre>
Model: Virtio Block Device (virtblk)
Disk /dev/sda: 20480MiB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
  
Number   Start      End      Size     File system  Name   Flags
 1       1.00MiB    3.00MiB  2.00MiB               grub   bios_grub
 2       3.00MiB    131MiB   128MiB                boot   boot
 3       131MiB     643MiB   512MiB                swap
 4       643MiB     20479MiB 19836MiB              rootfs
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />При установке UEFI, флаг загрузки будет отображаться на загрузочном разделе.</div>
<p>Используйте команду <code>quit</code> для выхода из parted.
</p>
<h2><span class="mw-headline" id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_fdisk_.D0.B4.D0.BB.D1.8F_.D1.81.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0">Альтернатива: Использование fdisk для создания разделов диска</span></h2>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Хотя последние версии <tt>fdisk</tt> должны поддерживать GPT, до сих пор есть некоторые проблемы. Инструкции приведеные ниже, предполагают, что для разметки разделов используется MBR.</div>
<p>Следующие части объяснят, как создать структуру разделов из примера с использованием <code>fdisk</code>. Пример структуры разделов ранее упоминался:
</p>
<table class="wikitable" style="text-align: left;">

<tr>
<th> Раздел
</th>
<th> Описание
</th></tr>
<tr>
<td> /dev/sda1
</td>
<td> BIOS boot partition
</td></tr>
<tr>
<td> /dev/sda2
</td>
<td> Boot partition
</td></tr>
<tr>
<td> /dev/sda3
</td>
<td> Swap partition
</td></tr>
<tr>
<td> /dev/sda4
</td>
<td> Root partition
</td></tr></table>
<p>Измените структуру разделов в соответствии с личными предпочтениями. 
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D1.82.D0.B5.D0.BA.D1.83.D1.89.D0.B5.D0.B9_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.82.D0.BA.D0.B8_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2">Просмотр текущей разметки разделов</span></h3>
<p><code>fdisk</code> является популярным и мощным инструментом для создания разделов на диске. Запустите  <code>fdisk</code>, передав в качестве параметра диск (в нашем примере мы используем <span style="font-family: monospace; font-size: 95%">/dev/sda</span>):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>fdisk /dev/sda</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Чтобы использовать поддержку GPT , добавте <code>-t gpt</code>. Рекомендуется внимательно исследовать вывод <tt>fdisk</tt> в случае, если более свежие разработки в <tt>fdisk</tt> изменят его поведение по умолчанию дефолтной установки MBR. Дальнейшие инструкции предполагают схему MBR.</div>
<p>Введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> для отображения текущей конфигурации разделов:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>p</code></div><pre>
Disk /dev/sda: 240 heads, 63 sectors, 2184 cylinders
Units = cylinders of 15120 * 512 bytes
  
   Device Boot    Start       End    Blocks   Id  System
/dev/sda1   *         1        14    105808+  83  Linux
/dev/sda2            15        49    264600   82  Linux swap
/dev/sda3            50        70    158760   83  Linux
/dev/sda4            71      2184  15981840    5  Extended
/dev/sda5            71       209   1050808+  83  Linux
/dev/sda6           210       348   1050808+  83  Linux
/dev/sda7           349       626   2101648+  83  Linux
/dev/sda8           627       904   2101648+  83  Linux
/dev/sda9           905      2184   9676768+  83  Linux
</pre></div>
<p>Данный диск разбит на семь файловых систем Linux (каждый раздел соответственно подписан как "Linux"), а так же раздел подкачки (названный как "Linux swap").
</p>
<h3><span class="mw-headline" id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D1.81.D0.B5.D1.85_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_fdisk">Удаление всех разделов с помощью fdisk</span></h3>
<p>Сначала удалите все существующие разделы на диске. Введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">d</kbd> для удаления раздела. Например, чтобы удалить существующий <span style="font-family: monospace; font-size: 95%">/dev/sda1</span>:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>d</code></div><pre>
Partition number (1-4): 1
</pre></div>
<p>Раздел был помечен для удаления. Он больше не будет отображаться при печати списка разделов при вводе <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd>, но не будет удален, пока не будут сохранены изменения. Это дает возможность пользователю прервать операцию, если была допущена ошибка - в этом случае ввод <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">q</kbd> позволяет немедленно выйти и раздел не будет удален.
</p><p>Повторяйте ввод <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> чтобы вывести список разделов, вводите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">d</kbd> и номер раздела для его удаления. В конечном счете, таблица разделов будет пуста:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>p</code></div><pre>
Disk /dev/sda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes
  
Device Boot    Start       End    Blocks   Id  System
</pre></div>
<p>Теперь запомненная в памяти таблица разделов пуста, мы готовы создавать разделы.
</p>
<h3><span class="mw-headline" id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0_BIOS">Создание загрузочного раздела BIOS</span></h3>
<p>Сначала создаем маленький загрузочный раздел BIOS. Введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">n</kbd>, чтобы создать новый раздел, затем <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd>, чтобы выбрать <i>основной</i> раздел, следом <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">1</kbd> для выбора первого <i>основного</i> раздела. При запросе первого сектора, убедитесь, что он начинается с 2048 (который необходим для загрузчика) и нажмите enter. При запросе последнего сектора введите +2M для создания раздела размером 2Mbyte:
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Начало с сектора 2048 - отказоустойчивое решение для обнаружения загрузчиком этого раздела, как доступного для использования.</div>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>n</code></div><pre>
Command action
  e   extended
  p   primary partition (1-4)
p
Partition number (1-4): 1
First sector (64-10486533532, default 64): 2048
Last sector, +sectors +size{M,K,G} (4096-10486533532, default 10486533532): +2M
</pre></div>
<p>Помете раздел, в случае использования EFI:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>t</code></div><pre>
Selected partition 1
Hex code (type L to list codes): 4
Changed system type of partition 1 to 4 (BIOS boot)
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Использование EFI со структурой разделов MBR не рекомендуется. Если система использует EFI, пожалуйста, используйте  структуру GPT.</div>
<h3><span class="mw-headline" id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0">Создание загрузочного раздела</span></h3>
<p>Сначала создаем маленький загрузочный раздел. Введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">n</kbd>, чтобы создать новый раздел, затем <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd>, чтобы выбрать <i>основной</i> раздел, следом <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">2</kbd> для выбора второго <i>основного</i> раздела. При запросе первого сектора, примите предложенное  по умолчанию значение, нажав <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>. При запросе последнего сектора введите +128M для создания раздела размером 128Mbyte:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>n</code></div><pre>
Command action
  e   extended
  p   primary partition (1-4)
p
Partition number (1-4): 2
First sector (5198-10486533532, default 5198): (Hit enter)
Last sector, +sectors +size{M,K,G} (4096-10486533532, default 10486533532): +128M
</pre></div>
<p>Теперь, при нажатии <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd>, отображаются следующие разделы:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>p</code></div><pre>
Disk /dev/sda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes
  
   Device Boot    Start       End    Blocks   Id  System
/dev/sda1             1         3      5198+  ef  EFI (FAT-12/16/32)
/dev/sda2             3        14    105808+  83  Linux
</pre></div>
<p>Введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">a</kbd> для переключения флага загрузки и выберите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">2</kbd>. После нажатия <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> повторно, заметите, что * находится в столбце "Boot".
</p>
<h3><span class="mw-headline" id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.87.D0.BA.D0.B8">Создание раздела подкачки</span></h3>
<p>Для создания раздела подкачки введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">n</kbd>, чтобы создать новый раздел, затем <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd>, чтобы сказать <code>fdisk</code>, что раздел должен быть <i>основной</i>. Затем введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">3</kbd> для создания третьего <i>основного</i> раздела, <span style="font-family: monospace; font-size: 95%">/dev/sda3</span>. При появлении запроса последнего сектора, наберите +512M (или любой другой размер, необходимый для подкачки) для создания раздела размером 512M.
</p><p>После того как это будет сделано введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">t</kbd> для выбора типа раздела, <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">3</kbd> для выбора только что созданного раздела и введите <i>82</i>, чтобы установить тип раздела на "Linux Swap".
</p>
<h3><span class="mw-headline" id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BA.D0.BE.D1.80.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0">Создание коревого раздела</span></h3>
<p>Наконец, чтобы создать корневой раздел введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">n</kbd>, чтобы создать новый раздел, затем <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd>, чтобы сказать <code>fdisk</code>, что создаваемый раздел должен быть <i>основным</i>. Затем введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">4</kbd>, чтобы создать четвертый <i>основной</i> раздел, <span style="font-family: monospace; font-size: 95%">/dev/sda4</span>. При запросе первого сектора нажмите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>. При запросе последнего нажмите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Enter</kbd>, чтобы создать раздел  занимающий все оставшуюся рабочего пространства диска. После завершения этих шагов введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">p</kbd> для вывода на экран таблицы разделов, которая выглядит например так:
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>p</code></div><pre>
Disk /dev/sda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes
  
   Device Boot    Start       End    Blocks   Id  System
/dev/sda1             1         3      5198+  ef  EFI (FAT-12/16/32)
/dev/sda2   *         3        14    105808+  83  Linux
/dev/sda3            15        81    506520   82  Linux swap
/dev/sda4            82      3876  28690200   83  Linux
</pre></div>
<h3><span class="mw-headline" id=".D0.A1.D0.BE.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.82.D0.BA.D0.B8_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2">Сохранение разметки разделов</span></h3>
<p>Для сохранения разметки разделов и выхода из <code>fdisk</code> введите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">w</kbd>.
</p>
<div class="cmd-box"><div><code style="color: #4E9A06; font-weight: bold;">Command (m for help):</code><span class="tripleclick-separator"></span><code>w</code></div></div>
<p>Разделы созданы, теперь настало время создать на них файловые системы.
</p><p><br />
</p>
<h2><span class="mw-headline" id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC">Создание файловых систем</span></h2>
<h3><span class="mw-headline" id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_2">Введение</span></h3>
<p>Теперь, когда разделы созданы, пора разместить на них файловые системы. В следующем разделе описаны различные поддерживаемые в Linux файловые системы. Те из читателей, кто уже знает, какую файловую систему будет использовать, могут продолжить с раздела <a href="#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B">Создание файловой системы</a>. Другим стоит продолжить чтение, чтобы узнать о доступных файловых системах...
</p>
<h3><span class="mw-headline" id=".D0.A4.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B">Файловые системы</span></h3>
<p>На выбор доступно несколько файловых систем. Некоторые из них считаются стабильными на архитектуре amd64. Рекомендуется прочитать информацию о файловых системах и об их состоянии поддержки перед тем, как выбирать экспериментальные для важных разделов.
</p>
<dl><dt> btrfs</dt>
<dd> Файловая система следующего поколения, обеспечивающая множество дополнительных функций, таких как мгновенные снимки, самовосстановление с помощью контрольных сумм, прозрачной компрессии, субтомов и интегрированным RAID. Некоторые дистрибутивы начали предлагать ее из <i>коробки</i>, но она еще не готова к использованию в промышленной среде. Общедоступны отчеты об ошибках в файловой системе. Ее разработчики призывают людей для безопасности использовать последнюю версию ядра, для решения уже известных проблем. Она разрабатывается уже много лет и пока далеко до завершения. Исправления иногда портируются в более старые версии ядра. Используйте с осторожностью эту файловую систему.</dd>
<dt> ext2</dt>
<dd> Это проверенная и надежная файловая система Linux, но она не обладает средствами журналирования метаданных, что означает, что проверка файловой системы ext2 при запуске может занимать довольно много времени. Существует достаточно широкий выбор журналируемых файловых систем нового поколения, целостность которых может быть проверена очень быстро, что является преимуществом перед не журналируемыми системами. Журналирование файловой системы позволяет избежать долгих задержек при загрузке системы и так же избежать ее неустойчивого состояния.</dd>
<dt> ext3</dt>
<dd> Журналируемая версия файловой системы ext2, обеспечение журналирования метаданных для быстрого восстановления в дополнение к другим режимам журналирования, таким как журналирование всех данных и упорядоченных данных. </dd>
<dt> ext4 </dt>
<dd> Изначально созданная как ответвление от ext3, ext4, приносит новые возможности, повышение производительности и устранение ограничений на размер раздела на диске. Он может быть размером до 1 ЭБ и максимальный размер файла 16ТБ. Вместо классического ext2/3 блочного распределения ext4 использует экстенты, которые улучшают производительность при работе с большими файлами и уменьшают фрагментацию. Ext4 также обеспечивает более сложные алгоритмы распределения блоков (задержка распределения и мультиблочное распределение) дающие драйверу файловой системы больше возможностей по оптимизации размещения данных на диске. Ext4 рекомендуется как универсальная файловая система для всех платформ.</dd>
<dt> JFS</dt>
<dd> Высокопроизводительная журналируемая файловая система от IBM. JFS это легкая, быстрая и надежная файловая система, основанная на B+tree с хорошей производительностью в различных условиях.</dd>
<dt> ReiserFS</dt>
<dd> Основаная на B+tree журналируемая файловая система имеющая хорошую общую производительность, особенно при работе с множеством мелких файлов cost of more CPU cycles. ReiserFS, по видимому,  менее поддерживаемая, чем другие файловые системы.</dd>
<dt> XFS </dt>
<dd> Файловая система с журналированием метаданных, которая поставляется с мощным набором функций и оптимизирована для масштабируемости. XFS, кажется, менее снисходительно относится к различным аппаратным проблемам.</dd>
<dt> vfat</dt>
<dd> Так же известна как FAT32, поддерживается Linux, но без поддержки каких-либо настроек разрешений. В основном используется для взаимодействия с другими операционными системами (в основном Microsoft Windows), но также необходима при использовании некоторых системных прошивок (например UEFI).</dd></dl>
<p>При использовании ext2, ext3 или ext4 на малых разделах (менее 8 Гб) файловая система должна быть создана с надлежащими опциями резервирования достаточного количества inodes. Приложение <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mke2fs</span> использует настройки "bytes-per-inode" для вычисления сколько inodes должна иметь файловая система. На небольших системах рекомендуется увеличивать расчетное количество inodes.
</p><p>Для ext2 это может быть сделано следующей командой:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mke2fs -T small /dev/&lt;device&gt;</code></div></div>
<p>Для ext3 и ext4 добавьте опцию <code>-j</code> для разрешения журналирования:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mke2fs -j -T small /dev/&lt;device&gt;</code></div></div>
<p>Как правило необходимо увеличивать в четыре раза количество inodes для таких систем, снижая "bytes-per-inode" с одного на 16kB до одного на 4kB. Это может быть настроено далее с помощью рейтинга:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mke2fs -i &lt;ratio&gt; /dev/&lt;device&gt;</code></div></div>
<h3><span class="mw-headline" id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B">Создание файловой системы</span></h3>
<p>Для создания файловых систем на разделе или томе существуют утилиты для каждого возможного типа:
</p>
<table class="table table-condensed table-striped" style="text-align: left;">

<tr>
<th scope="col" width="15%"> Файловая система
</th>
<th> Команда для создания
</th></tr>
<tr>
<td> btrfs
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.btrfs</span>
</td></tr>
<tr>
<td> ext2
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.ext2</span>
</td></tr>
<tr>
<td> ext3
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.ext3</span>
</td></tr>
<tr>
<td> ext4
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.ext4</span>
</td></tr>
<tr>
<td> jfs
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.jfs</span>
</td></tr>
<tr>
<td> reiserfs
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkreiserfs</span>
</td></tr>
<tr>
<td> xfs
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.xfs</span>
</td></tr>
<tr>
<td> vfat
</td>
<td> <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkfs.vfat</span>
</td></tr></table>
<p>Например, чтобы сделать загрузочный раздел (<span style="font-family: monospace; font-size: 95%">/dev/sda2</span>) в ext2 и корневой раздел (<span style="font-family: monospace; font-size: 95%">/dev/sda4</span>) в ext4 при использовании структуры разделов из примера, используются следующие команды:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkfs.ext2 /dev/sda2</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkfs.ext4 /dev/sda4</code></div></div>
<p>Теперь созданы файловые системы на вновь созданных томах (или логических разделах).
</p>
<h3><span class="mw-headline" id=".D0.90.D0.BA.D1.82.D0.B8.D0.B2.D0.B0.D1.86.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.87.D0.BA.D0.B8">Активация раздела подкачки</span></h3>
<p>Для инициализации разделов подкачки используется команда <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mkswap</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkswap /dev/sda3</code></div></div>
<p>Чтобы активировать раздел подкачки, используйте <span style="font-family: monospace; font-size: 95%; font-weight: bold;">swapon</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>swapon /dev/sda3</code></div></div>
<p>Создайте и активируйте раздел подкачки командами выше:
</p>
<h2><span class="mw-headline" id=".D0.9C.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5">Монтирование</span></h2>
<p>Теперь, когда созданы разделы и файловые системы на них, настало время их смонтировать. Используйте команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mount</span>, но не забывайте, что необходимо создать каталоги для монтирования каждого созданного раздела. Для примера монтирование корневого  и загрузочного раздела:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount /dev/sda4 /mnt/gentoo</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkdir /mnt/gentoo/boot</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount /dev/sda2 /mnt/gentoo/boot</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если <span style="font-family: monospace; font-size: 95%">/tmp/</span> должен находится на отдельном разделе, не забудьте после монтирования изменить права доступа:
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>chmod 1777 /mnt/gentoo/tmp</code></div></div>
Это так же справедливо для <span style="font-family: monospace; font-size: 95%">/var/tmp</span>.</div>
<p>Позже в инструкции будут смонтированы файловая система proc (виртуальный интерфейс с ядром) и другие псевдо-файловые системы ядра. Но сначала мы <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">устанавливаем установочные файлы Gentoo</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Networking/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Настройка сети</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Stage/ru.html" title="Следующая часть" class="btn btn-default">Установка Gentoo файлов установки &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B0_stage">Установка архива stage</span></h2>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8_.D0.B8_.D0.B4.D0.B0.D1.82.D1.8B">Установка времени и даты</span></h3>
<p>Перед установкой Gentoo убедитесь, что время и дата установлены корректно. Неправильно установленное время может привести к странным результатам в будущем!
</p><p>Чтобы проверить текущую дату и время запустите команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">date</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>date</code></div><pre>
Fri Mar 29 16:21:18 UTC 2005
</pre></div>
<p>Если дата/время отображается неправильно обновите ее, используя формат <code>MMDDhhmmYYYY</code> (Месяц, День, час, минута и Год). На данном этапе рекомендуется использовать время UTC. Позже, во время установки, часовой пояс можно будет указать.
</p><p>Например, чтобы установить дату на 29 марта, 16:21 2014 года:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>date 032916212014</code></div></div>
<h3><span class="mw-headline" id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B0_stage">Загрузка архива stage</span></h3>
<p>Когда корневая файловая система подключена, перейдите в точку монтирования Gentoo (скорей всего это <span style="font-family: monospace; font-size: 95%">/mnt/gentoo</span>):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cd /mnt/gentoo</code></div></div>
<p>В зависимости от среды установки, есть несколько инструментов, доступных для загрузки файла stage. Одним из таких инструментов является <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span>, не графический веб браузер с меню. Чтобы скачать файл stage посмотрите список зеркал Gentoo:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>links <a rel="nofollow" class="external free" href="https://www.gentoo.org/downloads/mirrors/">https://www.gentoo.org/downloads/mirrors/</a></code></div></div>
<p>Чтобы использовать HTTP прокси в <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span>, введите URL с опцией <code>-http-proxy</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>links -http-proxy proxy.server.com:8080 <a rel="nofollow" class="external free" href="https://www.gentoo.org/downloads/mirrors/">https://www.gentoo.org/downloads/mirrors/</a></code></div></div>
<p>На ряду с <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span> так же есть <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lynx</span> браузер. Как и <span style="font-family: monospace; font-size: 95%; font-weight: bold;">links</span> он не имеет графического интерфейса, но у него нет меню.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>lynx <a rel="nofollow" class="external free" href="https://www.gentoo.org/downloads/mirrors/">https://www.gentoo.org/downloads/mirrors/</a></code></div></div>
<p>Если прокси нужно сохранить, экспортируйте переменные <var>http_proxy</var> и/или <var>ftp_proxy</var>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export http_proxy="<a rel="nofollow" class="external free" href="http://proxy.server.com:port/">http://proxy.server.com:port</a>"
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export ftp_proxy="<a rel="nofollow" class="external free" href="http://proxy.server.com:port/">http://proxy.server.com:port</a>"</code></div></div>
<p>В списке зеркал выберите зеркало которое находится рядом. Обычно зеркала с HTTP протоколом хватает, но и другие протоколы также доступны. Перейдите в каталог <span style="font-family: monospace; font-size: 95%">releases/amd64/autobuilds/</span>. Там отображаются все доступные stage файлы (так же они могут быть сохранены в подкаталогах с названиями отдельных суб-архитектур). Выберите нужный и нажмите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">D</kbd> для загрузки.
</p><p>Вместе с минимальными установочными образами доступны следующие загрузки:
</p>
<ul><li> <span style="font-family: monospace; font-size: 95%">.CONTENTS</span> файл содержит список всех файлов внутри stage архива</li>
<li> <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> файл содержит контрольные суммы в разных алгоритмах для файлов stage</li>
<li> <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> файл как и <span style="font-family: monospace; font-size: 95%">.DIGESTS</span>, содержит контрольные суммы в различных алгоритмах, а так же криптографическую подпись, которая предусмотрена Gentoo проектом.</li></ul>
<p>Когда закончите, нажмите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Q</kbd> для выхода из браузера.
</p><p>После загрузки stage файла можно проверить целостность загруженного stage файла. Используйте <span style="font-family: monospace; font-size: 95%; font-weight: bold;">openssl</span> и сравните полученную контрольную сумму с контрольной суммой которая есть в <span style="font-family: monospace; font-size: 95%">.DIGESTS</span> или <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> файле.
</p><p>Например, для проверки контрольной суммы SHA512:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>openssl dgst -r -sha512 stage3-amd64-&lt;release&gt;.tar.bz2</code></div></div>
<p>Так же можно использовать команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">sha512sum</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>sha512sum stage3-amd64-&lt;release&gt;.tar.bz2</code></div></div>
<p>Для проверки контрольной суммы Whirlpool:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>openssl dgst -r -whirlpool stage3-amd64-&lt;release&gt;.tar.bz2</code></div></div>
<p>Сравните вывод этих команд со значением в <span style="font-family: monospace; font-size: 95%">.DIGESTS(.asc)</span> файле. Значения должны совпадать, иначе загруженный файл может быть поврежден (или файл digest).
</p><p>Так же, как и файл ISO, stage файл можно проверить по криптографической подписи в <span style="font-family: monospace; font-size: 95%">.DIGESTS.asc</span> файле, используя <span style="font-family: monospace; font-size: 95%; font-weight: bold;">gpg</span>, чтобы убедиться, что контрольные суммы не были подделаны:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>gpg --verify stage3-amd64-&lt;release&gt;.tar.bz2.DIGESTS.asc</code></div></div>
<h3><span class="mw-headline" id=".D0.A0.D0.B0.D1.81.D0.BF.D0.B0.D0.BA.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B0_stage">Распаковка архива stage</span></h3>
<p>Теперь распакуем загруженный stage архив в систему. Далее воспользуемся <span style="font-family: monospace; font-size: 95%; font-weight: bold;">tar</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>tar xvjpf stage3-*.tar.bz2 --xattrs</code></div></div>
<p>Убедитесь, что оба параметра (<code>xvjpf</code> и <code>--xattrs</code>) используются. Позиция x указывает на Извлечение, v на Подробные Сообщения, чтобы видеть то, что происходит во время процесса извлечения (опционально), j для Декомпрессии bzip2, p для Сохранения прав доступа и f для обозначения, что мы хотим извлечь файл, а не стандартный ввод. Наконец, <code>--xattrs</code> позволит также включить расширенные атрибуты, хранящиеся в архиве.
</p><p>Теперь, когда stage установлен перейдем к <a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.BE.D0.B2_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B8.D0.BB.D1.8F.D1.86.D0.B8.D0.B8">Настройке параметров компиляции</a>.
</p>
<h2><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.BE.D0.B2_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B8.D0.BB.D1.8F.D1.86.D0.B8.D0.B8">Настройка параметров компиляции</span></h2>
<h3><span class="mw-headline" id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_3">Введение</span></h3>
<p>Для оптимизации Gentoo можно установить пару переменных, которые повлияют на поведение Portage. Все переменные могут быть установлены как переменные среды (с помощью <span style="font-family: monospace; font-size: 95%; font-weight: bold;">export</span>), но это не является постоянным. Чтобы использовать сохраненные настройки Portage читает файл <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span>; конфигурационный файл для Portage.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Список и описание всех допустимых переменных можно найти в <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/usr/share/portage/config/make.conf.example</span>. Для успешной установки Gentoo достаточно определить переменные, которые упомянуты ниже.</div>
<p>Запустите редактор (в этом руководстве мы используем <span style="font-family: monospace; font-size: 95%; font-weight: bold;">nano</span>) для изменения параметров оптимизации о которых написано далее.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /mnt/gentoo/etc/portage/make.conf</code></div></div>
<p>В файле <span style="font-family: monospace; font-size: 95%">make.conf.example</span> показано, как файл должен быть структурирован: строки комментариев начинаются с "#", другие строки описывают переменные, используя конструкцию ПЕРЕМЕННАЯ="содержание". Некоторые из этих переменных мы обсудим позже.
</p>
<h3><span class="mw-headline" id="CFLAGS_.D0.B8_CXXFLAGS">CFLAGS и CXXFLAGS</span></h3>
<p><var>CFLAGS</var> и <var>CXXFLAGS</var> переменные определяют параметры оптимизации для GCC C и C ++ компилятора соответственно. Хотя они и указаны здесь, для достижения максимальной производительности можно было бы указать флаги оптимизации для каждой программы отдельно. Причина этого в том, что все программы различны. Но этим тяжело управлять, следовательно, запишем эти переменные в <span style="font-family: monospace; font-size: 95%">make.conf</span> файл.
</p><p>В <span style="font-family: monospace; font-size: 95%">make.conf</span> следует указывать параметры оптимизации, которые сделают систему наиболее отзывчивой в целом. Не нужно использовать экспериментальные настройки; излишняя оптимизация может привести к непредсказуемому поведению программ (аварийный выход из программы, или еще хуже, к неправильной работе).
</p><p>Мы не будем описывать все возможные параметры оптимизации. За более подробной информацией обратитесь к <a rel="nofollow" class="external text" href="http://gcc.gnu.org/onlinedocs/">GNU онлайн документации</a> или к информационной странице gcc (<span style="font-family: monospace; font-size: 95%; font-weight: bold;">info gcc</span> - работает только на работающей системе Linux), также сам файл <span style="font-family: monospace; font-size: 95%">make.conf.example</span> содержит множество примеров и информации; не забудьте прочитать его тоже.
</p><p>Первым параметром обычно является флаг <code>-march=</code> или <code>-mtune=</code>, который указывает имя целевой архитектуры. Возможные варианты описаны в файле <span style="font-family: monospace; font-size: 95%">make.conf.example</span> (в комментариях). Обычно используется значение <i>native</i>, который сообщает компилятору, чтобы он использовал целевую архитектуру существующей системы (удобно для пользователей у которых одна инсталляция Gentoo).
</p><p>Второй параметр оптимизации - это <code>-О</code> флаг (это точно буква О, а не ноль), который указывает GCC какой класс оптимизации использовать. Возможные классы (оптимизации по размеру), 0 (ноль - без оптимизации), 1, 2 или даже 3 для более лучшей оптимизация по скорости (в каждый класс входят все флаги предыдущего, и некоторые дополнительные). <code>-O2</code> рекомендуется по умолчанию. <code>-O3</code>, как известно, вызывает проблемы при использовании его для всей системы, поэтому мы рекомендуем придерживаться <code>-O2</code>.
</p><p>Еще один популярный флаг оптимизации <code>-pipe</code> (использование pipe вместо временных файлов для коммуникации между различными проходами компилятора). Это не имеет никакого влияния на сгенерированный код, но использует больше памяти. В системах с небольшим объемом памяти gcc может аварийно завершиться из-за этого. В этом случае не используйте этот флаг.
</p><p>Использование <code>-fomit-frame-pointer</code> (не хранить указатель фрейма в регистре для функций, которым он не нужен) может привести к серьезным последствиям во время отладки приложений.
</p><p>Определение переменных <var>CFLAGS</var> и <var>CXXFLAGS</var> позволяет комбинировать несколько флагов оптимизации в одной строке. Значения по умолчанию, содержащиеся в архив stage3, наиболее хороши. Ниже один пример:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Пример для переменных CFLAGS и CXXFLAGS</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-march=native -O2 -pipe&quot;</span>
<span class="c"># Используйте те же настройки для обеих переменных</span>
<span class="nv">CXXFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CFLAGS</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div></pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br /><a href="../../../GCC_optimization/ru.html" title="GCC optimization/ru">Руководство по оптимизации GCC</a> имеет больше информации о том, как различные параметры компиляции могут повлиять на систему.</div>
<h3><span class="mw-headline" id="MAKEOPTS">MAKEOPTS</span></h3>
<p><var>MAKEOPTS</var> переменная определяет, сколько параллельных процессов компиляции должно запускаться при установке пакета. Хорошим вариантом будет использовать количество процессоров (или ядер процессора) в системе плюс один, но это вариант не всегда идеален.
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Пример записи MAKEOPTS в make.conf</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">MAKEOPTS</span><span class="o">=</span><span class="s2">&quot;-j2&quot;</span>
</pre></div></pre></div>
<h3><span class="mw-headline" id=".D0.9D.D0.B0_.D1.81.D1.82.D0.B0.D1.80.D1.82.2C_.D0.B2.D0.BD.D0.B8.D0.BC.D0.B0.D0.BD.D0.B8.D0.B5.2C_.D0.BC.D0.B0.D1.80.D1.88">На старт, внимание, марш</span></h3>
<p>Обновите <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/etc/portage/make.conf</span> файл в соответствии с личными предпочтениями и сохраните изменения (пользователям nano нужно нажать <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Ctrl</kbd>+<kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">X</kbd>). 
</p><p>Перейдем к <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы Gentoo</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Disks/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Подготовка дисков</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Base/ru.html" title="Следующая часть" class="btn btn-default">Установка базовой системы Gentoo &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BA.D0.BE.D1.80.D0.BD.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BA.D0.B0.D1.82.D0.B0.D0.BB.D0.BE.D0.B3.D0.B0_.28chrooting.29">Изменение корневого каталога (chrooting)</span></h2>
<h3><span class="mw-headline" id=".D0.9D.D0.B5.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.B7.D0.B5.D1.80.D0.BA.D0.B0.D0.BB.D0.B0">Необязательно: Выбор зеркала</span></h3>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Предупреждение</strong><br />Приложение <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-portage/mirrorselect">app-portage/mirrorselect</a> не обновлено, что бы обработать в окружении chroots  файл <span style="font-family: monospace; font-size: 95%">repos.conf/gentoo.conf</span>. Кроме того, переменная <var>SYNC</var> в <span style="font-family: monospace; font-size: 95%">make.conf</span> устарела и больше не используется системой портов. Эта секция должна быть обновлена, пожалуйста, пропустите ее на данный момент...</div>
<p>Для быстрого скачивания исходного кода, рекомендуется выбрать быстрое зеркало. Portage будет искать в файле <span style="font-family: monospace; font-size: 95%">make.conf</span> переменную <var>GENTOO_MIRRORS</var> и использовать зеркала перечисленные в ней. Можно просмотреть список зеркал Gentoo и найти зеркало (или зеркала), наиболее близко расположенные к месту физического расположения (наиболее часто являющиеся самыми быстрыми). Тем не менее, мы предлагаем хороший инструмент под названием <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mirrorselect</span>, который предлагает красивый интерфейс для выбора нужных зеркал. Просто перейдите на нужное зеркало и нажмите <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">Spacebar</kbd> для выбора одного или нескольких.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mirrorselect -i -o &gt;&gt; /mnt/gentoo/etc/portage/make.conf</code></div></div>
<p>A second important setting is the <var>SYNC</var> setting in <span style="font-family: monospace; font-size: 95%">make.conf</span>. This variable contains the rsync server to use when updating the Portage tree (the collection of ebuilds and related files containing all the information Portage needs to download and install software). Again, it is possible to manually enter a <var>SYNC</var> server, but <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mirrorselect</span> can ease that operation considerably:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mirrorselect -i -r -o &gt;&gt; /mnt/gentoo/etc/portage/make.conf</code></div></div>
<p>После запуска <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mirrorselect</span> желательно дважды проверить настройки в <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/etc/portage/make.conf</span>!
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />When manually selecting a <var>SYNC</var> server in <span style="font-family: monospace; font-size: 95%">make.conf</span>, check out the community mirrors list for the mirrors closest to you. It is recommended to choose a rotation link, such as rsync.us.gentoo.org, rather than choosing a single mirror. This helps spread out the load and provides a fail safe in case a specific mirror is offline.</div>
<h3><span class="mw-headline" id=".D0.9A.D0.BE.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D0.B8_.D0.BE_DNS">Копирование информации о DNS</span></h3>
<p>Единственное, что еще осталось сделать перед входом в новую среду, это скопировать информацию о DNS из <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span> файла. Это должно быть сделано, чтобы гарантировать, что сеть все еще будет работать даже после входа в новую среду. Файл <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span> содержит сервера имен.
</p><p>Чтобы скопировать эту информацию, рекомендуется использовать ключ <code>-L</code> вместе с командой <span style="font-family: monospace; font-size: 95%; font-weight: bold;">cp</span>. Это гарантирует, что если <span style="font-family: monospace; font-size: 95%">/etc/resolv.conf</span> является символьной ссылкой, то будет скопирован целевой файл по ссылке, а не сама символьная ссылка. В противном случае в новой среде символическая ссылка будет указывать на несуществующий файл (так как цель ссылки, скорее всего, будет не доступна внутри новой среды).
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cp -L /etc/resolv.conf /mnt/gentoo/etc/</code></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D0.BE.D0.B1.D1.85.D0.BE.D0.B4.D0.B8.D0.BC.D1.8B.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC">Подключение необходимых файловых систем</span></h3>
<p>Скоро root раздел будет перемещен на новый раздел. Чтобы новая среда работала, нужно подключить некоторые файловые системы.
</p><p>Файловые системы, которые должны быть подключены:
</p>
<ul><li> <span style="font-family: monospace; font-size: 95%">/proc/</span> это псевдо-файловая система (она выглядит как обычные файлы, но на самом деле генерируется на лету) из которой ядро Linux предоставляет информацию для окружающей среды</li>
<li> <span style="font-family: monospace; font-size: 95%">/sys/</span> это псевдо-файловая система, как и <span style="font-family: monospace; font-size: 95%">/proc/</span>, которую она однажды заменит, так же она более структурирована, чем <span style="font-family: monospace; font-size: 95%">/proc/</span></li>
<li> <span style="font-family: monospace; font-size: 95%">/dev/</span> это обычная файловая система, частично управляемая менеджером устройств Linux (обычно <span style="font-family: monospace; font-size: 95%; font-weight: bold;">udev</span>), которая содержит все файлы устройств</li></ul>
<p>Каталог <span style="font-family: monospace; font-size: 95%">/proc/</span> монтируется в <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/proc/</span> как вторая точка монтирования. Дальнейшее означает, что, например, <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/sys/</span> на самом деле <i>будет</i> <span style="font-family: monospace; font-size: 95%">/sys/</span> (это просто вторая точка входа в той же файловой системе), тогда как <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/proc/</span> является новой точкой монтирования (так сказать экземпляром) файловой системы.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount -t proc proc /mnt/gentoo/proc
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount --rbind /sys /mnt/gentoo/sys
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount --make-rslave /mnt/gentoo/sys
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount --rbind /dev /mnt/gentoo/dev
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount --make-rslave /mnt/gentoo/dev</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Операция <code>--make-rslave</code> необходима для дальнейшей поддержки systemd в ходе установки.</div>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Предупреждение</strong><br />Если при установке используется не Gentoo дистрибутив, то этого может быть не достаточно. Некоторые дистрибутивы делают <span style="font-family: monospace; font-size: 95%">/dev/shm</span> как символическую ссылку к <span style="font-family: monospace; font-size: 95%">/run/shm/</span> которая после перехода в chroot становится недействительной. Создание правильной ссылки <span style="font-family: monospace; font-size: 95%">/dev/shm/</span> на точку tmpfs можно сделать с помощю этого:
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rm /dev/shm &amp;&amp; mkdir /dev/shm
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mount -t tmpfs -o nosuid,nodev,noexec shm /dev/shm</code></div></div>
<p>Так же проверите, что права доступа установлены в 1777
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code> chmod 1777 /dev/shm</code></div></div>
</div>
<h3><span class="mw-headline" id=".D0.9F.D0.B5.D1.80.D0.B5.D1.85.D0.BE.D0.B4_.D0.B2_.D0.BD.D0.BE.D0.B2.D0.BE.D0.B5_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5">Переход в новое окружение</span></h3>
<p>Теперь, когда все разделы созданы и базовая среда установлена, настало время, чтобы войти в новую установочную среду перенеся корневой каталог в нее. Это означает, что сессия изменит свой корень (наивысший каталог, который может быть доступен) из текущей установочной среды (CD или другого установочного носителя) в систему установки (а именно размеченных разделов). Отсюда и название, сменить корень (change root - chroot).
</p><p>Chroot делается в три шага:
</p>
<ol><li> Перенос корневой директории из <span style="font-family: monospace; font-size: 95%">/</span> (который находится на установочном ресурсе) в <span style="font-family: monospace; font-size: 95%">/mnt/gentoo/</span> (на разделах диска) используя chroot</li>
<li> С помощью команды <span style="font-family: monospace; font-size: 95%; font-weight: bold;">source</span>, некоторые параметры (перечисленные здесь <span style="font-family: monospace; font-size: 95%">/etc/profile</span>) перезагружаются в память</li>
<li> Изменение приглашения командной строки, чтобы запомнить, что эта сессия находится в chroot окружении.</li></ol>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>chroot /mnt/gentoo /bin/bash
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>source /etc/profile
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>export PS1="(chroot) $PS1"</code></div></div>
<p>С этого момента, все действия, нужно выполнять сразу в новом окружении Gentoo Linux (chroot). Конечно, это еще не конец, до конца установки еще осталось несколько разделов&#160;:-&#41;
</p>
<h2><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_Portage">Настройка Portage</span></h2>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.81.D0.BD.D0.B8.D0.BC.D0.BA.D0.B0_Portage">Установка снимка Portage</span></h3>
<p>Следующим шагом будет установка снимка Portage, это коллекция файлов, которая сообщает Portage какое программное обеспечение может быть установлено, какой профиль может выбрать администратор, и т.д.
</p><p>Рекомендуется использовать <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span>. Эта команда скачает последний снимок Portage (который выпускается Gentoo на ежедневной основе) с одного из зеркал Gentoo и установит его в систему.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge-webrsync</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Во время этой операции, <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span> может жаловаться на отсутствующую <span style="font-family: monospace; font-size: 95%">/usr/portage/</span>. В этом нет ничего страшного - инструмент сам создаст эту директорию.</div>
<p>Начиная с этого места Portage может попросить установить некоторые рекомендуемые обновления. Это потому, что некоторые системные пакеты, установленные в stage3, возможно, имеют новые доступные версии, и Portage это стало известно после установки нового снимка дерева Portage. Сейчас это можно проигнорировать; установка обновлений может быть выполнена после завершения установки Gentoo.
</p>
<h3><span class="mw-headline" id=".D0.9D.D0.B5.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.9E.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B4.D0.B5.D1.80.D0.B5.D0.B2.D0.B0_Portage">Необязательно: Обновление дерева Portage</span></h3>
<p>Также можно обновить дерево Portage до текущего состояния. Предыдущая команда <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span> устанавливает относительно недавний снимок Portage (обычно не старше 24ч), поэтому этот шаг, безусловно, делать необязательно.
</p><p>Если имеется необходимость установки свежих обновлений (выпущенных не более 1 часа назад), то используйте <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge --sync</span>. Эта команда использует rsync протокол для обновления дерева Portage (которое было получено ранее с помощью <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge-webrsync</span>) до самой свежей версии.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --sync</code></div></div>
<p>На медленных терминалах с некоторыми фреймбуферами или при использовании последовательного терминала, рекомендуется использовать опцию <code>--quiet</code> для ускорения процесса:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --sync --quiet</code></div></div>
<h3><span class="mw-headline" id=".D0.A7.D1.82.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.BE.D0.B2.D0.BE.D1.81.D1.82.D0.B5.D0.B9">Чтение новостей</span></h3>
<p>После обновления дерева Portage пользователь может увидеть следующее сообщение:
</p>
<div class="gw-box"><div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #204A87">Код</span> <strong>Portage информирует пользователя о новых новостях</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre> * IMPORTANT: 2 news items need reading for repository 'gentoo'.
 * Use eselect news to read news items.
</pre></div></pre></div>
<p>Новости Portage были созданы, чтобы обеспечить связь, оповещать пользователей о критически важных изменениях с помощью дерева rsync. Чтобы управлять новостными сообщениями используйте команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect news</span>. Приложение <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect</span> - это приложение Gentoo, которое позволяет обеспечить общий интерфейс управления системными настройками и производить различные операции. В данном примере <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect</span> просит использовать ее вместе с модулем <code>news</code>.
</p><p>Для модуля <code>news</code> есть три наиболее распространенных операций:
</p>
<ul><li> <code>list</code> отображает общий список новостей.</li>
<li> <code>read</code> можно прочитать какую-либо новость.</li>
<li> <code>purge</code> удалит прочитанные новости, поэтому перечитать новость снова уже будет нельзя.</li></ul>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect news list
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect news read</code></div></div>
<p>Более подробную информацию о чтение новостей можно найти на странице man: 
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>man news.eselect</code></div></div>
<h3><span class="mw-headline" id=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BF.D0.BE.D0.B4.D1.85.D0.BE.D0.B4.D1.8F.D1.89.D0.B5.D0.B3.D0.BE_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F">Выбор подходящего профиля</span></h3>
<p><i>Профиль</i> - это важная часть любой системы Gentoo. Он не только определяет переменные <var>USE</var>, <var>CFLAGS</var>, и другие важные переменные, а также заставляет систему использовать только определенные версии пакетов. Все эти ньюансы поддерживаются разработчиками Gentoo.
</p><p>Вы можете увидеть какой профиль в настоящее время используется в системе с помощь команды <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect</span>, только теперь с модулем <code>profile</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect profile list</code></div><pre>
Available profile symlink targets:
  [1]   default/linux/amd64/13.0 *
  [2]   default/linux/amd64/13.0/desktop
  [3]   default/linux/amd64/13.0/desktop/gnome
  [4]   default/linux/amd64/13.0/desktop/kde
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Вывод команды является только примером и может меняться при некоторых ситуациях</div>
<p>Как можно увидеть, есть субпрофиль для настольных систем в некоторых архитектурах.
</p><p>После просмотра доступных профилей для amd64 архитектуры, пользователи могут выбрать другой профиль:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect profile set 2</code></div></div>
<p><br />
</p><p>Если вы хотите чистое 64-битное окружение, без 32-битных приложений или библиотек, вам нужно использовать профиль no-multilib:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect profile list</code></div><pre>
Available profile symlink targets:
  [1]   default/linux/amd64/13.0 *
  [2]   default/linux/amd64/13.0/desktop
  [3]   default/linux/amd64/13.0/desktop/gnome
  [4]   default/linux/amd64/13.0/desktop/kde
  [5]   default/linux/amd64/13.0/no-multilib
</pre></div>
<p>Далее выберите профиль <i>no-multilib</i>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect profile set 5
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect profile list</code></div><pre>
Available profile symlink targets:
  [1]   default/linux/amd64/13.0
  [2]   default/linux/amd64/13.0/desktop
  [3]   default/linux/amd64/13.0/desktop/gnome
  [4]   default/linux/amd64/13.0/desktop/kde
  [5]   default/linux/amd64/13.0/no-multilib *
</pre></div>
<p><br />
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Подпрофиль developer сделан специально для разработки Gentoo Linux и не предназначен для использования обычными пользователями.</div>
<h3><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_USE_.D0.BF.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D0.BE.D0.B9">Настройка USE переменной</span></h3>
<p><var>USE</var> - это одна из самых мощных переменных Gentoo доступная пользователям. Разные программы могут быть скомпилированы с или без поддержки некоторых опций. Например, некоторые программы могут быть скомпилированы с поддержкой GTK или поддержкой QT. Другие могут быть скомпилированы с или без поддержки SSL. Некоторые программы можно даже скомпилировать с поддержкой фреймбуфера (svgalib) вместо поддержки X11 (X-сервера).
</p><p>Большинство дистрибутивов компилируют свои пакеты с поддержкой всего, что возможно, увеличивая размер и время запуска программ, не говоря уже о чрезмерных зависимостях.
С Gentoo пользователь может определить с какими опциями пакет должен быть скомпилирован. И здесь переменная <var>USE</var> вступает в игру.
</p><p>В переменной <var>USE</var> пользователи определяют ключевые слова (keywords), которые отображаются на параметры компиляции. Например, <code>ssl</code> будет компилировать ssl-поддержку в программах, которые ее поддерживают. <code>-X</code> уберет поддержку X-сервера (обратите внимание на знак минус перед X). <code>gnome gtk -kde -qt4</code> будет компилировать программы с поддержкой GNOME (и GTK), но без поддержки KDE (и QT), что делает систему более оптимальной для использования GNOME (если архитектура поддерживает его).
</p><p>Настройки по умолчанию для USE находятся в файле <span style="font-family: monospace; font-size: 95%">make.defaults</span> Gentoo профиля, который используется на данный момент системой. Gentoo использует систему (комплекс) наследования для своих профилей в которую мы не будем погружаться на данный момент. Простой способ проверить какие настройки используются для <var>USE</var> это запустить <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge --info</span> и просмотреть строку начинающуюся с USE:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --info | grep ^USE</code></div><pre>
USE=&quot;X acl alsa amd64 berkdb bindist bzip2 cli cracklib crypt cxx dri ...&quot;
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />В приведенном выше примере список укорочен. Настоящий список <var>USE</var> флагов намного больше.</div>
<p>Полный список доступных USE флагов можно найти в файле <span style="font-family: monospace; font-size: 95%">/usr/portage/profiles/use.desc</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>less /usr/portage/profiles/use.desc</code></div></div>
<p>Когда используется команда <span style="font-family: monospace; font-size: 95%; font-weight: bold;">less</span>, можно осуществлять скроллинг с помощью клавиш <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">↑</kbd> и <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">↓</kbd>, или выйти нажав клавишу <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">q</kbd>.
</p><p>В качестве примера мы покажем настройки USE для системы ориентированной для использования KDE с поддержкой DVD, ALSA и записи CD:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/portage/make.conf</code></div></div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Настройки USE для системы ориентированной для использования KDE с поддержкой DVD, ALSA и записи CD</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>USE=&quot;-gtk -gnome qt4 kde dvd alsa cdr&quot;
</pre></div></pre>
<p>Если <var>USE</var> флаг используется в <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> это <i>добавляет</i> (или <i>удаляет</i>, если перед USE флагом написан знак <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">-</kbd>) из списка по умолчанию. Пользователи, которые хотят игнорировать любые настройки USE по умолчанию и полностью настраивать USE сами, должны начать USE в <span style="font-family: monospace; font-size: 95%">make.conf</span> с <code>-*</code>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/portage/make.conf</code></strong><strong>Игнорирование дефолтных флагов USE</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">USE</span><span class="o">=</span><span class="s2">&quot;-* X acl alsa ...&quot;</span>
</pre></div></pre>
<h2><span class="mw-headline" id=".D0.9D.D0.B5.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_systemd">Необязательно: Использование systemd</span></h2>
<p>Оставшаяся часть настольной книги Gentoo фокусируется на OpenRC в качестве системы инициализации по умолчанию. Если вы хотите вместо нее использовать systemd, либо если вы планируете использовать Gnome 3.8 или более поздней версии (которая требует systemd), проконсультируйтесь со страницей <a href="../../../Systemd/ru.html" title="Systemd/ru">systemd</a>, так как она описывает различные настройки и методы.
</p><p>Затем можно читать настольную книгу Gentoo, имея в виду эту статью.
</p>
<h2><span class="mw-headline" id=".D0.A7.D0.B0.D1.81.D0.BE.D0.B2.D0.BE.D0.B9_.D0.BF.D0.BE.D1.8F.D1.81">Часовой пояс</span></h2>
<p>Определите какой часовой пояс нужен для системы. Посмотреть доступные часовые пояса можно в <span style="font-family: monospace; font-size: 95%">/usr/share/zoneinfo/</span>, затем запишем его в файл <span style="font-family: monospace; font-size: 95%">/etc/timezone</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /usr/share/zoneinfo</code></div></div>
<p>Предположим, что выбранным часовым поясом является <i>Europe/Moscow</i>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>echo "Europe/Moscow" &gt; /etc/timezone</code></div></div>
<p>Пожалуйста, избегайте <span style="font-family: monospace; font-size: 95%">/usr/share/zoneinfo/Etc/GMT*</span> часовых поясов, так как их названия не соответствуют часовым поясам. Например, <span style="font-family: monospace; font-size: 95%">GMT-8</span> на самом деле <span style="font-family: monospace; font-size: 95%">GMT+8</span>.
</p><p>Далее, перенастроим пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-libs/timezone-data">sys-libs/timezone-data</a>, что обновит <span style="font-family: monospace; font-size: 95%">/etc/localtime</span> файл, основываясь на записи в <span style="font-family: monospace; font-size: 95%">/etc/timezone</span>. Файл <span style="font-family: monospace; font-size: 95%">/etc/localtime</span> используется системной библиотекой C, чтобы узнать в каком часовом поясе находится система.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --config sys-libs/timezone-data</code></div></div>
<h2><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D0.B5.D0.B9">Настройка локалей</span></h2>
<p>Большинству пользователей достаточно иметь одну или две локали на своих системах.
</p><p>Локаль, на самом деле, указывает не только язык, который используется при взаимодействии с системой, но и правила для сортировки строк, формат вывода даты и времени, и т.д. 
</p><p>Локали, которые должна поддерживать система, должны быть перечислены в <span style="font-family: monospace; font-size: 95%">/etc/locale.gen</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/locale.gen</code></div></div>
<p>Следующие локали являются примером для получения английской (США) и русской (Россия) локалей с поддержкой формата символов (например, UTF-8).
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/locale.gen</code></strong><strong>Включение US и RU локалей с поддержкой формата символов</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>en_US ISO-8859-1
en_US.UTF-8 UTF-8
ru_RU.KOI8-R KOI8-R
ru_RU.UTF-8 UTF-8
ru_RU ISO-8859-5
</pre></div></pre>
<div class="alert alert-danger gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-triangle"></i> Предупреждение</strong><br />Мы настоятельно рекомендуем использовать хотя бы одну локаль UTF-8, потому что некоторым приложениям она нужна.</div>
<p>Далее, запустим <span style="font-family: monospace; font-size: 95%; font-weight: bold;">locale-gen</span>. Это сгенерирует локали, которые были перечислены в файле <span style="font-family: monospace; font-size: 95%">/etc/locale.gen</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>locale-gen</code></div></div>
<p>Чтобы убедится, что выбранные локали теперь доступны запустите  команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">locale -a</span>.
</p><p>После этого настало время, настроить локаль для всей системы. И снова мы используем <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect</span> для этого, только теперь с модулем <code>locale</code>.
</p><p>Команда <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect locale list</span> выводит список доступных локалей:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect locale list</code></div><pre>
Available targets for the LANG variable:
  [1]  C
  [2]  en_US
  [3]  en_US.iso88591
  [4]  en_US.utf8
  [5]  POSIX
  [6]  ru_RU
  [7]  ru_RU.iso88595
  [8]  ru_RU.koi8r
  [9]  ru_RU.utf8
  [10] russian
  [ ]  (free form)
</pre></div>
<p>Команда <span style="font-family: monospace; font-size: 95%; font-weight: bold;">eselect locale set VALUE</span> может установить нужную локаль:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>eselect locale set 9</code></div></div>
<p>Также, это можно сделать с помощью файла <span style="font-family: monospace; font-size: 95%">/etc/env.d/02locale</span>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/env.d/02locale</code></strong><strong>Ручная настройка системной локали</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">LANG</span><span class="o">=</span><span class="s2">&quot;ru_RU.utf8&quot;</span>
<span class="nv">LC_COLLATE</span><span class="o">=</span><span class="s2">&quot;C&quot;</span>
</pre></div></pre>
<p>Убедитесь в том, что локаль настроена, так как система в противном случае может отображать предупреждения и ошибки во время сборки ядра или других случаях развертывания программного обеспечения, позднее в процессе установки.
</p><p>Заново перезагрузите окружение:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>env-update &amp;&amp; source /etc/profile</code></div></div>
<p>Мы сделали статью по полном <a href="../../../Localization/Guide/ru.html" title="Localization/Guide/ru">локализации</a>, чтобы помочь пользователю в этом процессе. Другая интересная статья <a href="../../../UTF-8/ru.html" title="UTF-8/ru">UTF-8</a> с очень подробной информацией как включить поддержку UTF-8 в системе.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Stage/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Установка Gentoo файлов установки</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Kernel/ru.html" title="Следующая часть" class="btn btn-default">Настройка ядра Linux &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B8.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D1.8B.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2">Установка исходных файлов</span></h2>
<p>Все дистрибутивы строятся вокруг ядра Линукс. Оно является прослойкой между пользовательским програмным обеспечением и физическим оборудованием персонального компьютера. Gentoo предоставляет несколько вариантов исходного кода ядра. Полный список с описанием можно посмотреть по адресу <a href="../../../Kernel/Overview/ru.html" title="Kernel/Overview/ru">Общие сведения о ядре</a>.
</p><p>Для систем, основанных на amd64 архитектуре, рекомендуется пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/gentoo-sources"> sys-kernel/gentoo-sources</a>.
</p><p>Выберем подходящее ядро и установим с помощью <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/gentoo-sources</code></div></div> 
<p>Данная команда установит исходники ядра в  <span style="font-family: monospace; font-size: 95%">/usr/src/</span>, в котором символьная ссылка <span style="font-family: monospace; font-size: 95%">linux</span> указывает на установленную версию:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls -l /usr/src/linux</code></div><pre>
lrwxrwxrwx    1 root   root    12 Oct 13 11:04 /usr/src/linux -&gt; linux-3.16.5-gentoo
</pre></div>
<p>Теперь следует собрать и установить ядро. Здесь существует два основных подхода:
</p>
<ol><li> Ядро настраивается и собирается вручную.</li>
<li> Утилита <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> собирает и устанавливает его автоматически.</li></ol>
<p>В данной инструкции мы расскажем, как провести настройку вручную, поскольку это лучший способ оптимизировать окружение.
</p>
<h2><span class="mw-headline" id=".D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D0.BD.D0.BE.D0.B9_.D0.B2.D0.B0.D1.80.D0.B8.D0.B0.D0.BD.D1.82:_.D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0">Основной вариант: Ручная настройка</span></h2>
<h3><span class="mw-headline" id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_4">Введение</span></h3>
<p>Согласно расхожему мнению, настройка ядра- наиболее сложная процедура, с которой сталкивается пользователь Линукса. Это сильное преувеличение и собрав пару-тройку ядер никто и не вспомнит, что это было сложно.
</p><p>Но один факт учитывать стоит. Для ручной настройки ядра необходимо иметь представление о том, из чего у вас собран компьютер. Большую часть можно узнать, установив <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-apps/pciutils">sys-apps/pciutils</a> и выполнив команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lspci</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-apps/pciutils</code></div></div> 
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если вы внутри chroot, то можете спокойно игнорировать предупреждения о pcilib (навроде <i>pcilib: cannot open /sys/bus/pci/devices</i>), которыми вас может засыпать <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lspci</span>.</div>
<p>Другой источник информации о системе можно получить, выполнив <span style="font-family: monospace; font-size: 95%; font-weight: bold;">lsmod</span> и посмотрев, какие модули ядра подгрузились на установочном носителе.
</p><p>Остаётся перейти в директорию с ядром и выполнить <span style="font-family: monospace; font-size: 95%; font-weight: bold;">make menuconfig</span>. Нас поприветствует экран конфигурации.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cd /usr/src/linux
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make menuconfig</code></div></div>
<p>У ядра Линукса много-много секций. Сначала пройдёмся по самым основным, без которых Gentoo будет работать неправильно или же вовсе не запустится. Для более глубокого ознакомления стоит посетить <a href="../../../Kernel/Gentoo_Kernel_Configuration_Guide/ru.html" title="Kernel/Gentoo Kernel Configuration Guide/ru">гайд по настройке ядра Gentoo</a>.
</p>
<h3><span class="mw-headline" id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B0.D0.B5.D0.BC_.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5_.D0.BE.D0.BF.D1.86.D0.B8.D0.B8">Включаем обязательные опции</span></h3>
<p>Убедитесь, что драйверы, необходимые для загрузки системы (например, контроллер SCSI) собраны прямо в ядре, а не как модуль. В противном случае, система может не загрузиться полностью.
</p><p>Следует выбрать тип процессора, а так же рекоммендуется включить опции MCE, чтобы получать информацию о проблемах с "железом". На некоторых архитектурах (например, x86_64) подобные ошибки выводятся не в dmesg, а <span style="font-family: monospace; font-size: 95%">/dev/mcelog</span>. Так что понадобится пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/mcelog">app-admin/mcelog</a>. 
</p><p>Активируйте опцию <i>Maintain a devtmpfs file system to mount at /dev</i>, тогда критичные для устройств файлы будут подгружаться как можно раньше.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">Ядро</span> <strong>Включаем поддержку devtmpfs</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  Generic Driver Options ---&gt;
    [*] Maintain a devtmpfs filesystem to mount at /dev
    [ ]   Automount devtmpfs at /dev, after the kernel mounted the rootfs
</pre>
</pre></div></pre>
<p>Дальше стоит включить поддержку используемых Вами файловых систем. Рутовая ФС должна быть включена в ядро, а не подгружена в качестве модуля, иначе Gentoo не сможет примонтировать данный раздел. Не забудьте также включить <i>Virtual memory</i> и <i>/proc file system</i>.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">Ядро</span> <strong>Выбираем необходимые файловые системы</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
File systems ---&gt;
(Select one or more of the following options as needed by your system)
  &lt;*&gt; Second extended fs support
  &lt;*&gt; Ext3 journalling file system support
  &lt;*&gt; The Extended 4 (ext4) filesystem
  &lt;*&gt; Reiserfs support
  &lt;*&gt; JFS filesystem support
  &lt;*&gt; XFS filesystem support
  ...
  Pseudo Filesystems ---&gt;
    [*] /proc file system support
    [*] Virtual memory file system support (former shm fs)
</pre>
</pre></div></pre>
<p>Если для подключения к сети интернет вы используете PPPoE или dial-up модем, то Вам понадобятся следующие параметры:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">Ядро</span> <strong>Выбираем необходимые драйвера для PPPoE</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  Network device support ---&gt;
    &lt;*&gt; PPP (point-to-point protocol) support
    &lt;*&gt;   PPP support for async serial ports
    &lt;*&gt;   PPP support for sync tty ports
</pre>
</pre></div></pre>
<p>Опции сжатия не повредят, но и не являются обязательными, как и PPP over Ethernet. Фактически, последний используется только когда ppp сконфигурирован на использование PPPoE режима ядра.
</p><p>Не забудьте настроить поддержку сетевых карт (кабельных и беспроводных).
</p><p>Поскольку большинство современных систем являются многоядерными, нам понадобится <i>Symmetric multi-processing support</i>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">Ядро</span> <strong>Включаем поддержку SMP</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
  [*] Symmetric multi-processing support
</pre>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Во многоядерных системах каждое ядро считается за один процессор.</div>
<p>Если вы используете USB устройства ввода (например клавиатуру и мышь), то и они должны быть отмечены:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">Ядро</span> <strong>Включаем поддержку USB устройств ввода</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Device Drivers ---&gt;
  [*] HID Devices  ---&gt;
    &lt;*&gt;   USB Human Interface Device (full HID) support
</pre>
</pre></div></pre>
<p><br />
</p>
<h3><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.8F.D0.B4.D1.80.D0.B0.2C_.D1.81.D0.BF.D0.B5.D1.86.D0.B8.D1.84.D0.B8.D1.87.D0.BD.D0.B0.D1.8F_.D0.B4.D0.BB.D1.8F_.D0.B0.D1.80.D1.85.D0.B8.D1.82.D0.B5.D0.BA.D1.82.D1.83.D1.80.D1.8B">Настройка ядра, специфичная для архитектуры</span></h3>
<p>Если необходимо поддерживать 32-битные программы, убедитесь, что вы выбрали пункт IA32 Emulation (multilib). Gentoo устанавливает систему multilib (смешанные 32/64 битные вычисления) по умолчанию, поэтому данная опция необходима, если, конечно вы не выбрали профиль <span style="font-family: monospace; font-size: 95%">no-multilib</span>.
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">Ядро</span> <strong>Выбор типа процессора и возможностей</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
   [ ] Machine Check / overheating reporting 
   [ ]   Intel MCE Features
   [ ]   AMD MCE Features
  Processor family (AMD-Opteron/Athlon64)  ---&gt;
    ( ) Opteron/Athlon64/Hammer/K8
    ( ) Intel P4 / older Netburst based Xeon
    ( ) Core 2/newer Xeon
    ( ) Intel Atom
    ( ) Generic-x86-64
Executable file formats / Emulations  ---&gt;
   [*] IA32 Emulation
</pre>
</pre></div></pre>
<p>Включите поддержку меток GPT, если вы их использовали ранее при разбиении диска:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">Ядро</span> <strong>Включение поддержки GPT</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
-*- Enable the block layer ---&gt;
    ...
    Partition Types ---&gt;
    [*] Advanced partition selection
      ...
      [*] EFI GUID Partition support
</pre>
</pre></div></pre>
<p>Включите поддержку EFI stub и EFI variables в ядре Linux, если для загрузки системы используется UEFI:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #4E9A06">Ядро</span> <strong>Включение поддержки UEFI</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
Processor type and features  ---&gt;
    [*] EFI runtime service support 
    [*]   EFI stub support
  
Firmware Drivers  ---&gt;
    &lt;*&gt; EFI Variable Support via sysfs
</pre>
</pre></div></pre>
<h3><span class="mw-headline" id=".D0.9A.D0.BE.D0.BC.D0.BF.D0.B8.D0.BB.D1.8F.D1.86.D0.B8.D1.8F_.D0.B8_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0">Компиляция и установка</span></h3>
<p>Когда настройка закончена, настало время скомпилировать и установить ядро. Выйдите из настройки и запустите процесс компиляции:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make &amp;&amp; make modules_install</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Возможно включить параллельную сборку, используя <code>make -jX</code>, где X это число параллельных задач, которые может запустить процесс сборки. Это похоже на инструкции, которые были даны ранее относительно файла <span style="font-family: monospace; font-size: 95%">/etc/portage/make.conf</span> в части переменной <code>MAKEOPTS</code>.</div>
<p>По завершении компиляции, скопируйте образ ядра в каталог <span style="font-family: monospace; font-size: 95%">/boot/</span>. Это делается командой <code>make install</code>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>make install</code></div></div>
<p>Данная команда скопирует образ ядра в каталог <span style="font-family: monospace; font-size: 95%">/boot/</span> вместе с файлом <span style="font-family: monospace; font-size: 95%">System.map</span> и файлом настройки ядра.
</p><p>На системах с UEFI создайте каталог <span style="font-family: monospace; font-size: 95%">/boot/efi/boot/</span> и затем скопируйте в него ядро, назвав его <span style="font-family: monospace; font-size: 95%">bootx64.efi</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>mkdir -p /boot/efi/boot
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cp /boot/vmlinuz-* /boot/efi/boot/bootx64.efi</code></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id=".D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A1.D0.BE.D0.B1.D0.B8.D1.80.D0.B0.D0.B5.D0.BC_initramfs">Опционально: Собираем initramfs</span></h3>
<p>В некоторых случаях необходимо включить поддержку initramfs - an initial ram-based file system (файловая система, основанная на оперативной памяти). Наиболее распространённая причина это нахождение различных системных путей (вроде <span style="font-family: monospace; font-size: 95%">/usr/</span> или <span style="font-family: monospace; font-size: 95%">/var/</span>) на различных разделах. При наличии initramfs эти разделы могут быть подгружены средствами initramfs.
</p><p>Без initramfs существует вероятность неправильной загрузки, так как для запуска некоторых ФС может потребоваться информация на этих самых разделах. Initramfs подгружает всю информацию в небольшой архив, который читается сразу после загрузки ядра, но до передачи управления службам инициализации. Таким образом набор скриптов initramfs  проследит, чтобы все разделы были примонтированы верно перед продолжением процесса загрузки.
</p><p>Для установки initramfs, сперва нужен <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/genkernel">sys-kernel/genkernel</a>, который его сгенерирует:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge genkernel</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel --install initramfs</code></div></div>
<p>Если необходима поддержка lvm или raid, то следует указать это в конфиге <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span>. Для более подробной инструкции выполните <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel --help</span>. В данном руководстве мы включим поддержку LVM и програмного raid (mdadm):
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel --lvm --mdadm --install initramfs</code></div></div>
<p>Initramfs будет расположен в <span style="font-family: monospace; font-size: 95%">/boot/</span>. Можно посмотреть файлы, начинающиеся с "initramfs":
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /boot/initramfs*</code></div></div>
<p>Продолжим с <a href="#.D0.9C.D0.BE.D0.B4.D1.83.D0.BB.D0.B8_.D1.8F.D0.B4.D1.80.D0.B0">Модули ядра</a>.
</p>
<h2><span class="mw-headline" id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.BD.D0.BE:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_genkernel">Альтернативно: Используя genkernel</span></h2>
<p>Если ручная установка кажется Вам слишком сложной, то следует воспользоваться утилитой <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span>, которая настроит и соберет ядро автоматически.
</p><p><span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> конфигурирует ядро примерно так же, как в установочном носителе. Таким образом, ядро, сконфигурированное <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> постарается определить оборудование в процессе загрузки. Поскольку данный процесс не требует вмешательства пользователя, он рекомендован для тех, кто не готов собирать собственное ядро.
</p><p>Приступим. Сперва, нужно установить <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/genkernel">sys-kernel/genkernel</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/genkernel</code></div></div> 
<p>Затем следует правка <span style="font-family: monospace; font-size: 95%">/etc/fstab</span>, где следует указать в строке <span style="font-family: monospace; font-size: 95%">/boot/</span> правильное устройство во втором поле. Если Вы следовали примеру из данной инструкции, то, скорее всего, у Вас /dev/sda2 с файловой системой ext2 и строка должна выгляжеть следующим образом:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/fstab</code></div></div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/fstab</code></strong><strong>Настраиваем точку монтирования /boot</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
/dev/sda2	/boot	ext2	defaults	0 2
</pre>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />В процессе настройки Gentoo <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> еще будет изменен. Наданный момент мы правим лишь <span style="font-family: monospace; font-size: 95%">/boot</span>, чтобы его мог применить <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span>.</div>
<p>Осталось скомпиллировать ядро, выполнив <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel all</span>. Учтите, что поскольку <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> включает поддержку как можно большего диапазона оборудования, процесс сборки может занять некоторое время.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если для загрузочного раздела не используется ext2 или ext3, то <i>возможно</i> придётся вручную настроить ядро, выполнив <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel --menuconfig all</span> и добавив поддержку нужной ФС (не как модуля). Пользователям LVM2 следует также добавить <code>--lvm</code> в качестве аргумента.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>genkernel all</code></div></div>
<p>По завершению мы получим полный набор модулей и initramfs. Ядро и initrd нам ещё понадобятся при настройке загрузчика. Запишите название файлов ядра и initrd, так как они нам ещё понадобятся. Initrd запускается сразу после ядра для определения оборудования, перед запуском самой системы.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ls /boot/kernel* /boot/initramfs*</code></div></div>
<h2><span class="mw-headline" id=".D0.9C.D0.BE.D0.B4.D1.83.D0.BB.D0.B8_.D1.8F.D0.B4.D1.80.D0.B0">Модули ядра</span></h2>
<h3><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B5.D0.B9">Настройка модулей</span></h3>
<p>Укажите модули, которые должны подгружаться автоматически в <span style="font-family: monospace; font-size: 95%">/etc/conf.d/modules</span>. При необходимости можно добавить модулям дополнительные опции.
</p><p>Чтобы посмотреть доступные модули, выполните команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">find</span>, не забыв заменить "&lt;kernel version&gt;" на собранную в предыдущем шаге версию:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>find /lib/modules/&lt;kernel version&gt;/ -type f -iname '*.o' -or -iname '*.ko' | less</code></div></div>
<p>Например, чтобы автоматически подгрузить модуль <span style="font-family: monospace; font-size: 95%">3c59x.ko</span> (драйвер для определённой семьи интернет-карт от 3Com), добавте его в <span style="font-family: monospace; font-size: 95%">/etc/conf.d/modules</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/modules</code></div><pre>
modules=&quot;3c59x&quot;
</pre></div>
<p>Продолжим установку с <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>.
</p>
<h3><span class="mw-headline" id=".D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.BF.D1.80.D0.BE.D1.88.D0.B8.D0.B2.D0.BA.D0.B8">Опционально: Установка файлов прошивки</span></h3>
<p>Для корректной работы некоторых драйверов требуется установка дополнительных файлов прошивки. Часто подобное требуется для сетевых интерфейсов, особенно беспроводных. Большинство файлов прошивки поставляется в <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-kernel/linux-firmware">sys-kernel/linux-firmware</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-kernel/linux-firmware</code></div></div> 
<p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Base/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Установка базовой системы Gentoo</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/System/ru.html" title="Следующая часть" class="btn btn-default">Настройка системы &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.98.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F_.D0.BE_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B5">Информация о файловой системе</span></h2>
<h3><span class="mw-headline" id=".D0.9E_.D1.84.D0.B0.D0.B9.D0.BB.D0.B5_fstab">О файле fstab</span></h3>
<p>В Линукс все разделы используемые системой должны быть записаны в файле <span style="font-family: monospace; font-size: 95%">/etc/fstab</span>. Этот файл содержит информацию о точках монтирования разделов (где они должны быть видны в структуре файловой системы), как они должны быть подключены, а также специальные параметры (автоматическое подключение или нет, может пользователь подключить или нет и т.д.).
</p>
<h3><span class="mw-headline" id=".D0.A0.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0_fstab">Редактирование файла fstab</span></h3>
<p>Файл <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> сделан в виде таблицы. Каждая строка состоит из шести полей, разделенными пропусками (пробел(ы), отступы или смесь этого). Каждое поле имеет свое значение:
</p>
<ol><li> В первом поле указывают раздел диска (путь до файла устройства).</li>
<li> Во втором поле указывают точку монтирования, в которую раздел должен быть подключен.</li>
<li> В третье поле указывают файловая система раздела.</li>
<li> В четвертом поле указывают параметры подключения, которые используются вместе с <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mount</span>, когда хотят смонтировать этот раздел. Каждая файловая система имеет свои параметры монтирования. Для получения полного списка пользователям рекомендуется прочитать справочную страницу монтирования (<span style="font-family: monospace; font-size: 95%; font-weight: bold;">man mount</span>). Несколько вариантов монтирования разделяются запятой.</li>
<li> Пятое поле используется программой <span style="font-family: monospace; font-size: 95%; font-weight: bold;">dump</span>, чтобы определить нужно ли делать дамп этого раздела. Это обычно пропускается и устанавливается в 0 (ноль).</li>
<li> Шестое поле используется программой <span style="font-family: monospace; font-size: 95%; font-weight: bold;">fsck</span>, чтобы определить порядок в котором файловые системы должны быть проверены если система не была отключена должным образом. Для корневой файловой системы обычно ставится значение 1, а для остальных 2 (или 0, тогда проверка файловой системы не будет производится).</li></ol>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Важно</strong><br />Файл <span style="font-family: monospace; font-size: 95%">/etc/fstab</span>, который предоставляется Gentoo по умолчанию, не является рабочим файлом, а больше приводится как шаблон.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/fstab</code></div></div>
<p>In the remainder of the text, we use the default <span style="font-family: monospace; font-size: 95%">/dev/sd*</span> block device files as partition. Users can also opt to use the symbolic links in the <span style="font-family: monospace; font-size: 95%">/dev/disk/by-id/</span> or <span style="font-family: monospace; font-size: 95%">/dev/disk/by-uuid/</span> locations. These names are not likely to change, whereas the default block device files naming depends on a number of factors (such as how and in what order the disks are attached to the system). However, unless someone intends to fiddle with the disk ordering, one can continue with the default block device files safely.
</p><p>Let us take a look at how to write down the options for the <span style="font-family: monospace; font-size: 95%">/boot/</span> partition. This is just an example, and should be modified according to the partitioning decisions made earlier in the installation.
In our amd64 partitioning example, <span style="font-family: monospace; font-size: 95%">/boot/</span> is usually the <span style="font-family: monospace; font-size: 95%">/dev/sda2</span> partition, with ext2 as filesystem. It needs to be checked during boot, so we would write down:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/fstab</code></strong><strong>An example /boot line for /etc/fstab</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
/dev/sda2   /boot     ext2    defaults        0 2
</pre>
</pre></div></pre>
<p>Some users don't want their <span style="font-family: monospace; font-size: 95%">/boot/</span> partition to be mounted automatically to improve their system's security. Those people should substitute <i>defaults</i> with <i>noauto</i>. This does mean that those users will need to manually mount this partition every time they want to use it.
</p><p>Add the rules that match the previously decided partitioning scheme and append rules for devices such as CD-ROM drive(s), and of course, if other partitions or drives are used, for those too.
</p><p>Below is a more elaborate example of an <span style="font-family: monospace; font-size: 95%">/etc/fstab</span> file:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/fstab</code></strong><strong>A full /etc/fstab example</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
/dev/sda2   /boot        ext2    defaults,noatime     0 2
/dev/sda3   none         swap    sw                   0 0
/dev/sda4   /            ext4    noatime              0 1
  
/dev/cdrom  /mnt/cdrom   auto    noauto,user          0 0
</pre>
</pre></div></pre>
<p>When <code>auto</code> is used in the third field, it makes the <span style="font-family: monospace; font-size: 95%; font-weight: bold;">mount</span> command guess what the filesystem would be. This is recommended for removable media as they can be created with one of many filesystems. The <code>user</code> option in the fourth field makes it possible for non-root users to mount the CD.
</p><p>To improve performance, most users would want to add the <code>noatime</code> mount option, which results in a faster system since access times aren't registered (those are not needed generally anyway). This is also recommended for solid state drive (SSD) users, who should also enable the <code>discard</code> mount option (ext4 and btrfs only for now) which makes the <code>TRIM</code> command work.
</p><p>Дважды проверьте файл <span style="font-family: monospace; font-size: 95%">/etc/fstab</span>, сохраните и выйдете, чтобы продолжить дальше.
</p>
<h2><span class="mw-headline" id=".D0.98.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F_.D0.BE_.D1.81.D0.B5.D1.82.D0.B8">Информация о сети</span></h2>
<h3><span class="mw-headline" id=".D0.98.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F_.D0.BE_.D1.85.D0.BE.D1.81.D1.82.D0.B5_.D0.B8_.D0.B4.D0.BE.D0.BC.D0.B5.D0.BD.D0.B5">Информация о хосте и домене</span></h3>
<p>Первое решение, которое предстоит принять пользователю, это как назвать его/ее ПК.  Это, кажется, довольно легким решением, но многие пользователи испытывают трудности с поиском подходящего имени для своего Linux ПК. Если это затруднительно, выберите любое имя - его можно будет сменить позже. Например, в приведенном ниже примере, используется имя хоста <i>tux</i> с доменом <i>homenetwork</i>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/hostname</code></div><pre>
# Set the hostname variable to the selected host name
hostname=&quot;tux&quot;
</pre></div>
<p>Второе, если требуется доменное имя, то настройте его в файле <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span>. Это необходимо если интернет провайдер или сетевой администратор требует этого или в сети есть DNS сервер, но нет DHCP сервера. Не беспокойтесь о DNS или доменом имени если используется DHCP для динамического распределения IP адресов и конфигурации сети.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />По умолчанию файла <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span> не существует, поэтому его нужно создать.</div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/net</code></div><pre>
# Set the dns_domain_lo variable to the selected domain name
dns_domain_lo=&quot;homenetwork&quot;
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если доменное имя не настроено, то пользователь может получить "This is hostname.(none)" сообщение на экране входа. Это можно исправить редактируя <span style="font-family: monospace; font-size: 95%">/etc/issue</span> и удалив <code>.\O</code> из этого файла.</div>
<p>Если требуется NIS домен, (пользователям, которые не знаю что это такое, он не понадобится) то настройте его тоже:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/net</code></div><pre>
# Настройка переменной nis_domain_lo на нужное NIS доменное имя 
nis_domain_lo=&quot;my-nisdomain&quot;
</pre></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />За более подробной информацией о конфигурации DNS и NIS, пожалуйста, обратитесь к примерам, доступные в <span style="font-family: monospace; font-size: 95%">/usr/share/doc/netifrc-*/net.example.bz2</span>, которые можно прочесть используя <span style="font-family: monospace; font-size: 95%; font-weight: bold;">bzless</span>. Также, возможно будет интересно установить <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-dns/openresolv">net-dns/openresolv</a>, который поможет с настройками DNS/NIS.</div>
<h3><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B8">Настройка сети</span></h3>
<p>Во время установки Gentoo Linux сеть была уже настроена. Но она была настроена для установочного CD, а не для установленной среды. Сейчас настроим сеть для установленной системы Gentoo Linux.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />More detailed information about networking, including advanced topics like bonding, bridging, 802.1Q VLANs or wireless networking is covered in the Gentoo Network Configuration section.</div>
<p>All networking information is gathered in <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span>. It uses a straightforward yet perhaps not intuitive syntax. But don't fear, everything is explained below. A fully commented example that covers many different configurations is available in <span style="font-family: monospace; font-size: 95%">/usr/share/doc/netifrc-*/net.example.bz2</span>.
</p><p>Сначала, установите <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-misc/netifrc">net-misc/netifrc</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask&#160;--noreplace net-misc/netifrc</code></div></div> 
<p>DHCP is used by default. For DHCP to work, a DHCP client needs to be installed. This is described later in Installing Necessary System Tools.
</p><p>If the network connection needs to be configured because of specific DHCP options or because DHCP is not used at all, then open <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/net</code></div></div>
<p>Set both <var>config_eth0</var> and <var>routes_eth0</var> to enter IP address information and routing information:
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />This assumes that the network interface will be called eth0. This is, however, very system dependent. It is recommended to assume that the interface is named the same as the interface name when booted from the installation media if the installation media is sufficiently recent. More information can be found in Network Interface Naming.</div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/net</code></strong><strong>Настройка статического IP адреса</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">config_eth0</span><span class="o">=</span><span class="s2">&quot;192.168.0.2 netmask 255.255.255.0 brd 192.168.0.255&quot;</span>
<span class="nv">routes_eth0</span><span class="o">=</span><span class="s2">&quot;default via 192.168.0.1&quot;</span>
</pre></div></pre>
<p>Для использования DHCP настройте <var>config_eth0</var>:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/conf.d/net</code></strong><strong>Настройка для работы DHCP</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nv">config_eth0</span><span class="o">=</span><span class="s2">&quot;dhcp&quot;</span>
</pre></div></pre>
<p>Для получения полного списка доступных опций пожалуйста прочтите <span style="font-family: monospace; font-size: 95%">/usr/share/doc/netifrc-*/net.example.bz2</span>. Не забудьте также прочитать man страницы для DHCP клиента, если требуется сделать определенные настройки.
</p><p>Если в системе имеются несколько сетевых интерфейсов, то повторите предыдущие шаги для <var>config_eth1</var>, <var>config_eth2</var>, и т.д.
</p><p>Теперь сохраните настройки и выйдите, чтобы продолжить далее.
</p>
<h3><span class="mw-headline" id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B">Автоматический запуск сетевого подключения при загрузке системы</span></h3>
<p>Для того, чтобы сетевые интерфейсы начинали работать во время загрузки системы их нужно добавить к уровню запуска по умолчанию.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>cd /etc/init.d
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>ln -s net.lo net.eth0
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add net.eth0 default</code></div></div>
<p>Если в системе есть несколько сетевых интерфейсов, то соответствующие файлы <span style="font-family: monospace; font-size: 95%">net.*</span> должны быть созданы также, как мы делали это для <span style="font-family: monospace; font-size: 95%">net.eth0</span>.
</p><p>If after booting the system we find out that the assumption about the network interface name (which is currently documented as <code>eth0</code>) was wrong, then execute the following steps to rectify this:
</p>
<ol><li> Update the <span style="font-family: monospace; font-size: 95%">/etc/conf.d/net</span> file with the correct interface name (like <code>enp3s0</code> instead of <code>eth0</code>).</li>
<li> Create new symbolic link (like <span style="font-family: monospace; font-size: 95%">/etc/init.d/net.enp3s0</span>).</li>
<li> Remove the old symbolic link (<span style="font-family: monospace; font-size: 95%; font-weight: bold;">rm /etc/init.d/net.eth0</span>).</li>
<li> Add the new one to the default runlevel.</li>
<li> Remove the old one using <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update del net.eth0 default</span>.</li></ol>
<h3><span class="mw-headline" id=".D0.A4.D0.B0.D0.B9.D0.BB_hosts">Файл hosts</span></h3>
<p>Next inform Linux about the network environment. This is defined in <span style="font-family: monospace; font-size: 95%">/etc/hosts</span> and helps in resolving host names to IP addresses for hosts that aren't resolved by the nameserver. 
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/hosts</code></div></div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/hosts</code></strong><strong>Filling in the networking information</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre># This defines the current system and must be set
127.0.0.1     tux.homenetwork tux localhost
  
# Optional definition of extra systems on the network
192.168.0.5   jenny.homenetwork jenny
192.168.0.6   benny.homenetwork benny
</pre></div></pre>
<p>Сохраните и закройте текстовый редактор для продолжения.
</p>
<h3><span class="mw-headline" id=".D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.BF.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B0_PCMCIA_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2">Опционально: поддержка PCMCIA устройств</span></h3>
<p>Владельцам PCMCIA теперь следует установить пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-apps/pcmciautils">sys-apps/pcmciautils</a>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-apps/pcmciautils</code></div></div> 
<h2><span class="mw-headline" id=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D0.B0.D1.8F_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F">Системная информация</span></h2>
<h3><span class="mw-headline" id="Root_.D0.BF.D0.B0.D1.80.D0.BE.D0.BB.D1.8C">Root пароль</span></h3>
<p>Изменить пароль root можно с помощью команды <span style="font-family: monospace; font-size: 95%; font-weight: bold;">passwd</span>. 
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>passwd</code></div></div>
<p>Linux учетная запись root является всемогущей учетной записью, так что выбирайте надежный пароль. Позже, можно создать дополнительную учетная запись обычного пользователя для повседневных операций.
</p>
<h3><span class="mw-headline" id="Init_and_boot_configuration">Init and boot configuration</span></h3>
<p>Gentoo (at least when using OpenRC) uses <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span> to configure the services, startup, and shutdown of a system. Open up <span style="font-family: monospace; font-size: 95%">/etc/rc.conf</span> and enjoy all the comments in the file. Review the settings and change where needed.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/rc.conf</code></div></div>
<p>Next, open <span style="font-family: monospace; font-size: 95%">/etc/conf.d/keymaps</span> to handle keyboard configuration. Edit it to configure and select the right keyboard.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/keymaps</code></div></div>
<p>Take special care with the <var>keymap</var> variable. If the wrong keymap is selected, then weird results will come up when typing on the keyboard.
</p><p>Finally, edit <span style="font-family: monospace; font-size: 95%">/etc/conf.d/hwclock</span> to set the clock options. Edit it according to personal preference.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/conf.d/hwclock</code></div></div>
<p>If the hardware clock is not using UTC, then it is necessary to set <code>clock="local"</code> in the file. Otherwise the system might show clock skew behavior.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Kernel/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Настройка ядра Linux</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Tools/ru.html" title="Следующая часть" class="btn btn-default">Установка системных средств &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B9_.D0.B6.D1.83.D1.80.D0.BD.D0.B0.D0.BB">Системный журнал</span></h2>
<p>Некоторые утилиты не были включены в stage3, так как некоторые пакеты обеспечивают схожую функциональность. Теперь пользователь должен установить те, которые ему требуются.
</p><p>Сперва, нужно установить то, что обеспечит возможность журналирования системы. В Unix и Linux много уделяется внимания поддержки журналирования - при необходимости, все, что происходит в системе, может быть записано в лог файлы. И делается это с помощью системного журнала.
</p><p>Gentoo предоставляет несколько утилит системного журнала. Некоторые из них перечислены здесь:
</p>
<ul><li> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/sysklogd">app-admin/sysklogd</a> - Предоставляет традиционный набор возможностей.</li>
<li> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/syslog-ng">app-admin/syslog-ng</a> - Расширенные возможности ведения системного журнала. Требуются дополнительные настройки.</li>
<li> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/metalog">app-admin/metalog</a> - Позволяет очень тонко настроить ведение системного журнала.</li></ul>
<p>Другие пакеты также доступны в Portage - количество доступных пакетов растет каждый день.
</p><p>Если планируется использовать sysklogd или syslog-ng, рекомендуется установить пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/logrotate">app-admin/logrotate</a>, так как в этих пакетах нет механизма ротации системных журналов.
</p><p>Для инсталляции выбранной программы системного журнала, установите ее с помощью команды emerge и добавьте в уровень запуска по умолчанию с помощью <span style="font-family: monospace; font-size: 95%; font-weight: bold;">rc-update</span>. Следующий пример покажет как это сделать для  <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/app-admin/syslog-ng">app-admin/syslog-ng</a>
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask app-admin/syslog-ng</code></div></div> 
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add syslog-ng default</code></div></div>
<h2><span class="mw-headline" id=".D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_Cron_.D0.B4.D0.B5.D0.BC.D0.BE.D0.BD">Опционально: Cron демон</span></h2>
<p>Далее идет cron демон. Хотя он является дополнительной и не обязательной программой для каждой системы, все таки, в его инсталляции есть смысл.
</p><p>Cron демон выполняет команды по расписанию. Это очень удобно, если некоторые команды требуется выполнять регулярно (например, ежедневно, еженедельно или ежемесячно).
</p><p>Gentoo предоставляет на выбор несколько cron демонов включая <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/bcron">sys-process/bcron</a>, <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/dcron">sys-process/dcron</a>, <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/fcron">sys-process/fcron</a> и <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/cronie">sys-process/cronie</a>. Инсталляция любого из них подобна инсталляции системного журнала. Следующий пример покажет как это сделать для <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-process/cronie">sys-process/cronie</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-process/cronie</code></div></div> 
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add cronie default</code></div></div>
<p>Если планируется использовать dcron или fcron, то после их инсталляции нужно выполнить следующую команду для инициализации:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>crontab /etc/crontab</code></div></div>
<h2><span class="mw-headline" id=".D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.98.D0.BD.D0.B4.D0.B5.D0.BA.D1.81.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2">Опционально: Индексирование файлов</span></h2>
<p>Для того чтобы иметь возможность индексировать файловою систему, которая обеспечит более быстрый доступ к файлам, установите <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-apps/mlocate">sys-apps/mlocate</a>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-apps/mlocate</code></div></div> 
<h2><span class="mw-headline" id="O.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF">Oпционально: Удаленный доступ</span></h2>
<p>Для того чтобы обеспечить удаленный доступ к системе после инсталляции добавьте init скрипт <span style="font-family: monospace; font-size: 95%">sshd</span> в уровень запуска по умолчанию:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rc-update add sshd default</code></div></div>
<p>Если требуется доступ через последовательную консоль (что возможно в случае удаленных серверов), разкомментируейте секцию serial console в файле <span style="font-family: monospace; font-size: 95%">/etc/inittab</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/inittab</code></div><pre>
# SERIAL CONSOLES
s0:12345:respawn:/sbin/agetty 9600 ttyS0 vt100
s1:12345:respawn:/sbin/agetty 9600 ttyS1 vt100
</pre></div>
<h2><span class="mw-headline" id=".D0.A3.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B_.D0.B4.D0.BB.D1.8F_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC">Утилиты для файловых систем</span></h2>
<p>В зависимости от используемых файловых систем, необходимо установить необходимые утилиты для обслуживания их (для проверки целостности файловых систем, создания дополнительных файловых систем, и т.п.). Пожалуйста, обратите внимание, что инструмент для управления файловыми системами ext2, ext3 и ext4 (e2fsprogs) уже установлен как часть системы.
</p><p>В следующей таблице перечислены утилиты, которые требуется установить, если используется определенная файловая система:
</p>
<table class="table table-condensed table-striped" style="text-align: left;">

<tr>
<th scope="col" width="20%"> Filesystem
</th>
<th> Package
</th></tr>
<tr>
<td> XFS
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/xfsprogs">sys-fs/xfsprogs</a>
</td></tr>
<tr>
<td> ReiserFS
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/reiserfsprogs">sys-fs/reiserfsprogs</a>
</td></tr>
<tr>
<td> JFS
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/jfsutils">sys-fs/jfsutils</a>
</td></tr>
<tr>
<td> VFAT (FAT32, ...)
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/dosfstools">sys-fs/dosfstools</a>
</td></tr>
<tr>
<td> Btrfs
</td>
<td> <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-fs/btrfs-progs">sys-fs/btrfs-progs</a>
</td></tr></table>
<h2><span class="mw-headline" id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.B5_.D1.83.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B">Сетевые утилиты</span></h2>
<p>Если нет необходимости в каких-либо сетевых утилитах можно продолжить чтение в статье <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>.
</p>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_DHCP_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D0.B0">Установка DHCP клиента</span></h3>
<div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Важно</strong><br />Хотя этот раздел необязательный, большинство пользователей найдут его полезным, так как для настройки соединения в их сети, возможно, используется DHCP сервер. Пожалуйста, воспользоваться этой возможностью, чтобы установить DHCP клиент. Если этот шаг был пропущен, то система не сможет настроить подключение к сети, что сделает невозможным загрузить DHCP клиент позже.</div>
<p>Для того чтобы система автоматически получила IP адрес для одного или более сетевого интерфейса, когда запускается netifrc скрипт, необходимо установить клиент DHCP. Мы рекомендуем использовать <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-misc/dhcpcd">net-misc/dhcpcd</a> хотя и много других DHCP клиентов доступны в Portage дереве:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask net-misc/dhcpcd</code></div></div> 
<p>Больше информации о <span style="font-family: monospace; font-size: 95%; font-weight: bold;">dhcpcd</span> можно найти в <a href="../../../Dhcpcd.html" title="Dhcpcd">dhcpcd статье</a>.
</p>
<h3><span class="mw-headline" id="O.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE:_.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_PPPoE_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D0.B0">Oпционально: Установка PPPoE клиента</span></h3>
<p>Если PPP нужен для подключения к интернет установите пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/net-dialup/ppp">net-dialup/ppp</a>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask net-dialup/ppp</code></div></div> 
<p>Далее продолжим в <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/System/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Настройка системы</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Bootloader/ru.html" title="Следующая часть" class="btn btn-default">Настройка начального загрузчика &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p><p><br />
</p>
<h2><span class="mw-headline" id=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA.D0.B0">Выбор загрузчика</span></h2>
<p>Когда ядро Linux настроено, системные утилиты установлены и конфигурационные файлы отредактированы, настало время для установки последней важной части Linux системы: загрузчика.
</p><p>Загрузчик отвечает за загрузку ядра Linux во время загрузки - без него система не будет знать, как действовать, если нажата кнопка питания.
</p><p>Для <b><span style="font-family: monospace; font-size: 95%; color: #54487a">amd64</span></b>, мы написали как настроить либо <a href="#.D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_GRUB2">GRUB2</a>, либо <a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_LILO">LILO</a> для систем на базе BIOS, и <a href="#.D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_GRUB2">GRUB2</a> или <a href="#.D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_efibootmgr">efibootmgr</a> для UEFI систем.
</p>
<h2><span class="mw-headline" id=".D0.9F.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_GRUB2">По умолчанию: Использование GRUB2</span></h2>
<p>Ранее, Gentoo Linux использовал то, что теперь называется <i>GRUB Legacy</i> (наследство) в качестве рекомендуемого загрузчика. Но, как следует из названия, старый пакет GRUB больше не поддерживается и его быстро сменили на GRUB2. Для получения более подробной информации о GRUB Legacy, пожалуйста, обратитесь к статье <a href="../../../GRUB.html" title="GRUB">GRUB</a> на Gentoo Wiki.
</p>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_GRUB2">Установка GRUB2</span></h3>
<p>GRUB2 можно получить установив пакет <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-boot/grub">sys-boot/grub</a>.
</p>
<ul><li>Когда используется BIOS:</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-boot/grub</code></div></div> </dd></dl>
<ul><li> Когда используется UEFI, UEFI пользователям сперва нужно добавить <code>GRUB_PLATFORMS="efi-64"</code> в <span style="font-family: monospace; font-size: 95%">make.conf</span> <i>до</i> компиляции GRUB2, что позволит собрать пакет с поддержкой EFI.</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>echo GRUB_PLATFORMS="efi-64" &gt;&gt; /etc/portage/make.conf</code></div></div></dd></dl>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-boot/grub</code></div></div> </dd></dl>
<dl><dd> If GRUB2 was somehow emerged without first adding <code>GRUB_PLATFORMS="efi-64"</code> to <span style="font-family: monospace; font-size: 95%">make.conf</span> the line (as shown above) can be added then and dependencies for the <a href="../../../World_set_(Portage).html" title="World set (Portage)">world package set</a> re-calculated by passing the <code>--newuse --deep</code> options to <span style="font-family: monospace; font-size: 95%; font-weight: bold;">emerge</span>:</dd></dl>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask&#160;--newuse --deep @world</code></div></div> </dd></dl>
<p>GRUB2 теперь установлен в системе, но еще не активен.
</p>
<h3><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_GRUB2">Настройка GRUB2</span></h3>
<p>Далее установим необходимые для Grub2 файлы в каталог <span style="font-family: monospace; font-size: 95%">/boot/grub/</span> с помощью команды <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grub2-install</span>. Если предположить, что первый диском (тот, с которого система загружается) является <span style="font-family: monospace; font-size: 95%">/dev/sda</span>, то одна из следующих команд сделает это:
</p>
<ul><li>Когда используется BIOS:</li></ul>
<dl><dd><div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>grub2-install /dev/sda</code></div></div></dd></dl>
<ul><li>Когда используется UEFI:</li></ul>
<dl><dd> <div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>grub2-install --target=x86_64-efi --efi-directory=/boot</code></div></div></dd></dl>
<dl><dd> <div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Измените параметр efi-directory на корневой каталог vfat системного раздела EFI. Это необходимо если раздел <span style="font-family: monospace; font-size: 95%">/boot</span> не был отформатирован как vfat.</div></dd></dl>
<dl><dd> <div class="alert alert-warning gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-exclamation-circle"></i> Важно</strong><br />Убедитесь, что системный раздел EFI был смонтирован <i>перед</i> запуском <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grub2-install</span>. <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grub2-install</span> может установить GRUB файл EFI (<span style="font-family: monospace; font-size: 95%">grubx64.efi</span>) в неправильном каталоге <i>без</i> сообщения, о том, что используется неправильный каталог.</div></dd></dl>
<p>Далее, нужно сгенерировать конфигурационный файл Grub2 на основе настроек пользователя, указанных в файле <span style="font-family: monospace; font-size: 95%">/etc/default/grub</span> и <span style="font-family: monospace; font-size: 95%">/etc/grub.d</span> скриптах. В большинстве случаев, ничего не нужно настраивать пользователям, так как GRUB2 автоматически определяет, какое ядро есть для загрузки (самый высокий приоритет у <span style="font-family: monospace; font-size: 95%">/boot/</span>) и какая файловая система у rootfs.
</p><p>Для создания окончательной конфигурации GRUB2, запустите команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">grub2-mkconfig</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>grub2-mkconfig -o /boot/grub/grub.cfg</code></div><pre>
Generating grub.cfg ...
Found linux image: /boot/vmlinuz-3.16.5-gentoo
Found initrd image: /boot/initramfs-genkernel-amd64-3.16.5-gentoo
done
</pre></div>
<p>Следует отметить, что в выводе команды должен быть, по крайней мере, хотя бы один образ Linux, который необходим для загрузки системы. Если используется initramfs или ядро создавалось с помощью <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span>, правильный образ initrd, так же должен быть. Если это не так, перейдите в <span style="font-family: monospace; font-size: 95%">/boot/</span> и проверьте содержимое, используя команду <span style="font-family: monospace; font-size: 95%; font-weight: bold;">ls</span>. Если файлы действительно отсутствуют, вернитесь к инструкции по настройке и установке ядра.
</p>
<h2><span class="mw-headline" id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.BD.D1.8B.D0.B9_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4:_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_LILO">Альтернативный метод: использование LILO</span></h2>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_LILO">Установка LILO</span></h3>
<p>LILO, или LInuxLOader, это проверенная временем рабочая лошадка среди загрузчиков Linux. Тем не менее, ему не хватает некоторых функций, которые есть у GRUB. Причина, почему LILO еще используется в том, что на некоторых системах GRUB не работает. Конечно, он также используется, потому что некоторые люди знают LILO и хотят его придерживаться. В любом случае, Gentoo поддерживает оба.
</p><p>Установить LILO можно очень быстро; просто используйте emerge.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-boot/lilo</code></div></div> 
<h3><span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_LILO">Настройка LILO</span></h3>
<p>Для настройки LILO сперва создайте <span style="font-family: monospace; font-size: 95%">/etc/lilo.conf</span>:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>nano -w /etc/lilo.conf</code></div></div>
<p>В конфигурационном файле, секции используются для обозначения загрузочного ядра. Убедитесь, что известен путь до файла ядра (с версией ядра) и путь до initramfs файлов, так как они должны быть переданы в этом конфигурационном файле.
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если корневай фаловая система JFS, добавьте строку <code>append="ro"</code> после каждого варианта загрузки, поскольку JFS необходимо пересматривать журнал перед монтированием  на чтение-запись.</div>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/lilo.conf</code></strong><strong>Пример конфигурации LILO</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
boot=/dev/sda             # Установка LILO в MBR
prompt                    # Дать пользователю возможность выбрать другой вариант
timeout=50                # Ждать 5 (пять) секунд перед загрузкой варианта по умолчанию
default=gentoo            # После тайм аута загружать вариант &quot;gentoo&quot;  
image=/boot/vmlinuz-3.16.5-gentoo
  label=gentoo            # Имя этого варианта
  read-only               # При старте корень только для чтения. Не менять!
  root=/dev/sda4          # Положения корня в файловой системе
  
image=/boot/vmlinuz-3.16.5-gentoo
  label=gentoo.rescue     # Имя этого варианта
  read-only               # При старте корень только для чтения. Не менять!
  root=/dev/sda4          # Положения корня в файловой системе
  append=&quot;init=/bin/bb&quot;   # Запуск встроенной оболочки восстановления Gentoo
  
# Следующие две строки нужны для двойная загрузка с системой Windows.
# В этом примере, Windows находится на /dev/sda6.
other=/dev/sda6
  label=windows
</pre>
</pre></div></pre>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />Если схема разделов другая и/или используемый образ ядра, то внесите соответствующие корректировки.</div>
<p>Если необходим initramfs, то измените конфигурацию сославшись на файл initramfs и сообщите initramfs где находится корневое устройство:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/lilo.conf</code></strong><strong>Добавление информации о initramfs в загрузочную запись</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
image=/boot/vmlinuz-3.16.5-gentoo
  label=gentoo
  read-only
  append=&quot;root=/dev/sda4&quot;
  initrd=/boot/initramfs-genkernel-amd64-3.16.5-gentoo
</pre>
</pre></div></pre>
<p>Если необходимо передать ядру дополнительные параметры используйте оператор <code>append</code>. Например, добавьте оператор <code>video</code>, чтобы разрешить фреймбуфер:
</p>
<div class="box-caption"><span class="label" style="margin-right: .5em; background-color: #54487A">Файл</span> <strong><code style="border: none; background: none; color: #54487A; margin-right: .5em;">/etc/lilo.conf</code></strong><strong>Добавление параметра video к загрузочным опциям</strong></div><pre class="captioned"><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><pre>
image=/boot/vmlinuz-3.16.5-gentoo
  label=gentoo
  read-only
  root=/dev/sda4
  append=&quot;video=uvesafb:mtrr,ywrap,1024x768-32@85&quot;
</pre>
</pre></div></pre>
<p>Пользователи, использующие <span style="font-family: monospace; font-size: 95%; font-weight: bold;">genkernel</span> должны знать, что их ядро использует параметры загрузки так же как и установочный CD. Например, если необходимо разрешить поддержку устройств SCSI, добавьте <code>doscsi</code> как параметр ядра.
</p><p>Теперь сохраните файл и выйдите.
</p><p>To finish up, run <span style="font-family: monospace; font-size: 95%">/sbin/lilo</span> so LILO can apply the <span style="font-family: monospace; font-size: 95%">/etc/lilo.conf</span> settings to the system (I.E. install itself on the disk). Keep in mind that <span style="font-family: monospace; font-size: 95%">/sbin/lilo</span> must be executed each time a new kernel is installed or a change has been made to the <span style="font-family: monospace; font-size: 95%">lilo.conf</span> file in order for the system to boot if the filename of the kernel has changed.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>/sbin/lilo</code></div></div>
<h2><span class="mw-headline" id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.BD.D1.8B.D0.B9_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4:_.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_efibootmgr">Альтернативный метод: Использование efibootmgr</span></h2>
<p>On UEFI based systems, the boot loader itself is the UEFI firmware of the system. Such systems do not need additional boot loaders to help boot the system, although EFI-based bootloaders do exist to extend the functionality of UEFI systems during boot.
</p><p>The <a rel="nofollow" class="external text" href="https://packages.gentoo.org/packages/sys-boot/efibootmgr">sys-boot/efibootmgr</a> application is not a boot loader, but a tool to interact with the UEFI firmware and update its settings, so that the Linux kernel that was previously installed can be booted with additional options (if necessary), or to allow multiple boot entries. This interaction is done through the EFI variables (hence the need for the support of EFI vars in the past).
</p>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />efibootmgr is <i>not</i> a requirement to boot from an UEFI system. The Linux kernel itself can (and will) be booted immediately, and additional boot options can be made part of the Linux kernel itself (there is a kernel configuration that allows the user to specify the boot parameters). Even an initramfs can be made part of the kernel itself.</div>
<p>First install the software:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>emerge --ask sys-boot/efibootmgr</code></div></div> 
<p>Next, tell the UEFI firmware that a boot entry called "Gentoo" is to be created, which has the freshly installed Linux kernel booted:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>efibootmgr --create --disk /dev/sda --part 2 --label "Gentoo" --loader "\efi\boot\bootx64.efi"</code></div></div>
<p>If an initial ram file system (initramfs) is used, add the proper boot option to it:
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>efibootmgr -c -d /dev/sda -p 2 -L "Gentoo" -l "\efi\boot\bootx64.efi" initrd='\initramfs-genkernel-amd64-3.16.5-gentoo'</code></div></div>
<div class="alert alert-info gw-box" style="padding-top: 8px; padding-bottom: 8px;"><strong><i class="fa fa-sticky-note-o fa-rotate-180"></i> Заметка</strong><br />The use of <kbd style="color: black; font-size: small; border: 0.2em solid; border-color: #DDD #BBB #BBB #DDD; padding: 0 0.4em; background: #EEE; white-space: nowrap;">\</kbd> as directory separator is mandatory when using EFI definitions.</div>
<p>With these changes done, when the system reboots, a boot entry called "Gentoo" will be available.
</p><p><br />
</p>
<h2><span class="mw-headline" id=".D0.9F.D0.B5.D1.80.D0.B5.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B">Перезагрузка системы</span></h2>
<p>Выйдите из chroot среды и размонтируйте все смонтированные разделы.	Затем введите ту самую волшебную команду, которая запускает последний настоящий тест: <span style="font-family: monospace; font-size: 95%; font-weight: bold;">reboot</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>exit</code></div></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">cdimage ~#</code><span class="tripleclick-separator"></span><code>cd
</code></div><div><code style="color: #ef2929; font-weight: bold;">cdimage ~#</code><span class="tripleclick-separator"></span><code>umount -l /mnt/gentoo/dev{/shm,/pts,}
</code></div><div><code style="color: #ef2929; font-weight: bold;">cdimage ~#</code><span class="tripleclick-separator"></span><code>umount /mnt/gentoo{/boot,/sys,/proc,}
</code></div><div><code style="color: #ef2929; font-weight: bold;">cdimage ~#</code><span class="tripleclick-separator"></span><code>reboot</code></div></div>
<p>Естественно, не забудьте вынуть загрузочный компакт-диск, иначе он загрузится сам вместо вашей новой системы Gentoo.
</p><p>Загрузив вновь установленную систему, переходите к <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">завершению установки Gentoo</a>.
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Tools/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Установка системных средств</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Installation/Finalizing/ru.html" title="Следующая часть" class="btn btn-default">Завершение &#8594;</a></div>
<p><br />
</p><p><br />
</p>
<div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a href="de.html" title="Handbuch:AMD64/Komplett/Installation (100% translated)" class="mw-pt-progress mw-pt-progress--complete">Deutsch</a> • ‎<a href="../Installation.html" title="Handbook:AMD64/Full/Installation (100% translated)" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete">English</a> • ‎<a href="es.html" title="Handbook:AMD64/Full/Installation/es (100% translated)" class="mw-pt-progress mw-pt-progress--complete">español</a> • ‎<a href="fr.html" title="Handbook:AMD64/Full/Installation/fr (100% translated)" class="mw-pt-progress mw-pt-progress--complete">français</a> • ‎<a href="ja.html" title="ハンドブック:AMD64/フル/インストール (100% translated)" class="mw-pt-progress mw-pt-progress--complete">日本語</a> • ‎<a href="ko.html" title="Handbook:AMD64/Full/Installation/ko (100% translated)" class="mw-pt-progress mw-pt-progress--complete">한국어</a> • ‎<a href="pt-br.html" title="Manual:AMD64/Completo/Instalação (100% translated)" class="mw-pt-progress mw-pt-progress--complete">português do Brasil</a> • ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">русский</span> • ‎<a href="zh-cn.html" title="手册：AMD64/完整/安装 (100% translated)" class="mw-pt-progress mw-pt-progress--complete">中文（中国大陆）‎</a></div></div>
<table style="width: 15em; font-size: 90%; border: 1px solid #463c65; background-color: #f9f9f9; color: black; margin-bottom: 0.5em; margin-left: 1em; padding: 0.2em; float: right; clear: right; text-align:center;">
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Установка
</th></tr>
<tr>
<td> <a href="../../Installation/About/ru.html" title="Handbook:AMD64/Installation/About/ru">Об установке</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Media/ru.html" title="Handbook:AMD64/Installation/Media/ru">Выбор подходящего источника для установки</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Networking/ru.html" title="Handbook:AMD64/Installation/Networking/ru">Настройка сети</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Disks/ru.html" title="Handbook:AMD64/Installation/Disks/ru">Подготовка дисков</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Stage/ru.html" title="Handbook:AMD64/Installation/Stage/ru">Установка stage3</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Base/ru.html" title="Handbook:AMD64/Installation/Base/ru">Установка базовой системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Kernel/ru.html" title="Handbook:AMD64/Installation/Kernel/ru">Настройка ядра</a>
</td></tr>
<tr>
<td> <a href="../../Installation/System/ru.html" title="Handbook:AMD64/Installation/System/ru">Настройка системы</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Tools/ru.html" title="Handbook:AMD64/Installation/Tools/ru">Установка системных средств</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Bootloader/ru.html" title="Handbook:AMD64/Installation/Bootloader/ru">Настройка начального загрузчика</a>
</td></tr>
<tr>
<td> <a href="../../Installation/Finalizing/ru.html" title="Handbook:AMD64/Installation/Finalizing/ru">Завершение</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Gentoo
</th></tr>
<tr>
<td> <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Введение в Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/USE/ru.html" title="Handbook:AMD64/Working/USE/ru">USE-флаги</a>
</td></tr>
<tr>
<td> <a href="../../Working/Features/ru.html" title="Handbook:AMD64/Working/Features/ru">Возможности Portage</a>
</td></tr>
<tr>
<td> <a href="../../Working/Initscripts/ru.html" title="Handbook:AMD64/Working/Initscripts/ru">Сценарии инициализации</a>
</td></tr>
<tr>
<td> <a href="../../Working/EnvVar/ru.html" title="Handbook:AMD64/Working/EnvVar/ru">Переменные окружения</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Работа с Portage
</th></tr>
<tr>
<td> <a href="../../Portage/Files/ru.html" title="Handbook:AMD64/Portage/Files/ru">Файлы и каталоги</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Variables/ru.html" title="Handbook:AMD64/Portage/Variables/ru">Переменные</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Branches/ru.html" title="Handbook:AMD64/Portage/Branches/ru">Смешение ветвей программного обеспечения</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Tools/ru.html" title="Handbook:AMD64/Portage/Tools/ru">Дополнительные средства</a>
</td></tr>
<tr>
<td> <a href="../../Portage/CustomTree/ru.html" title="Handbook:AMD64/Portage/CustomTree/ru">Отступление от официального дерева</a>
</td></tr>
<tr>
<td> <a href="../../Portage/Advanced/ru.html" title="Handbook:AMD64/Portage/Advanced/ru">Расширенные возможности</a>
</td></tr>
<tr>
<th style="text-align: center; background-color:#54487a; color: white;"> Настройка сети
</th></tr>
<tr>
<td> <a href="../../Networking/Introduction/ru.html" title="Handbook:AMD64/Networking/Introduction/ru">Начальная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Advanced/ru.html" title="Handbook:AMD64/Networking/Advanced/ru">Расширенная настройка</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Modular/ru.html" title="Handbook:AMD64/Networking/Modular/ru">Модульное построение сети</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Wireless/ru.html" title="Handbook:AMD64/Networking/Wireless/ru">Беспроводная сеть</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Extending/ru.html" title="Handbook:AMD64/Networking/Extending/ru">Добавляем функциональность</a>
</td></tr>
<tr>
<td> <a href="../../Networking/Dynamic/ru.html" title="Handbook:AMD64/Networking/Dynamic/ru">Динамическое управление</a>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.83.D1.87.D0.B5.D1.82.D0.BD.D1.8B.D0.BC.D0.B8_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D1.8F.D0.BC.D0.B8">Управление учетными записями</span></h2>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.83.D1.87.D0.B5.D1.82.D0.BD.D0.BE.D0.B9_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D0.B8_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.BE.D0.B2.D1.81.D0.B5.D0.B4.D0.BD.D0.B5.D0.B2.D0.BD.D0.BE.D0.B9_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B">Добавление учетной записи для повседневной работы</span></h3>
<p>Работа в учетной записи root (администратора) в системе Unix/Linux опасна, и ее следует всячески избегать. Поэтому настоятельно рекомендуется добавить учетную запись пользователя для повседневной работы.
</p><p>Членством пользователя в группах определяется, какие действия он сможет выполнять. В следующей таблице перечислено несколько важных групп.
</p>
<table class="table table-condensed table-striped" style="text-align: left; width: auto;">

<tr>
<th scope="col" width="25%"> Группа
</th>
<th scope="col" width="75%">Описание
</th></tr>
<tr>
<td> audio
</td>
<td> возможность доступа к аудиоустройствам.
</td></tr>
<tr>
<td> cdrom
</td>
<td> возможность прямого доступа к оптическим накопителям.
</td></tr>
<tr>
<td> floppy
</td>
<td> возможность прямого доступа к гибким дискам.
</td></tr>
<tr>
<td> games
</td>
<td> возможность играть в игры.
</td></tr>
<tr>
<td> portage
</td>
<td> возможность получать доступ к ограниченным ресурсам Portage.
</td></tr>
<tr>
<td> usb
</td>
<td> возможность доступа к устройствам USB.
</td></tr>
<tr>
<td> video
</td>
<td> возможность доступа к средствам видеозахвата и аппаратному ускорению видео.
</td></tr>
<tr>
<td> wheel
</td>
<td> возможность использования команды <span style="font-family: monospace; font-size: 95%; font-weight: bold;">su</span>.
</td></tr></table>
<p>Например, для создания учетной записи пользователя по имени <a href="../../../User_Larry.html" title="User:Larry">larry</a>, входящего в группы <i>wheel</i>, <i>users</i> и <i>audio</i>, сначала войдите в систему как root (только root может создавать учетные записи пользователей), а затем запустите <span style="font-family: monospace; font-size: 95%; font-weight: bold;">useradd</span>:
</p>
<div class="cmd-box"><div><code style="color: white; font-weight: bold;">Login:</code><span class="tripleclick-separator"></span><code>root</code></div><pre>
Password: (Enter the root password)
</pre></div>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>useradd -m -G users,wheel,audio -s /bin/bash larry
</code></div><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>passwd larry</code></div><pre>
Password: (Enter the password for larry)
Re-enter password: (Re-enter the password to verify)
</pre></div>
<p>Если пользователю потребуется выполнить задачу от имени root, для временного получения привилегий root можно использовать <span style="font-family: monospace; font-size: 95%; font-weight: bold;">su -</span>. Другой способ - пользоваться пакетом <a href="../../../Sudo/ru.html" title="Sudo/ru">sudo</a>, который при правильной настройке вполне безопасен.
</p>
<h2><span class="mw-headline" id=".D0.9E.D1.87.D0.B8.D1.81.D1.82.D0.BA.D0.B0_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0">Очистка диска</span></h2>
<h3><span class="mw-headline" id=".D0.A3.D0.B4.D0.B0.D0.BB.D1.8F.D0.B5.D0.BC_tar-.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D1.8B">Удаляем tar-архивы</span></h3>
<p>Теперь, когда установка Gentoo закончена и система была перезагружена, если все прошло хорошо, теперь можно удалить скачанный архив tar со stage3 с жесткого диска. Помните, что он был скачан в каталог <span style="font-family: monospace; font-size: 95%">/</span>.
</p>
<div class="cmd-box"><div><code style="color: #ef2929; font-weight: bold;">root #</code><span class="tripleclick-separator"></span><code>rm /stage3-*.tar.bz2*</code></div></div>
<h2><span class="mw-headline" id=".D0.A7.D1.82.D0.BE_.D0.B4.D0.B5.D0.BB.D0.B0.D1.82.D1.8C_.D0.B4.D0.B0.D0.BB.D1.8C.D1.88.D0.B5">Что делать дальше</span></h2>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.BA.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.86.D0.B8.D1.8F">Документация</span></h3>
<p>Что же делать дальше? Какие у вас появились возможности? На что стоит взглянуть прежде всего? Gentoo дает своим пользователям богатый выбор возможностей, а следовательно, и множество документированных (или не очень) свойств.
</p><p>Вам обязательно нужно прочитать следующую часть настольной книги Gentoo, <a href="../../Working/Portage/ru.html" title="Handbook:AMD64/Working/Portage/ru">Работа с Gentoo</a>, в которой рассказывается, как поддерживать программное обеспечение в актуальном состоянии, как доустанавливать программы, что такое USE-флаги, как работает система инициализации в Gentoo и т.д.
</p><p>Кроме настольной книги вы можете также исследовать другие уголки Gentoo Wiki, чтобы найти дополнительную документацию, предоставленную сообществом. Команда по документированию Gentoo предлагает <a href="../../../Project_Documentation/Overview.html" title="Project:Documentation/Overview">обзор документации</a>, в котором вы найдете прекрасный набор Wiki-статей. Например, данный обзор ссылается на <a href="../../../Localization/Guide/ru.html" title="Localization/Guide/ru">Руководство по локализации</a>, с помощью которого вы сделаете систему более приспособленной под ваши нужды.
</p>
<h3><span class="mw-headline" id="Gentoo_.D0.B2_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.BD.D0.B5.D1.82.D0.B5">Gentoo в интернете</span></h3>
<p>Естественно, мы всегда рады видеть вас на <a rel="nofollow" class="external text" href="https://forums.gentoo.org/">форумах Gentoo</a>, как и на любом из множества <a rel="nofollow" class="external text" href="https://www.gentoo.org/get-involved/irc-channels/">IRC-каналов Gentoo</a>.
</p><p>Кроме того, мы можем предложить вашему вниманию <a rel="nofollow" class="external text" href="https://www.gentoo.org/get-involved/mailing-lists/">несколько списков рассылки</a>, открытых для всех наших пользователей. Сведения о порядке подписки находятся на той же странице.
</p><p>Наслаждайтесь вашей установкой!&#160;:&#41;
</p><p><br />
</p>
<div class="btn-group btn-group-justified"><a href="../../Installation/Bootloader/ru.html" title="Предыдущая часть" class="btn btn-default">&#8592; Настройка начального загрузчика</a> <a href="../../ru.html" title="Handbook:AMD64/ru" class="btn btn-default">К содержанию</a> <a href="../../Working/Portage/ru.html" title="Следующая часть" class="btn btn-default">Введение в Portage &#8594;</a></div>
<p><br />
</p><p><br />
<span class="error"><strong>Warning:</strong> Display title "Gentoo Linux amd64 Настольная книга: Установка Gentoo" overrides earlier display title "Handbook:AMD64/Full/Installation".</span>
</p><p><br />
</p>
<!-- 
NewPP limit report
Cached time: 20160112144151
Cache expiry: 86400
Dynamic content: false
CPU time usage: 5.380 seconds
Real time usage: 5.702 seconds
Preprocessor visited node count: 24332/1000000
Preprocessor generated node count: 15211/1000000
Post‐expand include size: 1541250/2097152 bytes
Template argument size: 98186/2097152 bytes
Highest expansion depth: 17/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00% 3918.102      1 - Handbook:Parts/Full/Installation/ru
100.00% 3918.102      1 - -total
 33.09% 1296.563    139 - Template:RootCmd
 30.54% 1196.582    164 - Template:GenericCmd
 19.73%  773.172     11 - Handbook:Parts/TOC/ru
 14.12%  553.147      1 - Handbook:AMD64/Installation/Disks/ru
 14.03%  549.787      1 - Handbook:Parts/Installation/Disks/ru
 12.51%  490.093      1 - Handbook:AMD64/Installation/Base/ru
 12.42%  486.711      1 - Handbook:Parts/Installation/Base/ru
 11.18%  438.070      1 - Handbook:AMD64/Installation/Media/ru
-->

<!-- Saved in parser cache with key gentoo-wiki:pcache:idhash:77388-0!*!0!!en!*!* and timestamp 20160112144145 and revision id 229888
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Installation/ru&amp;oldid=229888">http://wiki.gentoo.org/index.php?title=Handbook:AMD64/Full/Installation/ru&amp;oldid=229888</a>"</div>
															<div id='catlinks' class='catlinks catlinks-allhidden'></div>														<!-- end content -->

													</div>
					</div>
				</div>
			</div>
		</div>

			<footer>
		<div class="container">
			<div class="row">
				<div class="col-xs-12 col-md-offset-2 col-md-7">
											<div class="spacer"></div>
						<ul id="f-list">
																							<li id="lastmod"> This page was last modified on 4 January 2015, at 15:34.</li>
																															<li id="privacy"><a href="../../../Gentoo_Wiki_Privacy_policy.html" title="Gentoo Wiki:Privacy policy">Privacy policy</a></li>
																							<li id="about"><a href="../../../Gentoo_Wiki_About.html" title="Gentoo Wiki:About">About Gentoo Wiki</a></li>
																							<li id="disclaimer"><a href="../../../Gentoo_Wiki_General_disclaimer.html" title="Gentoo Wiki:General disclaimer">Disclaimers</a></li>
													</ul>
									</div>
				<div class="col-xs-12 col-md-3">
					<!-- No questions or comments, the Wiki has enough information on how to contact us. -->
				</div>
			</div>
			<div class="row">
				<div class="col-xs-3 col-md-2">
					<ul class="footerlinks three-icons">
						<li><a href="https://twitter.com/gentoo" title="@Gentoo on Twitter"><span class="fa fa-twitter fa-fw"></span></a></li>
						<li><a href="https://plus.google.com/+Gentoo" title="+Gentoo on Google+"><span class="fa fa-google-plus fa-fw"></span></a></li>
						<li><a href="https://www.facebook.com/gentoo.org" title="Gentoo on Facebook"><span class="fa fa-facebook fa-fw"></span></a></li>
					</ul>
				</div>
				<div class="col-xs-9 col-md-9">
					<strong>&copy; 2001&ndash;2016 Gentoo Foundation, Inc.</strong><br />
					<small>
						Gentoo is a trademark of the Gentoo Foundation, Inc.
						The contents of this document, unless otherwise expressly stated, are licensed under the
						<a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">CC-BY-SA-3.0</a> license.
						The <a href="https://www.gentoo.org/inside-gentoo/foundation/name-logo-guidelines.html">Gentoo Name and Logo Usage Guidelines</a> apply.
					</small>
				</div>
			</div>
		</div>
	</footer>
	
		<script>
			window.RLQ = window.RLQ || []; window.RLQ.push( function () {
				$.getScript("https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.js");
			} );
		</script>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});
} );</script>
<link rel="stylesheet" href="https://wiki.gentoo.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.skinning.content.externallinks&amp;only=styles&amp;skin=tyrian" />
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.load(["ext.smw.tooltips","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.uls.pt"]);
} );</script><script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['setDocumentTitle', "Handbook:AMD64/Full/Installation/ru"]);
  _paq.push(['setIgnoreClasses', 'image']);
  _paq.push(['trackPageView']);
  _paq.push(['disableCookies']);
  _paq.push(['enableLinkTracking']);
  
  (function() {
    var u="http://piwik.gentoo.org//";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="http://piwik.gentoo.org//piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":5959});
} );</script></body>
<!-- Mirrored from wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation/ru by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2016 17:23:42 GMT -->
</html>