Comunque diventa root e vai nella directory dei sorgenti del kernel:
Codice:
$ su -
Password:
# cd /usr/src/linux
# make menuconfig

ora, segui l'alberatura delle voci consigliata da lucapost, e spostati sulle voci relative alla 3com (ti assicuro che la voce 'help' può essere molto comoda per identificare il driver corretto).

A questo punto devi decidere come compilare il driver:
- Statico: Il driver sara' incluso direttamente del kernel; sarà più veloce al caricamento ma non hai la possibilità di caricarlo/scaricarlo in tempo reale. Usa questa modalità se non cambi spesso la scheda di rete.
- Dinamico (modulo): Il driver sarà compilato come modulo. In questo caso sarà leggermente più lento a caricare (questione di una frazione di secondo comunque) e ti permetterà di caricare/scaricare il driver in tempo reale. Usa questa modalità se cambi spesso la scheda di rete, o se preverisci liberare la memoria quando non la utilizzi (in ogni caso ha bisogno di intervento manuale).

Una volta che hai scelto, seleziona la voce del driver fino ad ottenenre un asterisco '*' (driver statico) o una 'M' (modulo).
Seleziona ora le voci <Esci> e rispondi 'Yes' quando ti chiede se salvare le modifiche.

Tornato al terminale lancia
Codice:
# make && make modules_install

Complimenti! Hai terminato la prima ricompilazione del kernel :D

Ora non ti resta che montare la /boot (se l'hai in una partizione differente) e copiare i file necessari:
Codice:
# mount /boot
# pwd
/usr/src/linux
# cp arch/i386/boot/bzImage /boot/ImmagineKernel-2.6.18 (<---- Sostituisci questo nome in quello che vuoi)


In genere io copio anche il .config ed il System.map, per poter risalire alle mie configurazioni anche su kernel differenti
Codice:
# cp .config /boot/ConfigKernel-2.6.18 (<---- Sostituisci questo nome in quello che vuoi)
# cp System.map /boot/System.map-2.6.18 (<---- Sostituisci questo nome in quello che vuoi)


A questo punto modifica il file del bootloader (/boot/grub/grub.conf) per caricare i nuovi file che hai copiato e riavvia la macchina.

Se hai fatto tutto corretto e compilato il driver staticamente, al riavvio avrai la scheda di rete funzionante.
Se hai compilato il driver come modulo, utilizza
Codice:
# modprobe -l

per avere la lista dei moduli e trova il nome del tuo e caricalo con
Codice:
# modprobe <nomedriver>
.

Per rimuverlo puoi utilizzare il comando
Codice:
# rmmod <nomedriver>

oppure
Codice:
# modprobe -r <nomedriver>


Per il caricamento automatico all'avvio non saprei, non uso i moduli
